{"ast":null,"code":"var _jsxFileName = \"/Users/henrikpetersson/Desktop/Webbprojekt/makeiteasy/src/Food2Guide.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { LinkIcon, MagnifyingGlassIcon, CheckCircleIcon, ArrowDownTrayIcon, ArrowRightOnRectangleIcon, UserCircleIcon, SparklesIcon, FireIcon } from '@heroicons/react/24/outline';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_BASE = 'http://localhost:8000';\nconst Header = _ref => {\n  let {\n    currentUser,\n    handleLogout,\n    initiateGoogleSignIn\n  } = _ref;\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    className: \"bg-white/80 backdrop-blur-sm border-b border-gray-200/80 shadow-sm sticky top-0 z-50 font-poppins\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto px-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center py-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-3\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"h-9 w-auto\",\n            src: \"/logo.png\",\n            alt: \"Food2Guide\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 20,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 19,\n          columnNumber: 9\n        }, this), currentUser ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(UserCircleIcon, {\n              className: \"h-6 w-6 text-gray-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 25,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-700 font-medium hidden sm:block\",\n              children: [\"Welcome, \", currentUser.full_name || currentUser.email]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 26,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 24,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleLogout,\n            className: \"flex items-center gap-2 text-sm text-gray-600 hover:text-red-600 transition-colors\",\n            children: [/*#__PURE__*/_jsxDEV(ArrowRightOnRectangleIcon, {\n              className: \"h-5 w-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 29,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"hidden sm:block\",\n              children: \"Sign Out\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 30,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 28,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 11\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: initiateGoogleSignIn,\n            className: \"flex items-center justify-center gap-2 py-2 px-4 border border-gray-300 rounded-lg shadow-sm hover:shadow-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 transition-all\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"h-4 w-4 mr-2\",\n              src: \"https://upload.wikimedia.org/wikipedia/commons/c/c1/Google_%22G%22_logo.svg\",\n              alt: \"Google logo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 39,\n              columnNumber: 17\n            }, this), \"Sign In with Google\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 3\n  }, this);\n};\n_c = Header;\nconst AuthForm = _ref2 => {\n  let {\n    handleLogin,\n    handleRegister,\n    setAuthTab,\n    authTab\n  } = _ref2;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mt-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center gap-2 bg-gray-100 p-1 rounded-xl shadow-inner\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setAuthTab('login'),\n        className: `flex-1 px-4 py-2 text-sm font-semibold rounded-lg transition-colors ${authTab === 'login' ? 'bg-white text-green-700 shadow-sm' : 'text-gray-500 hover:bg-gray-200'}`,\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setAuthTab('register'),\n        className: `flex-1 px-4 py-2 text-sm font-semibold rounded-lg transition-colors ${authTab === 'register' ? 'bg-white text-green-700 shadow-sm' : 'text-gray-500 hover:bg-gray-200'}`,\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pt-8\",\n      children: authTab === 'login' ? /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleLogin,\n        className: \"space-y-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"login-email\",\n            className: \"block text-sm font-medium text-gray-700\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            name: \"email\",\n            id: \"login-email\",\n            required: true,\n            className: \"mt-1 block w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"login-password\",\n            className: \"block text-sm font-medium text-gray-700\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            name: \"password\",\n            id: \"login-password\",\n            required: true,\n            className: \"mt-1 block w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-xl shadow-md hover:shadow-lg transition-transform transform hover:scale-[1.02]\",\n          children: \"Sign In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleRegister,\n        className: \"space-y-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"register-name\",\n            className: \"block text-sm font-medium text-gray-700\",\n            children: \"Full Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"name\",\n            id: \"register-name\",\n            required: true,\n            className: \"mt-1 block w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"register-email\",\n            className: \"block text-sm font-medium text-gray-700\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            name: \"email\",\n            id: \"register-email\",\n            required: true,\n            className: \"mt-1 block w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"register-password\",\n            className: \"block text-sm font-medium text-gray-700\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            name: \"password\",\n            id: \"register-password\",\n            required: true,\n            className: \"mt-1 block w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-xl shadow-md hover:shadow-lg transition-transform transform hover:scale-[1.02]\",\n          children: \"Create Account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 18\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n_c2 = AuthForm;\nconst JobStatus = _ref3 => {\n  _s();\n  let {\n    job,\n    onReset\n  } = _ref3;\n  const [status, setStatus] = useState(job.status);\n  const [details, setDetails] = useState(job.details);\n  const [pdfUrl, setPdfUrl] = useState(null);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    if (status === 'completed' || status === 'failed') {\n      if (job.pdf_url) setPdfUrl(job.pdf_url);\n      return;\n    }\n    const interval = setInterval(async () => {\n      try {\n        const response = await fetch(`${API_BASE}/api/v1/status/${job.job_id}`);\n        if (!response.ok) throw new Error('Network response was not ok');\n        const data = await response.json();\n        setStatus(data.status);\n        setDetails(data.details);\n        if (data.status === 'completed') {\n          setPdfUrl(data.pdf_url);\n          clearInterval(interval);\n        } else if (data.status === 'failed') {\n          setError(data.details);\n          clearInterval(interval);\n        }\n      } catch (err) {\n        setError('Failed to fetch status.');\n        clearInterval(interval);\n      }\n    }, 2000);\n    return () => clearInterval(interval);\n  }, [job.job_id, status, job.pdf_url]);\n  if (status === 'failed') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-semibold text-red-600\",\n        children: \"Generation Failed\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 my-4\",\n        children: error || details\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onReset,\n        className: \"bg-gray-700 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-800 transition-colors\",\n        children: \"Start Over\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this);\n  }\n  if (status === 'completed' && pdfUrl) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-semibold text-green-600\",\n        children: \"Recipe Ready!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 my-4\",\n        children: \"Your recipe has been generated successfully.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-4 justify-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          href: `${API_BASE}${pdfUrl}`,\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          className: \"inline-flex items-center gap-2 bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors\",\n          children: [/*#__PURE__*/_jsxDEV(ArrowDownTrayIcon, {\n            className: \"h-5 w-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this), \" Download PDF\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onReset,\n          className: \"bg-gray-200 text-gray-800 font-bold py-3 px-6 rounded-lg hover:bg-gray-300 transition-colors\",\n          children: \"Create Another\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center items-center mb-4\",\n      children: /*#__PURE__*/_jsxDEV(SparklesIcon, {\n        className: \"h-8 w-8 text-green-500 animate-pulse\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-xl font-semibold text-gray-800\",\n      children: \"Processing Your Video...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-gray-600 mt-2\",\n      children: details\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-8\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onReset,\n        className: \"bg-gray-200 text-gray-700 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300\",\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 152,\n    columnNumber: 5\n  }, this);\n};\n_s(JobStatus, \"+q29PUD4dJuGc5w6WZPUq0rJiEA=\");\n_c3 = JobStatus;\nexport default function Food2Guide() {\n  _s2();\n  const [activeTab, setActiveTab] = useState('paste');\n  const [videoUrl, setVideoUrl] = useState('');\n  const [searchQuery, setSearchQuery] = useState('recipe');\n  const [language, setLanguage] = useState('en');\n  const [searchResults, setSearchResults] = useState([]);\n  const [selectedVideoId, setSelectedVideoId] = useState(null);\n  const [job, setJob] = useState(null);\n  const [authToken, setAuthToken] = useState(localStorage.getItem('authToken'));\n  const [currentUser, setCurrentUser] = useState(null);\n  const [authTab, setAuthTab] = useState('login');\n  const [isSearching, setIsSearching] = useState(false);\n  const languages = [{\n    code: 'en',\n    name: 'English',\n    flag: '🇺🇸'\n  }, {\n    code: 'sv',\n    name: 'Svenska',\n    flag: '🇸🇪'\n  }, {\n    code: 'no',\n    name: 'Norsk',\n    flag: '🇳🇴'\n  }, {\n    code: 'da',\n    name: 'Dansk',\n    flag: '🇩🇰'\n  }, {\n    code: 'de',\n    name: 'Deutsch',\n    flag: '🇩🇪'\n  }, {\n    code: 'fr',\n    name: 'Français',\n    flag: '🇫🇷'\n  }, {\n    code: 'es',\n    name: 'Español',\n    flag: '🇪🇸'\n  }];\n  useEffect(() => {\n    const token = localStorage.getItem('authToken');\n    if (token) {\n      setAuthToken(token);\n    }\n  }, []);\n  useEffect(() => {\n    if (authToken) {\n      checkAuthStatus();\n    } else {\n      setCurrentUser(null);\n    }\n    const urlParams = new URLSearchParams(window.location.search);\n    const code = urlParams.get('code');\n    if (code) {\n      handleGoogleOAuthCallback(code);\n      window.history.replaceState({}, document.title, window.location.pathname);\n    }\n  }, [authToken]);\n  const checkAuthStatus = async () => {\n    if (authToken) {\n      try {\n        const response = await fetch(`${API_BASE}/api/v1/auth/me`, {\n          headers: {\n            'Authorization': `Bearer ${authToken}`\n          }\n        });\n        if (response.ok) {\n          const user = await response.json();\n          setCurrentUser(user);\n        } else {\n          handleLogout();\n        }\n      } catch (error) {\n        console.error('Auth check error:', error);\n        handleLogout();\n      }\n    }\n  };\n  const handleAuthAction = async (url, body) => {\n    try {\n      const response = await fetch(url, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(body)\n      });\n      const data = await response.json();\n      if (response.ok) {\n        localStorage.setItem('authToken', data.access_token);\n        setAuthToken(data.access_token);\n      } else {\n        alert(data.detail || 'Authentication failed');\n      }\n    } catch (error) {\n      console.error('Auth action error:', error);\n      alert('An error occurred. Please try again.');\n    }\n  };\n  const handleLogin = e => {\n    e.preventDefault();\n    const email = e.target.email.value;\n    const password = e.target.password.value;\n    handleAuthAction(`${API_BASE}/api/v1/auth/login`, {\n      email,\n      password\n    });\n  };\n  const handleRegister = e => {\n    e.preventDefault();\n    const name = e.target.name.value;\n    const email = e.target.email.value;\n    const password = e.target.password.value;\n    handleAuthAction(`${API_BASE}/api/v1/auth/register`, {\n      full_name: name,\n      email,\n      password\n    });\n  };\n  const handleLogout = () => {\n    localStorage.removeItem('authToken');\n    setAuthToken(null);\n    setCurrentUser(null);\n  };\n  const initiateGoogleSignIn = async () => {\n    try {\n      const response = await fetch(`${API_BASE}/api/v1/auth/google/url`);\n      if (response.ok) {\n        const data = await response.json();\n        window.location.href = data.url;\n      } else {\n        console.error(\"Could not get Google auth URL\");\n      }\n    } catch (error) {\n      console.error(\"Error initiating Google sign in:\", error);\n    }\n  };\n  const handleGoogleOAuthCallback = async code => {\n    try {\n      const response = await fetch(`${API_BASE}/api/v1/auth/google/callback`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          code\n        })\n      });\n      const data = await response.json();\n      if (response.ok) {\n        localStorage.setItem('authToken', data.access_token);\n        setAuthToken(data.access_token);\n      } else {\n        alert(data.detail || 'Google sign-in failed');\n      }\n    } catch (error) {\n      console.error('Google OAuth callback error:', error);\n      alert('An error occurred during Google sign-in.');\n    }\n  };\n  const searchYouTube = async () => {\n    if (!searchQuery) return;\n    setIsSearching(true);\n    setSearchResults([]);\n    setSelectedVideoId(null);\n    try {\n      const response = await fetch(`${API_BASE}/api/v1/search?query=${encodeURIComponent(searchQuery)}`);\n      const data = await response.json();\n      setSearchResults(data.videos || []);\n    } catch (error) {\n      console.error('Search error:', error);\n    } finally {\n      setIsSearching(false);\n    }\n  };\n  const processVideo = async () => {\n    if (!videoUrl) return;\n    setJob({\n      status: 'starting',\n      details: 'Initializing job...',\n      job_id: 'temp'\n    });\n    try {\n      const response = await fetch(`${API_BASE}/api/v1/generate`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${authToken}`\n        },\n        body: JSON.stringify({\n          youtube_url: videoUrl,\n          language: language\n        })\n      });\n      const data = await response.json();\n      if (response.status === 202) {\n        setJob({\n          ...data,\n          status: data.status || 'processing',\n          details: data.details || 'Job submitted.'\n        });\n      } else {\n        setJob({\n          status: 'failed',\n          details: data.detail || 'Failed to start job.'\n        });\n      }\n    } catch (error) {\n      console.error('Processing error:', error);\n      setJob({\n        status: 'failed',\n        details: 'An unexpected error occurred.'\n      });\n    }\n  };\n  const resetAll = () => {\n    setVideoUrl('');\n    setSearchQuery('recipe');\n    setSearchResults([]);\n    setSelectedVideoId(null);\n    setJob(null);\n  };\n  if (job) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"font-poppins bg-gray-50 min-h-screen flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full max-w-2xl bg-white p-8 sm:p-12 rounded-2xl shadow-lg\",\n        children: /*#__PURE__*/_jsxDEV(JobStatus, {\n          job: job,\n          onReset: resetAll\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"font-poppins bg-gradient-to-br from-green-50 to-cyan-50 min-h-screen\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      currentUser: currentUser,\n      handleLogout: handleLogout,\n      initiateGoogleSignIn: initiateGoogleSignIn\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"max-w-4xl mx-auto p-8 mt-10 bg-white/90 backdrop-blur-xl rounded-2xl shadow-2xl border border-gray-200/80\",\n      children: !currentUser ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-md mx-auto text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-4xl font-bold tracking-tight text-gray-800 sm:text-5xl\",\n          children: \"Welcome to Food2Guide\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-6 text-lg text-gray-600\",\n          children: \"Please sign in to continue. Create an account or use Google to get started instantly.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(AuthForm, {\n          handleLogin: handleLogin,\n          handleRegister: handleRegister,\n          setAuthTab: setAuthTab,\n          authTab: authTab\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 14\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 12\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center mb-12\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-4xl font-bold tracking-tight text-gray-800 sm:text-5xl\",\n            children: [\"Turn any food video into a \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-green-600\",\n              children: \"beautiful guide\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 44\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-4 text-lg text-gray-600 max-w-2xl mx-auto\",\n            children: \"Paste a link from YouTube, TikTok, or Instagram, and we'll transform it into an easy-to-follow PDF recipe, complete with step-by-step images.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white p-4 sm:p-6 rounded-2xl shadow-lg border border-gray-100\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex border-b border-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setActiveTab('paste'),\n              className: `flex-1 py-3 text-sm font-semibold transition-colors focus:outline-none ${activeTab === 'paste' ? 'text-green-600 border-b-2 border-green-600' : 'text-gray-500 hover:text-gray-700'}`,\n              children: \"Paste Link\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setActiveTab('search'),\n              className: `flex-1 py-3 text-sm font-semibold transition-colors focus:outline-none ${activeTab === 'search' ? 'text-green-600 border-b-2 border-green-600' : 'text-gray-500 hover:text-gray-700'}`,\n              children: \"Search Video\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 15\n          }, this), activeTab === 'paste' ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pt-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(LinkIcon, {\n                className: \"h-5 w-5 text-gray-400 absolute left-4 top-1/2 -translate-y-1/2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 409,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: videoUrl,\n                onChange: e => setVideoUrl(e.target.value),\n                placeholder: \"Paste your video link here (YouTube, TikTok, Instagram)\",\n                className: \"w-full pl-12 pr-4 py-3.5 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 transition\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 410,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 408,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pt-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(MagnifyingGlassIcon, {\n                className: \"h-5 w-5 text-gray-400 absolute left-4 top-1/2 -translate-y-1/2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 422,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: searchQuery,\n                onChange: e => setSearchQuery(e.target.value),\n                onKeyDown: e => e.key === 'Enter' && searchYouTube(),\n                placeholder: \"Search for a recipe video on YouTube...\",\n                className: \"w-full pl-12 pr-4 py-3.5 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 transition\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 423,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 421,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: searchYouTube,\n              disabled: isSearching,\n              className: \"mt-4 w-full bg-gray-700 hover:bg-gray-800 text-white font-bold py-3 px-4 rounded-xl shadow-md hover:shadow-lg transition-all disabled:bg-gray-400\",\n              children: isSearching ? 'Searching...' : 'Search'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 13\n        }, this), searchResults.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-gray-700 mb-4\",\n            children: \"Search Results\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\",\n            children: searchResults.map(video => /*#__PURE__*/_jsxDEV(\"div\", {\n              onClick: () => {\n                setSelectedVideoId(video.video_id);\n                setVideoUrl(`https://www.youtube.com/watch?v=${video.video_id}`);\n              },\n              className: `p-3 rounded-xl cursor-pointer transition-all ${selectedVideoId === video.video_id ? 'ring-4 ring-green-500 shadow-xl' : 'hover:shadow-lg hover:ring-2 hover:ring-green-300'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: video.thumbnail,\n                alt: video.title,\n                className: \"rounded-lg w-full\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 456,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm font-semibold mt-2 text-gray-800\",\n                children: video.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 457,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500\",\n                children: video.channel\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 458,\n                columnNumber: 23\n              }, this)]\n            }, video.video_id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 448,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-8 flex flex-col sm:flex-row items-center justify-between gap-6 p-6 bg-gray-50 rounded-2xl border\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"select\", {\n              value: language,\n              onChange: e => setLanguage(e.target.value),\n              className: \"appearance-none w-full sm:w-auto bg-white border border-gray-300 text-gray-700 py-3 pl-4 pr-10 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500\",\n              children: languages.map(lang => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: lang.code,\n                children: [lang.flag, \" \", lang.name]\n              }, lang.code, true, {\n                fileName: _jsxFileName,\n                lineNumber: 473,\n                columnNumber: 29\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"fill-current h-4 w-4\",\n                xmlns: \"http://www.w3.org/2000/svg\",\n                viewBox: \"0 0 20 20\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 477,\n                  columnNumber: 118\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 477,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 476,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 466,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: processVideo,\n            disabled: !videoUrl,\n            className: \"w-full sm:w-auto flex items-center justify-center gap-3 bg-green-600 hover:bg-green-700 text-white font-bold py-4 px-8 rounded-xl shadow-lg hover:shadow-xl transition-all disabled:bg-green-300 disabled:cursor-not-allowed transform hover:scale-105\",\n            children: [/*#__PURE__*/_jsxDEV(FireIcon, {\n              className: \"h-6 w-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 21\n            }, this), \"Generate Guide\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 465,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 369,\n    columnNumber: 5\n  }, this);\n}\n_s2(Food2Guide, \"HAcQtVNg988/wsbfTRib7dD+anM=\");\n_c4 = Food2Guide;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"Header\");\n$RefreshReg$(_c2, \"AuthForm\");\n$RefreshReg$(_c3, \"JobStatus\");\n$RefreshReg$(_c4, \"Food2Guide\");","map":{"version":3,"names":["React","useState","useEffect","useRef","LinkIcon","MagnifyingGlassIcon","CheckCircleIcon","ArrowDownTrayIcon","ArrowRightOnRectangleIcon","UserCircleIcon","SparklesIcon","FireIcon","jsxDEV","_jsxDEV","Fragment","_Fragment","API_BASE","Header","_ref","currentUser","handleLogout","initiateGoogleSignIn","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","full_name","email","onClick","_c","AuthForm","_ref2","handleLogin","handleRegister","setAuthTab","authTab","onSubmit","htmlFor","type","name","id","required","_c2","JobStatus","_ref3","_s","job","onReset","status","setStatus","details","setDetails","pdfUrl","setPdfUrl","error","setError","pdf_url","interval","setInterval","response","fetch","job_id","ok","Error","data","json","clearInterval","err","href","target","rel","_c3","Food2Guide","_s2","activeTab","setActiveTab","videoUrl","setVideoUrl","searchQuery","setSearchQuery","language","setLanguage","searchResults","setSearchResults","selectedVideoId","setSelectedVideoId","setJob","authToken","setAuthToken","localStorage","getItem","setCurrentUser","isSearching","setIsSearching","languages","code","flag","token","checkAuthStatus","urlParams","URLSearchParams","window","location","search","get","handleGoogleOAuthCallback","history","replaceState","document","title","pathname","headers","user","console","handleAuthAction","url","body","method","JSON","stringify","setItem","access_token","alert","detail","e","preventDefault","value","password","removeItem","searchYouTube","encodeURIComponent","videos","processVideo","youtube_url","resetAll","onChange","placeholder","onKeyDown","key","disabled","length","map","video","video_id","thumbnail","channel","lang","xmlns","viewBox","d","_c4","$RefreshReg$"],"sources":["/Users/henrikpetersson/Desktop/Webbprojekt/makeiteasy/src/Food2Guide.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { \n  LinkIcon, \n  MagnifyingGlassIcon,\n  CheckCircleIcon,\n  ArrowDownTrayIcon,\n  ArrowRightOnRectangleIcon,\n  UserCircleIcon,\n  SparklesIcon,\n  FireIcon,\n} from '@heroicons/react/24/outline';\n\nconst API_BASE = 'http://localhost:8000';\n\nconst Header = ({ currentUser, handleLogout, initiateGoogleSignIn }) => (\n  <header className=\"bg-white/80 backdrop-blur-sm border-b border-gray-200/80 shadow-sm sticky top-0 z-50 font-poppins\">\n    <div className=\"max-w-7xl mx-auto px-6\">\n      <div className=\"flex justify-between items-center py-4\">\n        <div className=\"flex items-center gap-3\">\n          <img className=\"h-9 w-auto\" src=\"/logo.png\" alt=\"Food2Guide\" />\n        </div>\n        {currentUser ? (\n          <div className=\"flex items-center gap-6\">\n            <div className=\"flex items-center gap-2\">\n                <UserCircleIcon className=\"h-6 w-6 text-gray-500\" />\n                <span className=\"text-sm text-gray-700 font-medium hidden sm:block\">Welcome, {currentUser.full_name || currentUser.email}</span>\n            </div>\n            <button onClick={handleLogout} className=\"flex items-center gap-2 text-sm text-gray-600 hover:text-red-600 transition-colors\">\n              <ArrowRightOnRectangleIcon className=\"h-5 w-5\" />\n              <span className=\"hidden sm:block\">Sign Out</span>\n            </button>\n          </div>\n        ) : (\n          <div className=\"flex items-center\">\n            <button \n              onClick={initiateGoogleSignIn} \n              className=\"flex items-center justify-center gap-2 py-2 px-4 border border-gray-300 rounded-lg shadow-sm hover:shadow-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 transition-all\"\n            >\n                <img className=\"h-4 w-4 mr-2\" src=\"https://upload.wikimedia.org/wikipedia/commons/c/c1/Google_%22G%22_logo.svg\" alt=\"Google logo\" />\n                Sign In with Google\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  </header>\n);\n\nconst AuthForm = ({ handleLogin, handleRegister, setAuthTab, authTab }) => (\n    <div className=\"mt-8\">\n        <div className=\"flex justify-center gap-2 bg-gray-100 p-1 rounded-xl shadow-inner\">\n            <button onClick={() => setAuthTab('login')} className={`flex-1 px-4 py-2 text-sm font-semibold rounded-lg transition-colors ${authTab === 'login' ? 'bg-white text-green-700 shadow-sm' : 'text-gray-500 hover:bg-gray-200'}`}>Login</button>\n            <button onClick={() => setAuthTab('register')} className={`flex-1 px-4 py-2 text-sm font-semibold rounded-lg transition-colors ${authTab === 'register' ? 'bg-white text-green-700 shadow-sm' : 'text-gray-500 hover:bg-gray-200'}`}>Register</button>\n        </div>\n        <div className=\"pt-8\">\n            {authTab === 'login' ? (\n                <form onSubmit={handleLogin} className=\"space-y-6\">\n                    <div>\n                        <label htmlFor=\"login-email\" className=\"block text-sm font-medium text-gray-700\">Email</label>\n                        <input type=\"email\" name=\"email\" id=\"login-email\" required className=\"mt-1 block w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500\" />\n                    </div>\n                    <div>\n                        <label htmlFor=\"login-password\" className=\"block text-sm font-medium text-gray-700\">Password</label>\n                        <input type=\"password\" name=\"password\" id=\"login-password\" required className=\"mt-1 block w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500\" />\n                    </div>\n                    <button type=\"submit\" className=\"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-xl shadow-md hover:shadow-lg transition-transform transform hover:scale-[1.02]\">Sign In</button>\n                </form>\n            ) : (\n                 <form onSubmit={handleRegister} className=\"space-y-6\">\n                    <div>\n                        <label htmlFor=\"register-name\" className=\"block text-sm font-medium text-gray-700\">Full Name</label>\n                        <input type=\"text\" name=\"name\" id=\"register-name\" required className=\"mt-1 block w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500\" />\n                    </div>\n                    <div>\n                        <label htmlFor=\"register-email\" className=\"block text-sm font-medium text-gray-700\">Email</label>\n                        <input type=\"email\" name=\"email\" id=\"register-email\" required className=\"mt-1 block w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500\" />\n                    </div>\n                    <div>\n                        <label htmlFor=\"register-password\" className=\"block text-sm font-medium text-gray-700\">Password</label>\n                        <input type=\"password\" name=\"password\" id=\"register-password\" required className=\"mt-1 block w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500\" />\n                    </div>\n                    <button type=\"submit\" className=\"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-xl shadow-md hover:shadow-lg transition-transform transform hover:scale-[1.02]\">Create Account</button>\n                </form>\n            )}\n        </div>\n    </div>\n);\n\nconst JobStatus = ({ job, onReset }) => {\n  const [status, setStatus] = useState(job.status);\n  const [details, setDetails] = useState(job.details);\n  const [pdfUrl, setPdfUrl] = useState(null);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (status === 'completed' || status === 'failed') {\n      if (job.pdf_url) setPdfUrl(job.pdf_url);\n      return;\n    }\n\n    const interval = setInterval(async () => {\n      try {\n        const response = await fetch(`${API_BASE}/api/v1/status/${job.job_id}`);\n        if (!response.ok) throw new Error('Network response was not ok');\n        \n        const data = await response.json();\n        setStatus(data.status);\n        setDetails(data.details);\n\n        if (data.status === 'completed') {\n          setPdfUrl(data.pdf_url);\n          clearInterval(interval);\n        } else if (data.status === 'failed') {\n          setError(data.details);\n          clearInterval(interval);\n        }\n      } catch (err) {\n        setError('Failed to fetch status.');\n        clearInterval(interval);\n      }\n    }, 2000);\n\n    return () => clearInterval(interval);\n  }, [job.job_id, status, job.pdf_url]);\n\n  if (status === 'failed') {\n    return (\n      <div className=\"text-center\">\n        <h3 className=\"text-xl font-semibold text-red-600\">Generation Failed</h3>\n        <p className=\"text-gray-600 my-4\">{error || details}</p>\n        <button onClick={onReset} className=\"bg-gray-700 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-800 transition-colors\">Start Over</button>\n      </div>\n    );\n  }\n\n  if (status === 'completed' && pdfUrl) {\n    return (\n      <div className=\"text-center\">\n        <h3 className=\"text-xl font-semibold text-green-600\">Recipe Ready!</h3>\n        <p className=\"text-gray-600 my-4\">Your recipe has been generated successfully.</p>\n        <div className=\"flex gap-4 justify-center\">\n          <a href={`${API_BASE}${pdfUrl}`} target=\"_blank\" rel=\"noopener noreferrer\" className=\"inline-flex items-center gap-2 bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors\">\n            <ArrowDownTrayIcon className=\"h-5 w-5\" /> Download PDF\n          </a>\n          <button onClick={onReset} className=\"bg-gray-200 text-gray-800 font-bold py-3 px-6 rounded-lg hover:bg-gray-300 transition-colors\">Create Another</button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"text-center\">\n      <div className=\"flex justify-center items-center mb-4\">\n        <SparklesIcon className=\"h-8 w-8 text-green-500 animate-pulse\" />\n      </div>\n      <h3 className=\"text-xl font-semibold text-gray-800\">Processing Your Video...</h3>\n      <p className=\"text-gray-600 mt-2\">{details}</p>\n      <div className=\"mt-8\">\n        <button onClick={onReset} className=\"bg-gray-200 text-gray-700 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300\">Cancel</button>\n      </div>\n    </div>\n  );\n};\n\n\nexport default function Food2Guide() {\n  const [activeTab, setActiveTab] = useState('paste');\n  const [videoUrl, setVideoUrl] = useState('');\n  const [searchQuery, setSearchQuery] = useState('recipe');\n  const [language, setLanguage] = useState('en');\n  const [searchResults, setSearchResults] = useState([]);\n  const [selectedVideoId, setSelectedVideoId] = useState(null);\n  const [job, setJob] = useState(null);\n  const [authToken, setAuthToken] = useState(localStorage.getItem('authToken'));\n  const [currentUser, setCurrentUser] = useState(null);\n  const [authTab, setAuthTab] = useState('login');\n  const [isSearching, setIsSearching] = useState(false);\n  \n  const languages = [\n    { code: 'en', name: 'English', flag: '🇺🇸' },\n    { code: 'sv', name: 'Svenska', flag: '🇸🇪' },\n    { code: 'no', name: 'Norsk', flag: '🇳🇴' },\n    { code: 'da', name: 'Dansk', flag: '🇩🇰' },\n    { code: 'de', name: 'Deutsch', flag: '🇩🇪' },\n    { code: 'fr', name: 'Français', flag: '🇫🇷' },\n    { code: 'es', name: 'Español', flag: '🇪🇸' },\n  ];\n\n  useEffect(() => {\n    const token = localStorage.getItem('authToken');\n    if (token) {\n      setAuthToken(token);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (authToken) {\n      checkAuthStatus();\n    } else {\n      setCurrentUser(null);\n    }\n\n    const urlParams = new URLSearchParams(window.location.search);\n    const code = urlParams.get('code');\n    if (code) {\n        handleGoogleOAuthCallback(code);\n        window.history.replaceState({}, document.title, window.location.pathname);\n    }\n  }, [authToken]);\n\n  const checkAuthStatus = async () => {\n    if (authToken) {\n      try {\n        const response = await fetch(`${API_BASE}/api/v1/auth/me`, {\n          headers: { 'Authorization': `Bearer ${authToken}` }\n        });\n        \n        if (response.ok) {\n          const user = await response.json();\n          setCurrentUser(user);\n        } else {\n          handleLogout();\n        }\n      } catch (error) {\n        console.error('Auth check error:', error);\n        handleLogout();\n      }\n    }\n  };\n\n  const handleAuthAction = async (url, body) => {\n    try {\n      const response = await fetch(url, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(body),\n      });\n      const data = await response.json();\n      if (response.ok) {\n        localStorage.setItem('authToken', data.access_token);\n        setAuthToken(data.access_token);\n      } else {\n        alert(data.detail || 'Authentication failed');\n      }\n    } catch (error) {\n      console.error('Auth action error:', error);\n      alert('An error occurred. Please try again.');\n    }\n  };\n\n  const handleLogin = (e) => {\n    e.preventDefault();\n    const email = e.target.email.value;\n    const password = e.target.password.value;\n    handleAuthAction(`${API_BASE}/api/v1/auth/login`, { email, password });\n  };\n\n  const handleRegister = (e) => {\n    e.preventDefault();\n    const name = e.target.name.value;\n    const email = e.target.email.value;\n    const password = e.target.password.value;\n    handleAuthAction(`${API_BASE}/api/v1/auth/register`, { full_name: name, email, password });\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem('authToken');\n    setAuthToken(null);\n    setCurrentUser(null);\n  };\n\n  const initiateGoogleSignIn = async () => {\n      try {\n          const response = await fetch(`${API_BASE}/api/v1/auth/google/url`);\n          if (response.ok) {\n              const data = await response.json();\n              window.location.href = data.url;\n          } else {\n              console.error(\"Could not get Google auth URL\");\n          }\n      } catch (error) {\n          console.error(\"Error initiating Google sign in:\", error);\n      }\n  };\n\n  const handleGoogleOAuthCallback = async (code) => {\n      try {\n          const response = await fetch(`${API_BASE}/api/v1/auth/google/callback`, {\n              method: 'POST',\n              headers: { 'Content-Type': 'application/json' },\n              body: JSON.stringify({ code }),\n          });\n          const data = await response.json();\n          if (response.ok) {\n              localStorage.setItem('authToken', data.access_token);\n              setAuthToken(data.access_token);\n          } else {\n              alert(data.detail || 'Google sign-in failed');\n          }\n      } catch (error) {\n          console.error('Google OAuth callback error:', error);\n          alert('An error occurred during Google sign-in.');\n      }\n  };\n\n  const searchYouTube = async () => {\n    if (!searchQuery) return;\n    setIsSearching(true);\n    setSearchResults([]);\n    setSelectedVideoId(null);\n    try {\n      const response = await fetch(`${API_BASE}/api/v1/search?query=${encodeURIComponent(searchQuery)}`);\n      const data = await response.json();\n      setSearchResults(data.videos || []);\n    } catch (error) {\n      console.error('Search error:', error);\n    } finally {\n      setIsSearching(false);\n    }\n  };\n\n  const processVideo = async () => {\n    if (!videoUrl) return;\n    setJob({ status: 'starting', details: 'Initializing job...', job_id: 'temp' });\n    try {\n      const response = await fetch(`${API_BASE}/api/v1/generate`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${authToken}`\n        },\n        body: JSON.stringify({ \n          youtube_url: videoUrl,\n          language: language\n        })\n      });\n      \n      const data = await response.json();\n      if (response.status === 202) {\n        setJob({ ...data, status: data.status || 'processing', details: data.details || 'Job submitted.' });\n      } else {\n        setJob({ status: 'failed', details: data.detail || 'Failed to start job.' });\n      }\n    } catch (error) {\n      console.error('Processing error:', error);\n      setJob({ status: 'failed', details: 'An unexpected error occurred.' });\n    }\n  };\n\n  const resetAll = () => {\n    setVideoUrl('');\n    setSearchQuery('recipe');\n    setSearchResults([]);\n    setSelectedVideoId(null);\n    setJob(null);\n  };\n  \n  if (job) {\n    return (\n      <div className=\"font-poppins bg-gray-50 min-h-screen flex items-center justify-center\">\n        <div className=\"w-full max-w-2xl bg-white p-8 sm:p-12 rounded-2xl shadow-lg\">\n          <JobStatus job={job} onReset={resetAll} />\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"font-poppins bg-gradient-to-br from-green-50 to-cyan-50 min-h-screen\">\n      <Header currentUser={currentUser} handleLogout={handleLogout} initiateGoogleSignIn={initiateGoogleSignIn} />\n      \n      <main className=\"max-w-4xl mx-auto p-8 mt-10 bg-white/90 backdrop-blur-xl rounded-2xl shadow-2xl border border-gray-200/80\">\n        {!currentUser ? (\n           <div className=\"max-w-md mx-auto text-center\">\n             <h1 className=\"text-4xl font-bold tracking-tight text-gray-800 sm:text-5xl\">Welcome to Food2Guide</h1>\n             <p className=\"mt-6 text-lg text-gray-600\">Please sign in to continue. Create an account or use Google to get started instantly.</p>\n             <AuthForm handleLogin={handleLogin} handleRegister={handleRegister} setAuthTab={setAuthTab} authTab={authTab} />\n           </div>\n        ) : (\n          <>\n            <div className=\"text-center mb-12\">\n              <h1 className=\"text-4xl font-bold tracking-tight text-gray-800 sm:text-5xl\">\n                Turn any food video into a <span className=\"text-green-600\">beautiful guide</span>\n              </h1>\n              <p className=\"mt-4 text-lg text-gray-600 max-w-2xl mx-auto\">\n                Paste a link from YouTube, TikTok, or Instagram, and we'll transform it into an easy-to-follow PDF recipe, complete with step-by-step images.\n              </p>\n            </div>\n\n            <div className=\"bg-white p-4 sm:p-6 rounded-2xl shadow-lg border border-gray-100\">\n              <div className=\"flex border-b border-gray-200\">\n                <button \n                  onClick={() => setActiveTab('paste')}\n                  className={`flex-1 py-3 text-sm font-semibold transition-colors focus:outline-none ${activeTab === 'paste' ? 'text-green-600 border-b-2 border-green-600' : 'text-gray-500 hover:text-gray-700'}`}\n                >\n                  Paste Link\n                </button>\n                <button \n                  onClick={() => setActiveTab('search')}\n                  className={`flex-1 py-3 text-sm font-semibold transition-colors focus:outline-none ${activeTab === 'search' ? 'text-green-600 border-b-2 border-green-600' : 'text-gray-500 hover:text-gray-700'}`}\n                >\n                  Search Video\n                </button>\n              </div>\n\n              {activeTab === 'paste' ? (\n                <div className=\"pt-6\">\n                  <div className=\"relative\">\n                    <LinkIcon className=\"h-5 w-5 text-gray-400 absolute left-4 top-1/2 -translate-y-1/2\" />\n                    <input \n                      type=\"text\"\n                      value={videoUrl}\n                      onChange={(e) => setVideoUrl(e.target.value)}\n                      placeholder=\"Paste your video link here (YouTube, TikTok, Instagram)\" \n                      className=\"w-full pl-12 pr-4 py-3.5 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 transition\" \n                    />\n                  </div>\n                </div>\n              ) : (\n                <div className=\"pt-6\">\n                  <div className=\"relative\">\n                    <MagnifyingGlassIcon className=\"h-5 w-5 text-gray-400 absolute left-4 top-1/2 -translate-y-1/2\" />\n                    <input \n                      type=\"text\"\n                      value={searchQuery}\n                      onChange={(e) => setSearchQuery(e.target.value)}\n                      onKeyDown={(e) => e.key === 'Enter' && searchYouTube()}\n                      placeholder=\"Search for a recipe video on YouTube...\" \n                      className=\"w-full pl-12 pr-4 py-3.5 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 transition\" \n                    />\n                  </div>\n                  <button \n                    onClick={searchYouTube}\n                    disabled={isSearching}\n                    className=\"mt-4 w-full bg-gray-700 hover:bg-gray-800 text-white font-bold py-3 px-4 rounded-xl shadow-md hover:shadow-lg transition-all disabled:bg-gray-400\"\n                  >\n                    {isSearching ? 'Searching...' : 'Search'}\n                  </button>\n                </div>\n              )}\n            </div>\n\n            {searchResults.length > 0 && (\n              <div className=\"mt-8\">\n                <h3 className=\"text-lg font-semibold text-gray-700 mb-4\">Search Results</h3>\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\">\n                  {searchResults.map(video => (\n                    <div \n                      key={video.video_id} \n                      onClick={() => {\n                        setSelectedVideoId(video.video_id);\n                        setVideoUrl(`https://www.youtube.com/watch?v=${video.video_id}`);\n                      }}\n                      className={`p-3 rounded-xl cursor-pointer transition-all ${selectedVideoId === video.video_id ? 'ring-4 ring-green-500 shadow-xl' : 'hover:shadow-lg hover:ring-2 hover:ring-green-300'}`}\n                    >\n                      <img src={video.thumbnail} alt={video.title} className=\"rounded-lg w-full\" />\n                      <p className=\"text-sm font-semibold mt-2 text-gray-800\">{video.title}</p>\n                      <p className=\"text-xs text-gray-500\">{video.channel}</p>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n            \n            <div className=\"mt-8 flex flex-col sm:flex-row items-center justify-between gap-6 p-6 bg-gray-50 rounded-2xl border\">\n                <div className=\"relative\">\n                    <select \n                        value={language} \n                        onChange={(e) => setLanguage(e.target.value)}\n                        className=\"appearance-none w-full sm:w-auto bg-white border border-gray-300 text-gray-700 py-3 pl-4 pr-10 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500\"\n                    >\n                        {languages.map(lang => (\n                            <option key={lang.code} value={lang.code}>{lang.flag} {lang.name}</option>\n                        ))}\n                    </select>\n                    <div className=\"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700\">\n                        <svg className=\"fill-current h-4 w-4\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\"><path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\"/></svg>\n                    </div>\n                </div>\n                <button \n                    onClick={processVideo} \n                    disabled={!videoUrl}\n                    className=\"w-full sm:w-auto flex items-center justify-center gap-3 bg-green-600 hover:bg-green-700 text-white font-bold py-4 px-8 rounded-xl shadow-lg hover:shadow-xl transition-all disabled:bg-green-300 disabled:cursor-not-allowed transform hover:scale-105\"\n                >\n                    <FireIcon className=\"h-6 w-6\" />\n                    Generate Guide\n                </button>\n            </div>\n          </>\n        )}\n      </main>\n    </div>\n  );\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}