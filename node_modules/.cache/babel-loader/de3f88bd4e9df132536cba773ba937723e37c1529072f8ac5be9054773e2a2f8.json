{"ast":null,"code":"var _jsxFileName = \"/Users/henrikpetersson/Desktop/Webbprojekt/makeiteasy/src/Food2Guide.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { LinkIcon, MagnifyingGlassIcon, CheckCircleIcon, ArrowDownTrayIcon, ArrowRightOnRectangleIcon, UserCircleIcon, SparklesIcon, FireIcon, XMarkIcon, WrenchScrewdriverIcon, BookOpenIcon, BookmarkIcon, PlusCircleIcon, ArrowLeftIcon, ExclamationCircleIcon, ChevronUpIcon, ChevronDownIcon, CogIcon, DocumentIcon, ArrowUturnLeftIcon, BugAntIcon } from '@heroicons/react/24/outline';\nimport logger from './Logger';\nimport LogPanel from './LogPanel';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_BASE = 'http://localhost:8001';\nconst Spinner = _ref => {\n  let {\n    size = 'h-5 w-5',\n    color = 'text-white'\n  } = _ref;\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    className: `animate-spin ${size} ${color}`,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n      className: \"opacity-25\",\n      cx: \"12\",\n      cy: \"12\",\n      r: \"10\",\n      stroke: \"currentColor\",\n      strokeWidth: \"4\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n      className: \"opacity-75\",\n      fill: \"currentColor\",\n      d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 3\n  }, this);\n};\n\n// RecipeStreamViewer component to display the recipe and buttons\n_c = Spinner;\nconst RecipeStreamViewer = _ref2 => {\n  _s();\n  let {\n    status,\n    error,\n    data,\n    onReset,\n    currentUser\n  } = _ref2;\n  // Visa receptet direkt istället för knappar\n  const [showAdvancedSettings, setShowAdvancedSettings] = useState(false);\n\n  // Handle PDF download\n  const handleDownloadPdf = async recipeData => {\n    try {\n      // Debug: Log recipeData to see if thumbnail_path is present\n      console.log('Recipe data for PDF generation:', recipeData);\n      console.log('Thumbnail path in recipeData:', recipeData.thumbnail_path);\n\n      // Convert instructions format if needed\n      const formattedInstructions = recipeData.instructions.map((instruction, idx) => {\n        if (typeof instruction === 'string') {\n          return {\n            step: idx + 1,\n            description: instruction\n          };\n        } else if (typeof instruction === 'object') {\n          return {\n            step: instruction.step || idx + 1,\n            description: instruction.description || `Step ${idx + 1}`\n          };\n        }\n        return {\n          step: idx + 1,\n          description: `Step ${idx + 1}`\n        };\n      });\n\n      // Format ingredients if needed\n      const formattedIngredients = recipeData.ingredients.map(ingredient => {\n        if (typeof ingredient === 'string') {\n          return {\n            name: ingredient,\n            quantity: ''\n          };\n        }\n        return ingredient;\n      });\n\n      // Create properly formatted request\n      const formattedRequest = {\n        ...recipeData,\n        ingredients: formattedIngredients,\n        instructions: formattedInstructions,\n        template_name: \"professional\",\n        image_orientation: \"landscape\",\n        show_top_image: showTopImage,\n        show_step_images: showStepImages\n      };\n\n      // Debug: Log formatted request to see if thumbnail_path is included\n      console.log('Formatted request for PDF generation:', formattedRequest);\n      console.log('Thumbnail path in formatted request:', formattedRequest.thumbnail_path);\n      const response = await fetch(`${API_BASE}/api/v1/generate-pdf`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(formattedRequest),\n        credentials: 'include'\n      });\n      if (!response.ok) {\n        throw new Error(`Error: ${response.status}`);\n      }\n\n      // Create a blob from the PDF stream\n      const blob = await response.blob();\n\n      // Create a link element and trigger download\n      const downloadUrl = window.URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = downloadUrl;\n      link.download = `${formattedRequest.title.replace(/\\s+/g, '_')}.pdf`;\n      document.body.appendChild(link);\n      link.click();\n      link.remove();\n    } catch (err) {\n      console.error('Failed to download PDF:', err);\n      alert('Failed to download PDF. Please try again.');\n    }\n  };\n\n  // Handle saving recipe (for logged in users)\n  const handleSaveRecipe = async recipeData => {\n    try {\n      const response = await fetch(`${API_BASE}/api/v1/recipes/save`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          recipe_content: recipeData,\n          source_url: '' // We don't have this in this context\n        }),\n        credentials: 'include'\n      });\n      if (!response.ok) {\n        throw new Error(`Error: ${response.status}`);\n      }\n      alert('Recipe saved successfully!');\n    } catch (err) {\n      console.error('Failed to save recipe:', err);\n      alert('Failed to save recipe. Please try again.');\n    }\n  };\n\n  // If still streaming or error occurred\n  if (Object.keys(data).length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: error ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-red-500 mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(ExclamationCircleIcon, {\n          className: \"h-12 w-12 mx-auto mb-2 text-red-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-bold mb-2\",\n          children: \"Error\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onReset,\n          className: \"mt-6 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors\",\n          children: \"Try Again\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-center mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-bold mb-2\",\n          children: \"Processing\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: status\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Recipe is ready, show recipe content directly\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"recipe-display a4-format\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-6\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-3xl font-bold\",\n          children: data.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this), data.thumbnail_path && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: data.thumbnail_path,\n          alt: data.title,\n          className: \"w-full h-auto object-cover rounded-lg shadow-md\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 mb-6\",\n        children: data.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-50 p-3 rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500\",\n            children: \"Servings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-medium\",\n            children: data.servings\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-50 p-3 rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500\",\n            children: \"Prep Time\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-medium\",\n            children: data.prep_time\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-50 p-3 rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500\",\n            children: \"Cook Time\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-medium\",\n            children: data.cook_time\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col md:flex-row gap-8 mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"md:w-1/3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-2xl font-semibold mb-4\",\n            children: \"Ingredients\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"list-disc pl-5 space-y-2\",\n            children: data.ingredients && data.ingredients.map((ing, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"text-gray-700\",\n              children: [ing.quantity, \" \", ing.name, \" \", ing.notes && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-500\",\n                children: [\"(\", ing.notes, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 59\n              }, this)]\n            }, idx, true, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"md:w-2/3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-2xl font-semibold mb-4\",\n            children: \"Instructions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n            className: \"list-decimal pl-5 space-y-4\",\n            children: data.instructions && data.instructions.length > 0 ? data.instructions.map((step, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"text-gray-700\",\n              children: typeof step === 'string' ? step : step.description || `Steg ${idx + 1}`\n            }, idx, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 19\n            }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-red-500 font-medium\",\n              children: \"Instruktioner saknas\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this), Array.isArray(data.chef_tips) && data.chef_tips.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-8 bg-amber-50 p-4 rounded-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-semibold mb-2\",\n          children: \"Chef Tips\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"list-disc pl-5 space-y-2\",\n          children: data.chef_tips.map((tip, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"text-gray-700\",\n            children: tip\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 11\n      }, this), data.nutritional_information && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"border-t pt-6 mt-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold mb-2\",\n          children: \"Nutritional Information\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 md:grid-cols-4 gap-4\",\n          children: [data.nutritional_information.calories && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500\",\n              children: \"Calories\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: data.nutritional_information.calories\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 17\n          }, this), data.nutritional_information.protein && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500\",\n              children: \"Protein\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: data.nutritional_information.protein\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 17\n          }, this), data.nutritional_information.carbohydrates && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500\",\n              children: \"Carbs\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: data.nutritional_information.carbohydrates\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 17\n          }, this), data.nutritional_information.fat && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500\",\n              children: \"Fat\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: data.nutritional_information.fat\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 11\n      }, this), (currentUser === null || currentUser === void 0 ? void 0 : currentUser.is_admin) && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6 border border-gray-200 rounded-lg p-4 bg-gray-50 mt-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowAdvancedSettings(!showAdvancedSettings),\n          className: \"flex items-center justify-between w-full text-left text-sm font-medium text-gray-700 mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(CogIcon, {\n              className: \"h-5 w-5 text-gray-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 17\n            }, this), \"Admin Settings\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ChevronDownIcon, {\n            className: `h-5 w-5 transition-transform ${showAdvancedSettings ? 'rotate-180' : ''}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 13\n        }, this), showAdvancedSettings && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pt-2 space-y-3 border-t border-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Show Images in PDF\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"radio\",\n                  name: \"showImages\",\n                  checked: showImages,\n                  onChange: () => setShowImages(true),\n                  className: \"mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 23\n                }, this), \"Yes\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"radio\",\n                  name: \"showImages\",\n                  checked: !showImages,\n                  onChange: () => setShowImages(false),\n                  className: \"mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 23\n                }, this), \"No\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: showTestPdfModal,\n            className: \"w-full bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium py-2 px-4 rounded-lg transition-colors flex items-center justify-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(DocumentIcon, {\n              className: \"h-5 w-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 19\n            }, this), \"Test PDF Templates\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap justify-center gap-4 mt-8 pt-6 border-t border-gray-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleDownloadPdf(data),\n          className: \"flex items-center justify-center gap-2 bg-green-600 text-white font-semibold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors\",\n          children: [/*#__PURE__*/_jsxDEV(ArrowDownTrayIcon, {\n            className: \"h-5 w-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Download PDF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 11\n        }, this), currentUser && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleSaveRecipe(data),\n          className: \"flex items-center justify-center gap-2 bg-purple-600 text-white font-semibold py-3 px-6 rounded-lg hover:bg-purple-700 transition-colors\",\n          children: [/*#__PURE__*/_jsxDEV(BookmarkIcon, {\n            className: \"h-5 w-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Save to Recipes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onReset,\n          className: \"flex items-center justify-center gap-2 bg-amber-600 text-white font-semibold py-3 px-6 rounded-lg hover:bg-amber-700 transition-colors\",\n          children: [/*#__PURE__*/_jsxDEV(PlusCircleIcon, {\n            className: \"h-5 w-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Create New Recipe\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 174,\n    columnNumber: 5\n  }, this);\n};\n_s(RecipeStreamViewer, \"6Bc0v0OYh8b9xum55C/aMkfzYVM=\");\n_c2 = RecipeStreamViewer;\nconst MyRecipesViewer = _ref3 => {\n  _s2();\n  let {\n    onBack,\n    currentUser\n  } = _ref3;\n  const [recipes, setRecipes] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const fetchRecipes = async () => {\n      try {\n        const response = await fetch(`${API_BASE}/api/v1/recipes`, {\n          credentials: 'include'\n        });\n        if (!response.ok) {\n          throw new Error('Failed to fetch recipes');\n        }\n        const data = await response.json();\n        setRecipes(data);\n      } catch (err) {\n        setError(err.message);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchRecipes();\n  }, []);\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: [/*#__PURE__*/_jsxDEV(Spinner, {\n        size: \"h-8 w-8\",\n        color: \"text-green-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-2\",\n        children: \"Loading your recipes...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center text-red-500\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Error: \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onBack,\n        className: \"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md\",\n        children: \"Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 401,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-3xl font-bold\",\n        children: \"My Saved Recipes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onBack,\n        className: \"flex items-center text-gray-500 hover:text-gray-700 text-sm\",\n        children: [/*#__PURE__*/_jsxDEV(ArrowLeftIcon, {\n          className: \"h-4 w-4 mr-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Back to Generator\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 7\n    }, this), recipes.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"You haven't saved any recipes yet.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 418,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: recipes.map(recipe => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded-lg shadow-md border border-gray-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-bold text-lg\",\n          children: recipe.recipe_content.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600\",\n          children: [\"Saved on: \", new Date(recipe.created_at).toLocaleDateString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: recipe.source_url,\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          className: \"text-blue-500 text-sm hover:underline\",\n          children: recipe.source_url\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 15\n        }, this)]\n      }, recipe.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 409,\n    columnNumber: 5\n  }, this);\n};\n_s2(MyRecipesViewer, \"WYkTC8mahA2FNgDOKGxm5E3fep0=\");\n_c3 = MyRecipesViewer;\nconst Header = _ref4 => {\n  let {\n    currentUser,\n    handleLogout,\n    showAuthModal,\n    usageStatus,\n    showTestPdfModal,\n    showMyRecipes\n  } = _ref4;\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    className: \"bg-white/80 backdrop-blur-sm border-b border-gray-200/80 shadow-sm sticky top-0 z-50 font-poppins\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto px-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center py-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"h-10 w-auto\",\n              src: \"/logo.png\",\n              alt: \"Food2Guide\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 442,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 441,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 440,\n          columnNumber: 9\n        }, this), currentUser ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(UserCircleIcon, {\n              className: \"h-6 w-6 text-gray-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 448,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-700 font-medium hidden sm:block\",\n              children: currentUser.full_name || currentUser.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 449,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: showMyRecipes,\n            className: \"flex items-center gap-2 text-sm text-gray-600 hover:text-blue-600 transition-colors\",\n            children: [/*#__PURE__*/_jsxDEV(BookOpenIcon, {\n              className: \"h-5 w-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 452,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"hidden sm:block\",\n              children: \"My Recipes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 453,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 451,\n            columnNumber: 13\n          }, this), currentUser.is_admin && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: showTestPdfModal,\n            className: \"flex items-center gap-2 text-sm text-blue-600 hover:text-blue-800 transition-colors\",\n            children: [/*#__PURE__*/_jsxDEV(WrenchScrewdriverIcon, {\n              className: \"h-5 w-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"hidden sm:block\",\n              children: \"TEST PDF\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 461,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 456,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleLogout,\n            className: \"flex items-center gap-2 text-sm text-gray-600 hover:text-red-600 transition-colors\",\n            children: [/*#__PURE__*/_jsxDEV(ArrowRightOnRectangleIcon, {\n              className: \"h-5 w-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"hidden sm:block\",\n              children: \"Sign Out\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 464,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 446,\n          columnNumber: 11\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-4\",\n          children: [usageStatus && !usageStatus.is_authenticated && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-600\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium text-blue-600\",\n              children: usageStatus.remaining_usage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 473,\n              columnNumber: 17\n            }, this), \" free PDFs remaining today\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: showAuthModal,\n            className: \"flex items-center justify-center gap-2 py-2 px-4 border border-gray-300 rounded-lg shadow-sm hover:shadow-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 transition-all\",\n            children: \"Sign In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 476,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 438,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 437,\n    columnNumber: 3\n  }, this);\n};\n_c4 = Header;\nconst AuthModal = _ref5 => {\n  let {\n    isOpen,\n    onClose,\n    initiateGoogleSignIn,\n    authTab,\n    setAuthTab\n  } = _ref5;\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-2xl shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold text-gray-800\",\n            children: \"Welcome to Food2Guide!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 497,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onClose,\n            className: \"text-gray-400 hover:text-gray-600 transition-colors\",\n            children: /*#__PURE__*/_jsxDEV(XMarkIcon, {\n              className: \"h-6 w-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 502,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 498,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 496,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-center gap-2 bg-gray-100 p-1 rounded-xl shadow-inner mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setAuthTab('login'),\n            className: `flex-1 px-4 py-2 text-sm font-semibold rounded-lg transition-colors ${authTab === 'login' ? 'bg-white text-green-700 shadow-sm' : 'text-gray-500 hover:bg-gray-200'}`,\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 507,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setAuthTab('register'),\n            className: `flex-1 px-4 py-2 text-sm font-semibold rounded-lg transition-colors ${authTab === 'register' ? 'bg-white text-green-700 shadow-sm' : 'text-gray-500 hover:bg-gray-200'}`,\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 515,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 506,\n          columnNumber: 11\n        }, this), authTab === 'login' ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"form\", {\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"login-email\",\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 529,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                name: \"email\",\n                id: \"login-email\",\n                required: true,\n                className: \"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 530,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 528,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"login-password\",\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 539,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                name: \"password\",\n                id: \"login-password\",\n                required: true,\n                className: \"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 540,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 538,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-xl shadow-md hover:shadow-lg transition-transform transform hover:scale-[1.02]\",\n              children: \"Sign In\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 548,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 527,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-0 flex items-center\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-full border-t border-gray-300\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 558,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 557,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative flex justify-center text-sm\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"px-2 bg-white text-gray-500\",\n                children: \"or\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 561,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 560,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 556,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: initiateGoogleSignIn,\n            className: \"w-full flex items-center justify-center gap-3 py-3 px-4 border border-gray-300 rounded-xl shadow-sm hover:shadow-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 transition-all\",\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"h-5 w-5\",\n              viewBox: \"0 0 24 24\",\n              children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                fill: \"#4285F4\",\n                d: \"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 570,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                fill: \"#34A853\",\n                d: \"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 571,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                fill: \"#FBBC05\",\n                d: \"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 572,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                fill: \"#EA4335\",\n                d: \"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 573,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 569,\n              columnNumber: 17\n            }, this), \"Continue with Google\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 565,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 526,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"form\", {\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"register-name\",\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Full Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 582,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"name\",\n                id: \"register-name\",\n                required: true,\n                className: \"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 583,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 581,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"register-email\",\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 592,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                name: \"email\",\n                id: \"register-email\",\n                required: true,\n                className: \"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 593,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 591,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"register-password\",\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 602,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                name: \"password\",\n                id: \"register-password\",\n                required: true,\n                minLength: \"6\",\n                className: \"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 603,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 601,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-xl shadow-md hover:shadow-lg transition-transform transform hover:scale-[1.02]\",\n              children: \"Create Account\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 612,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 580,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-0 flex items-center\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-full border-t border-gray-300\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 622,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 621,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative flex justify-center text-sm\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"px-2 bg-white text-gray-500\",\n                children: \"or\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 625,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 624,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 620,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: initiateGoogleSignIn,\n            className: \"w-full flex items-center justify-center gap-3 py-3 px-4 border border-gray-300 rounded-xl shadow-sm hover:shadow-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 transition-all\",\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"h-5 w-5\",\n              viewBox: \"0 0 24 24\",\n              children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                fill: \"#4285F4\",\n                d: \"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 634,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                fill: \"#34A853\",\n                d: \"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 635,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                fill: \"#FBBC05\",\n                d: \"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 636,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                fill: \"#EA4335\",\n                d: \"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 637,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 633,\n              columnNumber: 17\n            }, this), \"Sign up with Google\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 629,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 579,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 495,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 494,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 493,\n    columnNumber: 5\n  }, this);\n};\n_c5 = AuthModal;\nconst TestPdfModal = _ref6 => {\n  _s3();\n  let {\n    isOpen,\n    onClose,\n    currentUser\n  } = _ref6;\n  const [selectedTemplate, setSelectedTemplate] = useState('professional');\n  const [selectedOrientation, setSelectedOrientation] = useState('landscape');\n  const [isGenerating, setIsGenerating] = useState(false);\n\n  // Define available templates\n  const templates = ['default', 'modern', 'professional'];\n\n  // Add CSS template selection to the PDF generation\n  const handleTemplateChange = e => {\n    setSelectedTemplate(e.target.value);\n  };\n  const generateTestPdf = async () => {\n    setIsGenerating(true);\n    try {\n      // Create test recipe data\n      const testRecipe = {\n        title: \"Test Recipe for Template Preview\",\n        description: \"This is a test recipe to preview the selected template style.\",\n        ingredients: [{\n          name: \"Ingredient 1\",\n          quantity: \"100g\"\n        }, {\n          name: \"Ingredient 2\",\n          quantity: \"2 tbsp\"\n        }, {\n          name: \"Ingredient 3\",\n          quantity: \"1 cup\"\n        }],\n        instructions: [{\n          step: 1,\n          description: \"Step 1: Do something with the ingredients\"\n        }, {\n          step: 2,\n          description: \"Step 2: Mix everything together\"\n        }, {\n          step: 3,\n          description: \"Step 3: Cook for 10 minutes\"\n        }],\n        prep_time: \"10 min\",\n        cook_time: \"20 min\",\n        servings: 4,\n        difficulty: \"Easy\"\n      };\n\n      // Add template and orientation to the request\n      const requestData = {\n        ...testRecipe,\n        template_name: selectedTemplate,\n        image_orientation: selectedOrientation\n      };\n      const response = await fetch(`${API_BASE}/api/v1/generate-pdf`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(requestData),\n        credentials: 'include'\n      });\n      if (response.ok) {\n        // Download the PDF\n        const blob = await response.blob();\n        const url = window.URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.href = url;\n        a.download = `test-${selectedTemplate}-${selectedOrientation}.pdf`;\n        document.body.appendChild(a);\n        a.click();\n        window.URL.revokeObjectURL(url);\n        document.body.removeChild(a);\n\n        // Close modal\n        onClose();\n      } else {\n        const error = await response.json();\n        alert(`Error: ${error.detail || 'Failed to generate test PDF'}`);\n      }\n    } catch (error) {\n      console.error('Error generating test PDF:', error);\n      alert('Error generating test PDF. Please try again.');\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-2xl shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold text-gray-800\",\n            children: \"Test PDF Generation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 737,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onClose,\n            className: \"text-gray-400 hover:text-gray-600 transition-colors\",\n            children: /*#__PURE__*/_jsxDEV(XMarkIcon, {\n              className: \"h-6 w-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 742,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 738,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 736,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"CSS Template\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 748,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: selectedTemplate,\n              onChange: e => setSelectedTemplate(e.target.value),\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",\n              children: templates.map(template => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: template,\n                children: template.charAt(0).toUpperCase() + template.slice(1)\n              }, template, false, {\n                fileName: _jsxFileName,\n                lineNumber: 757,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 751,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 747,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"CSS Template\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 765,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: selectedTemplate,\n              onChange: handleTemplateChange,\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",\n              children: templates.map(template => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: template,\n                children: template.charAt(0).toUpperCase() + template.slice(1)\n              }, template, false, {\n                fileName: _jsxFileName,\n                lineNumber: 774,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 768,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 764,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Image Orientation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 780,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: selectedOrientation,\n              onChange: e => setSelectedOrientation(e.target.value),\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"landscape\",\n                children: \"Landscape (YouTube)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 788,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"portrait\",\n                children: \"Portrait (TikTok/Shorts)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 789,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 783,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 779,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pt-4\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: generateTestPdf,\n              disabled: isGenerating,\n              className: `w-full font-bold py-3 px-4 rounded-xl shadow-md hover:shadow-lg transition-transform transform hover:scale-[1.02] ${isGenerating ? 'bg-gray-400 cursor-not-allowed' : 'bg-blue-600 hover:bg-blue-700 text-white'}`,\n              children: isGenerating ? 'Generating...' : 'CREATE'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 794,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 793,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 746,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 735,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 734,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 733,\n    columnNumber: 5\n  }, this);\n};\n_s3(TestPdfModal, \"khSFfgRRZzIDpapecjKynS4r1vk=\");\n_c6 = TestPdfModal;\nconst JobStatus = _ref7 => {\n  _s4();\n  let {\n    job,\n    onReset\n  } = _ref7;\n  const [status, setStatus] = useState(job.status);\n  const [details, setDetails] = useState(job.details);\n  const [pdfUrl, setPdfUrl] = useState(null);\n  const [error, setError] = useState(null);\n  const statusStates = [{\n    key: 'downloading',\n    text: 'Downloading'\n  }, {\n    key: 'transcribing',\n    text: 'Transcribing'\n  }, {\n    key: 'analyzing',\n    text: 'Analyzing'\n  }, {\n    key: 'extracting_frames',\n    text: 'Extracting Frames'\n  }, {\n    key: 'generating_pdf',\n    text: 'Generating PDF'\n  }];\n  const currentStatusIndex = statusStates.findIndex(s => status.toLowerCase().includes(s.key));\n  useEffect(() => {\n    if (status === 'completed' || status === 'failed') {\n      if (job.pdf_url) setPdfUrl(job.pdf_url);\n      return;\n    }\n    const interval = setInterval(async () => {\n      try {\n        const response = await fetch(`${API_BASE}/api/v1/status/${job.job_id}`, {\n          credentials: 'include'\n        });\n        if (!response.ok) throw new Error('Network response was not ok');\n        const data = await response.json();\n        setStatus(data.status);\n        setDetails(data.details);\n        if (data.status === 'completed') {\n          setPdfUrl(data.pdf_url);\n          clearInterval(interval);\n        } else if (data.status === 'failed') {\n          setError(data.details);\n          clearInterval(interval);\n        }\n      } catch (err) {\n        setError('Failed to fetch status.');\n        clearInterval(interval);\n      }\n    }, 2000);\n    return () => clearInterval(interval);\n  }, [job.job_id, status, job.pdf_url]);\n  if (status === 'failed') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-semibold text-red-600\",\n        children: \"Generation Failed\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 862,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 my-4\",\n        children: error || details\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 863,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onReset,\n        className: \"bg-gray-700 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-800 transition-colors\",\n        children: \"Start Over\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 864,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 861,\n      columnNumber: 7\n    }, this);\n  }\n  if (status === 'completed' && pdfUrl) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-semibold text-green-600\",\n        children: \"Recipe Ready!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 872,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 my-4\",\n        children: \"Your recipe has been generated successfully.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 873,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-4 justify-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          href: `${API_BASE}${pdfUrl}`,\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          className: \"inline-flex items-center gap-2 bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors\",\n          children: [/*#__PURE__*/_jsxDEV(ArrowDownTrayIcon, {\n            className: \"h-5 w-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 876,\n            columnNumber: 13\n          }, this), \" Download PDF\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 875,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onReset,\n          className: \"bg-gray-200 text-gray-800 font-bold py-3 px-6 rounded-lg hover:bg-gray-300 transition-colors\",\n          children: \"Create Another\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 878,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 874,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 871,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Determine current step based on status\n  const getCurrentStep = () => {\n    if (status.toLowerCase().includes('downloading') || status.toLowerCase().includes('processing')) return 1;\n    if (status.toLowerCase().includes('transcribing')) return 2;\n    if (status.toLowerCase().includes('analyzing')) return 3;\n    if (status.toLowerCase().includes('frames') || status.toLowerCase().includes('extracting') || status.toLowerCase().includes('generating') || status.toLowerCase().includes('pdf')) return 4;\n    return 1; // Default to step 1\n  };\n  const currentStep = getCurrentStep();\n  const totalSteps = 4;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"inline-block bg-blue-100 text-blue-800 text-sm font-medium px-3 py-1 rounded-full\",\n        children: [\"Step \", currentStep, \"/\", totalSteps]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 899,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 898,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-xl font-semibold text-blue-600\",\n      children: \"Processing Video\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 903,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-gray-600 my-4\",\n      children: details\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 904,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center my-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 906,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 905,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onReset,\n      className: \"bg-gray-200 text-gray-700 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300\",\n      children: \"Start Over\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 908,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 897,\n    columnNumber: 5\n  }, this);\n};\n_s4(JobStatus, \"+q29PUD4dJuGc5w6WZPUq0rJiEA=\");\n_c7 = JobStatus;\nexport default function Food2Guide() {\n  _s5();\n  const [activeTab, setActiveTab] = useState('paste');\n  const [videoUrl, setVideoUrl] = useState('');\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [language, setLanguage] = useState('en');\n  const [searchResults, setSearchResults] = useState([]); // Initialize as empty array\n  const [selectedVideoId, setSelectedVideoId] = useState(null);\n  const [job, setJob] = useState(null);\n  const [currentUser, setCurrentUser] = useState(null);\n  const [authTab, setAuthTab] = useState('login');\n  const [isSearching, setIsSearching] = useState(false);\n  const [searchPage, setSearchPage] = useState(1);\n  const [hasMoreResults, setHasMoreResults] = useState(true);\n  const [usageStatus, setUsageStatus] = useState(null);\n  const [isAuthModalOpen, setIsAuthModalOpen] = useState(false);\n  const [isTestPdfModalOpen, setIsTestPdfModalOpen] = useState(false);\n  const scrollContainerRef = useRef(null);\n  // 1. Add state for welcome snackbar\n  const [showWelcome, setShowWelcome] = useState(false);\n\n  // Advanced Settings state\n  const [showAdvancedSettings, setShowAdvancedSettings] = useState(false);\n  const [showTopImage, setShowTopImage] = useState(true);\n  const [showStepImages, setShowStepImages] = useState(false);\n  const [dietPreference, setDietPreference] = useState('regular'); // regular, vegetarian, vegan\n  const [allergies, setAllergies] = useState({\n    gluten: false,\n    nuts: false,\n    eggs: false,\n    dairy: false,\n    shellfish: false\n  });\n  const [instructionLevel, setInstructionLevel] = useState('intermediate'); // beginner, intermediate (default), expert\n  const [showCalories, setShowCalories] = useState(false); // No (default)\n  const [pdfStyle, setPdfStyle] = useState('modern');\n  const [includeNutrition, setIncludeNutrition] = useState(true);\n  const [includeTips, setIncludeTips] = useState(true);\n  const [maxSteps, setMaxSteps] = useState(10);\n  const [imageQuality, setImageQuality] = useState('high');\n  const [videoSource, setVideoSource] = useState('youtube'); // youtube eller tiktok\n  const [searchAttempted, setSearchAttempted] = useState(false); // New state to track if a search has been made\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [showAuthModal, setShowAuthModal] = useState(false);\n  const [showMyRecipes, setShowMyRecipes] = useState(false);\n\n  // States for streaming\n  const [isStreaming, setIsStreaming] = useState(false);\n  const [recipeData, setRecipeData] = useState({});\n  const [streamError, setStreamError] = useState(null);\n  const [streamStatus, setStreamStatus] = useState('');\n\n  // States for logging\n  const [showLogPanel, setShowLogPanel] = useState(true); // Visa alltid som standard\n\n  const languages = [{\n    code: 'en',\n    name: 'English'\n  }, {\n    code: 'sv',\n    name: 'Svenska'\n  }, {\n    code: 'no',\n    name: 'Norsk'\n  }, {\n    code: 'da',\n    name: 'Dansk'\n  }, {\n    code: 'de',\n    name: 'Deutsch'\n  }, {\n    code: 'fr',\n    name: 'Français'\n  }, {\n    code: 'es',\n    name: 'Español'\n  }];\n  useEffect(() => {\n    logger.info('🚀 Food2Guide-komponenten initialiseras');\n\n    // Försök att hämta användarinfo från backend via cookies\n    const fetchUser = async () => {\n      try {\n        logger.info('👤 Hämtar användarinformation...');\n        logger.apiCall('GET', '/api/v1/auth/me');\n        const response = await fetch(`${API_BASE}/api/v1/auth/me`, {\n          credentials: 'include' // Viktigt: skicka cookies\n        });\n        logger.apiResponse('GET', '/api/v1/auth/me', response.status);\n        if (response.ok) {\n          const user = await response.json();\n          logger.success('✅ Användare inloggad', {\n            user: user.email,\n            admin: user.is_admin\n          });\n          setCurrentUser(user);\n        } else {\n          logger.info('ℹ️ Ingen inloggad användare (förväntat)');\n        }\n      } catch (error) {\n        logger.error('❌ Misslyckades att hämta användare', error);\n      }\n    };\n    fetchUser();\n    const urlParams = new URLSearchParams(window.location.search);\n    const code = urlParams.get('code');\n    if (code) {\n      logger.info('🔗 OAuth-kod hittad i URL, hanterar callback...');\n      handleGoogleOAuthCallback(code);\n      window.history.replaceState({}, document.title, window.location.pathname);\n    } else {\n      checkUsageStatus();\n    }\n  }, []);\n  const checkUsageStatus = async () => {\n    try {\n      logger.info('📊 Kontrollerar användningsstatus...');\n      logger.apiCall('GET', '/api/v1/usage-status');\n      const response = await fetch(`${API_BASE}/api/v1/usage-status`, {\n        credentials: 'include'\n      });\n      logger.apiResponse('GET', '/api/v1/usage-status', response.status);\n      if (response.ok) {\n        const status = await response.json();\n        logger.success('📊 Användningsstatus hämtad', status);\n        setUsageStatus(status);\n      } else {\n        logger.warn('⚠️ Kunde inte hämta användningsstatus');\n      }\n    } catch (error) {\n      logger.error('❌ Fel vid kontroll av användningsstatus', error);\n    }\n  };\n  const handleGoogleOAuthCallback = async code => {\n    try {\n      const authResponse = await fetch(`${API_BASE}/api/v1/auth/google/callback`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          code\n        }),\n        credentials: 'include' // Viktigt: för att cookies ska sättas\n      });\n      if (authResponse.ok) {\n        const data = await authResponse.json();\n        if (data.user) {\n          setCurrentUser(data.user);\n          setIsAuthModalOpen(false);\n          setShowWelcome(true);\n          setTimeout(() => setShowWelcome(false), 4000);\n        } else {\n          alert('User data was not found in the response.');\n        }\n      } else {\n        const error = await authResponse.json();\n        alert(error.detail || 'Google Sign-In failed');\n      }\n    } catch (error) {\n      console.error('Google OAuth callback error:', error);\n      alert('Google Sign-In failed.');\n    }\n  };\n  const handleLogout = async () => {\n    try {\n      await fetch(`${API_BASE}/api/v1/auth/logout`, {\n        method: 'POST',\n        credentials: 'include'\n      });\n    } catch (error) {\n      console.error(\"Logout failed\", error);\n    } finally {\n      setCurrentUser(null);\n    }\n  };\n  const initiateGoogleSignIn = async () => {\n    try {\n      const urlResponse = await fetch(`${API_BASE}/api/v1/auth/google/url`, {\n        credentials: 'include'\n      });\n      if (!urlResponse.ok) throw new Error('Failed to get Google OAuth URL');\n      const urlData = await urlResponse.json();\n      if (!urlData.auth_url) {\n        alert('Google Sign-In is not available.');\n        return;\n      }\n      setIsAuthModalOpen(false); // Close modal before redirecting\n      window.location.href = urlData.auth_url;\n    } catch (error) {\n      console.error('Google Sign-In error:', error);\n      alert('Could not initiate Google Sign-In.');\n    }\n  };\n  const handleScroll = () => {\n    const container = scrollContainerRef.current;\n    if (container) {\n      if (container.scrollTop + container.clientHeight >= container.scrollHeight - 100) {\n        loadMoreResults();\n      }\n    }\n  };\n  const loadMoreResults = async () => {\n    if (isSearching || !hasMoreResults) return;\n    setIsSearching(true);\n    try {\n      const response = await fetch(`${API_BASE}/api/v1/search`, {\n        method: 'POST',\n        credentials: 'include',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          query: searchQuery,\n          language,\n          source: videoSource,\n          page: searchPage + 1\n        })\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setSearchResults(prevResults => [...prevResults, ...data.results]);\n        setSearchPage(prevPage => prevPage + 1);\n        if (data.results.length < 10) {\n          setHasMoreResults(false);\n        }\n      } else {\n        setHasMoreResults(false);\n      }\n    } catch (error) {\n      setHasMoreResults(false);\n    } finally {\n      setIsSearching(false);\n    }\n  };\n\n  // Ändra searchYouTube så att den skickar med videoSource\n  const searchYouTube = async () => {\n    if (!searchQuery.trim()) {\n      logger.warn('⚠️ Tomt sökfält - avbryter sökning');\n      return;\n    }\n    logger.info('🔍 STARTAR VIDEOSÖKNING', {\n      query: searchQuery,\n      language,\n      source: videoSource\n    });\n    logger.apiCall('POST', '/api/v1/search', {\n      query: searchQuery,\n      language,\n      source: videoSource,\n      page: 1\n    });\n    setIsSearching(true);\n    setSearchAttempted(true); // Mark that a search has been attempted\n    setSearchResults([]); // Clear previous results\n    setSearchPage(1);\n    setHasMoreResults(true);\n    try {\n      const startTime = Date.now();\n      const response = await fetch(`${API_BASE}/api/v1/search`, {\n        method: 'POST',\n        credentials: 'include',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          query: searchQuery,\n          language,\n          source: videoSource,\n          page: 1\n        })\n      });\n      const duration = Date.now() - startTime;\n      logger.performance('Sökning', duration);\n      logger.apiResponse('POST', '/api/v1/search', response.status);\n      if (response.ok) {\n        const data = await response.json();\n        logger.success(`✅ ${data.results.length} videor hittade`, {\n          count: data.results.length\n        });\n        setSearchResults(data.results);\n        if (data.results.length < 10) {\n          setHasMoreResults(false);\n          logger.info('ℹ️ Inga fler resultat att ladda');\n        }\n      } else {\n        logger.error('❌ Sökning misslyckades', null, {\n          status: response.status\n        });\n        alert('Search failed.');\n        setHasMoreResults(false);\n      }\n    } catch (error) {\n      logger.error('❌ Fel vid sökning', error);\n      alert('An error occurred during search.');\n      setHasMoreResults(false);\n    } finally {\n      setIsSearching(false);\n      logger.info('🔍 Sökning avslutad');\n    }\n  };\n  const processVideo = async () => {\n    if (!videoUrl) {\n      alert('Please provide a video URL.');\n      return;\n    }\n    setIsStreaming(true);\n    setRecipeData({});\n    setStreamError(null);\n    setStreamStatus('Initializing stream...');\n    const url = `${API_BASE}/api/v1/generate-stream?video_url=${encodeURIComponent(videoUrl)}&language=${language}`;\n    const eventSource = new EventSource(url, {\n      withCredentials: true\n    });\n    eventSource.onmessage = event => {\n      try {\n        const data = JSON.parse(event.data);\n        if (data.status === 'error') {\n          setStreamError(data.message);\n          setStreamStatus('Error occurred.');\n          setIsStreaming(false);\n          eventSource.close();\n        } else if (data.status === 'done') {\n          // This assumes the final recipe is sent with the 'done' status.\n          // If not, we might need to adjust the backend.\n          setRecipeData(data.recipe || recipeData); // Use final recipe or accumulated one.\n          setStreamStatus('Recipe generation complete!');\n          setIsStreaming(false); // Stop streaming view\n          eventSource.close();\n        } else if (data.status) {\n          // It's a status update\n          setStreamStatus(data.message);\n        }\n\n        // This handles the recipe data chunk. Since we send the full recipe at the end,\n        // we can just update the state with the latest complete recipe object.\n        if (data.recipe) {\n          // Check if it's a complete recipe object, not a partial string\n          if (typeof data.recipe === 'object' && data.recipe.title) {\n            setRecipeData(data.recipe);\n          }\n        }\n      } catch (e) {\n        console.error('Failed to parse stream data:', e, 'Raw data:', event.data);\n      }\n    };\n    eventSource.onerror = err => {\n      console.error('EventSource failed:', err);\n      setStreamError('Failed to connect to the server. Please check your connection and try again.');\n      setStreamStatus('Connection error.');\n      setIsStreaming(false);\n      eventSource.close();\n    };\n  };\n  const handleStreamResponse = url => {\n    logger.info('🌊 STARTAR STREAMING-PROCESS', {\n      url,\n      language\n    });\n    logger.stream('📡 Initialiserar EventSource-anslutning...');\n    setIsStreaming(true);\n    setStreamStatus('Initializing stream...');\n    setStreamError('');\n    setRecipeData({});\n    logger.stream(`Startar stream för URL: ${url}`);\n\n    // Add showImages parameter to the URL if the user is an admin\n    let streamUrl = `${API_BASE}/api/v1/generate-stream?video_url=${encodeURIComponent(url)}&language=${language}`;\n    if (currentUser !== null && currentUser !== void 0 && currentUser.is_admin) {\n      streamUrl += `&show_top_image=${showTopImage}&show_step_images=${showStepImages}`;\n      logger.info('👑 Admin-inställningar tillagda', {\n        showTopImage,\n        showStepImages\n      });\n    }\n    logger.info('🔗 EventSource URL skapad', {\n      streamUrl\n    });\n    const eventSource = new EventSource(streamUrl);\n    // EventSource stödjer inte withCredentials som en inställning\n    // eventSource.withCredentials = true;\n\n    eventSource.onopen = () => {\n      logger.success('✅ EventSource-anslutning öppnad');\n    };\n    eventSource.onmessage = event => {\n      try {\n        const data = JSON.parse(event.data);\n\n        // Logga alltid rådata för felsökning\n        logger.debug('📨 Mottaget EventSource-meddelande', {\n          eventData: event.data\n        });\n        logger.stream('📦 Parsed stream data', data);\n\n        // Skicka vidare backend-loggar till frontend-loggern\n        if (data.log) {\n          logger.info(`[BACKEND] ${data.log.message}`, data.log.extra);\n        }\n        if (data.status === 'error') {\n          logger.error('❌ Stream-fel mottaget', null, data);\n          setStreamError(data.message);\n          setStreamStatus('Error occurred.');\n          setIsStreaming(false);\n          eventSource.close();\n        } else if (data.status === 'completed') {\n          logger.success('🎉 Stream avslutad!');\n          if (data.recipe) {\n            var _data$recipe$ingredie, _data$recipe$instruct;\n            logger.success('📄 Recept mottaget', {\n              title: data.recipe.title,\n              ingredientCount: (_data$recipe$ingredie = data.recipe.ingredients) === null || _data$recipe$ingredie === void 0 ? void 0 : _data$recipe$ingredie.length,\n              instructionCount: (_data$recipe$instruct = data.recipe.instructions) === null || _data$recipe$instruct === void 0 ? void 0 : _data$recipe$instruct.length\n            });\n            setRecipeData(data.recipe);\n          }\n          setStreamStatus('Recipe generation complete!');\n          setIsStreaming(false);\n          eventSource.close();\n        } else if (data.status) {\n          const statusMessage = data.message || data.status;\n          logger.stream(`📡 Status: ${data.status}`, {\n            message: statusMessage,\n            debug: data.debug_info\n          });\n          setStreamStatus(statusMessage);\n        }\n      } catch (err) {\n        logger.error('❌ Fel vid parsing av EventSource-data', err, {\n          eventData: event.data\n        });\n        setStreamError('Failed to parse server response.');\n        setIsStreaming(false);\n        eventSource.close();\n      }\n    };\n    eventSource.onerror = err => {\n      logger.error('❌ EventSource-fel', err);\n      setStreamError('Connection to server failed. Please try again.');\n      setIsStreaming(false);\n      eventSource.close();\n    };\n  };\n  const resetAll = () => {\n    logger.info('🔄 Återställer all data...');\n    setVideoUrl('');\n    setSearchQuery('recipe');\n    setSearchResults([]);\n    setSelectedVideoId(null);\n    setJob(null);\n    setIsStreaming(false);\n    setRecipeData({});\n    setStreamError(null);\n    setStreamStatus('');\n    logger.success('✅ All data återställd');\n  };\n\n  // Show login screen only if explicitly requested, not by default\n  const showLoginScreen = false; // Changed from requiring login to allowing anonymous usage\n\n  // Function to show the Test PDF modal for admin users\n  const showTestPdfModal = () => {\n    if (currentUser !== null && currentUser !== void 0 && currentUser.is_admin) {\n      setIsTestPdfModalOpen(true);\n    }\n  };\n\n  // Handle generating a recipe from a video URL\n  const handleGenerateRecipe = () => {\n    if (!videoUrl) {\n      logger.warn('⚠️ Ingen video-URL angiven');\n      return;\n    }\n    logger.info('🚀 STARTAR RECEPTGENERERING', {\n      videoUrl,\n      language,\n      isAdmin: currentUser === null || currentUser === void 0 ? void 0 : currentUser.is_admin,\n      showTopImage,\n      showStepImages\n    });\n    logger.event('GENERATE_RECIPE_STARTED', {\n      videoUrl,\n      language\n    });\n\n    // Reset any previous data\n    setJob(null);\n    setRecipeData({});\n    setStreamError('');\n    logger.debug('🧹 Föregående data rensad');\n\n    // Start the streaming process\n    handleStreamResponse(videoUrl);\n  };\n\n  // Handle video selection from search\n  const handleVideoSelect = video => {\n    logger.info('🎥 Video vald från sökresultat', {\n      videoId: video.video_id,\n      title: video.title,\n      channel: video.channel_title\n    });\n    logger.event('VIDEO_SELECTED', {\n      video\n    });\n    setSelectedVideoId(video.video_id);\n    setVideoUrl(`https://www.youtube.com/watch?v=${video.video_id}`);\n    logger.success('✅ Video URL satt', {\n      url: `https://www.youtube.com/watch?v=${video.video_id}`\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"font-poppins bg-gradient-to-br from-[#d6e5dd] to-[#eaf3ef] min-h-screen\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      currentUser: currentUser,\n      handleLogout: handleLogout,\n      showAuthModal: () => setIsAuthModalOpen(true),\n      usageStatus: usageStatus,\n      showTestPdfModal: () => setIsTestPdfModalOpen(true),\n      showMyRecipes: () => setShowMyRecipes(true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1402,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(LogPanel, {\n      isVisible: showLogPanel,\n      onToggle: () => setShowLogPanel(!showLogPanel)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1406,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setShowLogPanel(!showLogPanel),\n      className: \"fixed bottom-4 left-4 bg-gray-800 hover:bg-gray-700 text-white p-3 rounded-full shadow-lg z-40 transition-all duration-300\",\n      title: showLogPanel ? 'Dölj loggar' : 'Visa loggar',\n      children: /*#__PURE__*/_jsxDEV(BugAntIcon, {\n        className: \"h-6 w-6\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1417,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1412,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AuthModal, {\n      isOpen: isAuthModalOpen,\n      onClose: () => setIsAuthModalOpen(false),\n      initiateGoogleSignIn: initiateGoogleSignIn,\n      authTab: authTab,\n      setAuthTab: setAuthTab\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1419,\n      columnNumber: 7\n    }, this), isTestPdfModalOpen && /*#__PURE__*/_jsxDEV(TestPdfModal, {\n      isOpen: isTestPdfModalOpen,\n      onClose: () => setIsTestPdfModalOpen(false),\n      currentUser: currentUser\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1427,\n      columnNumber: 9\n    }, this), showWelcome && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed top-6 left-1/2 -translate-x-1/2 z-50 bg-green-600 text-white px-6 py-3 rounded-xl shadow-lg text-lg font-semibold animate-fade-in-out\",\n      children: [\"Welcome, \", (currentUser === null || currentUser === void 0 ? void 0 : currentUser.full_name) || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.email), \"!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1434,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"max-w-3xl mx-auto py-10 px-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative bg-white shadow-xl rounded-2xl p-10\",\n        children: [/*#__PURE__*/_jsxDEV(SparklesIcon, {\n          className: \"absolute top-0 right-0 h-32 w-32 text-amber-300/30 -translate-y-1/3 translate-x-1/4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1441,\n          columnNumber: 11\n        }, this), showMyRecipes ? /*#__PURE__*/_jsxDEV(MyRecipesViewer, {\n          onBack: () => setShowMyRecipes(false),\n          currentUser: currentUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1444,\n          columnNumber: 13\n        }, this) : isStreaming || Object.keys(recipeData).length > 0 || streamError ? /*#__PURE__*/_jsxDEV(RecipeStreamViewer, {\n          status: streamStatus,\n          error: streamError,\n          data: recipeData,\n          onReset: resetAll,\n          currentUser: currentUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1446,\n          columnNumber: 13\n        }, this) : job ? /*#__PURE__*/_jsxDEV(JobStatus, {\n          job: job,\n          onReset: resetAll\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1454,\n          columnNumber: 14\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-xl font-bold tracking-tight text-gray-800 text-center\",\n            children: \"Turn cooking videos into step-by-step recipes.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1457,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-8 space-y-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex gap-2 bg-gray-100 p-1 rounded-xl shadow-inner justify-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setActiveTab('paste'),\n                  className: `w-full text-sm rounded-lg px-4 py-2 flex items-center justify-center gap-2 transition-colors ${activeTab === 'paste' ? 'bg-green-600 text-white font-semibold shadow-sm' : 'bg-transparent text-gray-600 hover:bg-white/50'}`,\n                  children: [/*#__PURE__*/_jsxDEV(LinkIcon, {\n                    className: \"h-5 w-5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1465,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Paste Link\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1466,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1464,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setActiveTab('search'),\n                  className: `w-full text-sm rounded-lg px-4 py-2 flex items-center justify-center gap-2 transition-colors ${activeTab === 'search' ? 'bg-green-600 text-white font-semibold shadow-sm' : 'bg-transparent hover:bg-gray-200/50'}`,\n                  children: [/*#__PURE__*/_jsxDEV(MagnifyingGlassIcon, {\n                    className: \"h-5 w-5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1469,\n                    columnNumber: 23\n                  }, this), \"Search Recipes\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1468,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1463,\n                columnNumber: 20\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-6\",\n                children: [activeTab === 'paste' && /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    id: \"video-url\",\n                    type: \"text\",\n                    value: videoUrl,\n                    onChange: e => {\n                      setVideoUrl(e.target.value);\n                      setSelectedVideoId(null);\n                    },\n                    placeholder: \"Paste a YouTube or TikTok recipe video\\u2026\",\n                    className: \"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 text-sm\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1476,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1475,\n                  columnNumber: 23\n                }, this), activeTab === 'search' && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                    value: videoSource,\n                    onChange: e => setVideoSource(e.target.value),\n                    className: \"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-green-500\",\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"youtube\",\n                      children: \"YouTube\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1493,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"tiktok\",\n                      children: \"TikTok\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1494,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1488,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    id: \"search-query\",\n                    type: \"text\",\n                    value: searchQuery,\n                    onChange: e => setSearchQuery(e.target.value),\n                    onKeyPress: e => e.key === 'Enter' && searchYouTube(),\n                    placeholder: \"Search for YouTube or TikTok video...\",\n                    className: \"flex-grow px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 text-sm\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1496,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: searchYouTube,\n                    disabled: isSearching,\n                    className: \"bg-gray-700 text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors disabled:bg-gray-400 flex items-center justify-center w-14\",\n                    children: isSearching ? /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1506,\n                      columnNumber: 42\n                    }, this) : /*#__PURE__*/_jsxDEV(MagnifyingGlassIcon, {\n                      className: \"h-5 w-5\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1506,\n                      columnNumber: 56\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1505,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1487,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1473,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1462,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-8\",\n              children: [isSearching && searchResults.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-center items-center p-8\",\n                children: /*#__PURE__*/_jsxDEV(Spinner, {\n                  size: \"h-8 w-8\",\n                  color: \"text-green-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1517,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1516,\n                columnNumber: 21\n              }, this), searchAttempted && !isSearching && searchResults.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center py-8\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-500\",\n                  children: \"No videos found for your search. Please try again.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1523,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1522,\n                columnNumber: 21\n              }, this), searchResults.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"text-gray-800 text-sm font-bold tracking-tight\",\n                    children: \"Search Results\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1530,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => {\n                      setSearchResults([]);\n                      setSearchAttempted(false);\n                      setActiveTab('paste');\n                    },\n                    className: \"flex items-center text-gray-500 hover:text-gray-700 text-sm\",\n                    children: [/*#__PURE__*/_jsxDEV(ArrowLeftIcon, {\n                      className: \"h-4 w-4 mr-1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1539,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"Back\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1540,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1531,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1529,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  ref: scrollContainerRef,\n                  onScroll: handleScroll,\n                  className: \"max-h-[25rem] overflow-y-auto grid grid-cols-2 gap-4 p-2\",\n                  children: [searchResults.map(video => /*#__PURE__*/_jsxDEV(\"div\", {\n                    onClick: () => handleVideoSelect(video),\n                    className: `cursor-pointer border-2 rounded-xl overflow-hidden transition-all duration-200 ${selectedVideoId === video.video_id ? 'border-green-500 shadow-lg scale-105' : 'border-transparent hover:border-green-400/50'}`,\n                    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                      src: video.thumbnail_url,\n                      alt: video.title,\n                      className: \"w-full h-28 object-cover\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1554,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"p-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"font-semibold text-xs text-gray-800 line-clamp-2\",\n                        children: video.title\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1556,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-xs text-gray-500 mt-1\",\n                        children: video.channel_title\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1557,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1555,\n                      columnNumber: 29\n                    }, this)]\n                  }, video.video_id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1549,\n                    columnNumber: 27\n                  }, this)), isSearching && searchResults.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-span-2 flex justify-center items-center p-4\",\n                    children: /*#__PURE__*/_jsxDEV(Spinner, {\n                      size: \"h-6 w-6\",\n                      color: \"text-green-600\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1563,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1562,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1543,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1528,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1514,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"select\", {\n                id: \"language-select\",\n                value: language,\n                onChange: e => setLanguage(e.target.value),\n                className: \"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 text-sm text-gray-700\",\n                children: languages.map(lang => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: lang.code,\n                  children: lang.name\n                }, lang.code, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1577,\n                  columnNumber: 44\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1571,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1570,\n              columnNumber: 17\n            }, this), currentUser && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"border-t border-gray-200 pt-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setShowAdvancedSettings(!showAdvancedSettings),\n                className: \"flex items-center gap-2 text-sm text-gray-600 hover:text-gray-800 transition-colors\",\n                children: [/*#__PURE__*/_jsxDEV(WrenchScrewdriverIcon, {\n                  className: \"h-4 w-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1588,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Advanced Settings\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1589,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: `h-4 w-4 transition-transform ${showAdvancedSettings ? 'rotate-180' : ''}`,\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  viewBox: \"0 0 24 24\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: 2,\n                    d: \"M19 9l-7 7-7-7\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1596,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1590,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1584,\n                columnNumber: 21\n              }, this), showAdvancedSettings && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-4 space-y-4 p-4 bg-gray-50 rounded-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-sm font-medium text-gray-700 mb-2\",\n                    children: \"Top image (dish preview under title)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1604,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex gap-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"flex items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"radio\",\n                        name: \"showTopImage\",\n                        checked: showTopImage,\n                        onChange: () => setShowTopImage(true),\n                        className: \"mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1607,\n                        columnNumber: 31\n                      }, this), \"Yes\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1606,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"flex items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"radio\",\n                        name: \"showTopImage\",\n                        checked: !showTopImage,\n                        onChange: () => setShowTopImage(false),\n                        className: \"mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1611,\n                        columnNumber: 31\n                      }, this), \"No\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1610,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1605,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1603,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-sm font-medium text-gray-700 mb-2\",\n                    children: \"Step-by-step images\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1618,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex gap-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"flex items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"radio\",\n                        name: \"showStepImages\",\n                        checked: showStepImages,\n                        onChange: () => setShowStepImages(true),\n                        className: \"mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1621,\n                        columnNumber: 31\n                      }, this), \"Yes\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1620,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"flex items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"radio\",\n                        name: \"showStepImages\",\n                        checked: !showStepImages,\n                        onChange: () => setShowStepImages(false),\n                        className: \"mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1625,\n                        columnNumber: 31\n                      }, this), \"No\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1624,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1619,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1617,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-sm font-medium text-gray-700 mb-2\",\n                    children: \"Diet preference\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1633,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex gap-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"flex items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"radio\",\n                        name: \"dietPreference\",\n                        value: \"regular\",\n                        checked: dietPreference === 'regular',\n                        onChange: () => setDietPreference('regular'),\n                        className: \"mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1636,\n                        columnNumber: 31\n                      }, this), \"Regular (default)\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1635,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"flex items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"radio\",\n                        name: \"dietPreference\",\n                        value: \"vegetarian\",\n                        checked: dietPreference === 'vegetarian',\n                        onChange: () => setDietPreference('vegetarian'),\n                        className: \"mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1640,\n                        columnNumber: 31\n                      }, this), \"Vegetarian\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1639,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"flex items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"radio\",\n                        name: \"dietPreference\",\n                        value: \"vegan\",\n                        checked: dietPreference === 'vegan',\n                        onChange: () => setDietPreference('vegan'),\n                        className: \"mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1644,\n                        columnNumber: 31\n                      }, this), \"Vegan\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1643,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1634,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1632,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-sm font-medium text-gray-700 mb-2\",\n                    children: \"Allergies\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1652,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex flex-wrap gap-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"flex items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"checkbox\",\n                        checked: allergies.gluten,\n                        onChange: () => setAllergies(a => ({\n                          ...a,\n                          gluten: !a.gluten\n                        })),\n                        className: \"mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1655,\n                        columnNumber: 31\n                      }, this), \"Gluten\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1654,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"flex items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"checkbox\",\n                        checked: allergies.nuts,\n                        onChange: () => setAllergies(a => ({\n                          ...a,\n                          nuts: !a.nuts\n                        })),\n                        className: \"mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1659,\n                        columnNumber: 31\n                      }, this), \"Nuts\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1658,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"flex items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"checkbox\",\n                        checked: allergies.eggs,\n                        onChange: () => setAllergies(a => ({\n                          ...a,\n                          eggs: !a.eggs\n                        })),\n                        className: \"mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1663,\n                        columnNumber: 31\n                      }, this), \"Eggs\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1662,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"flex items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"checkbox\",\n                        checked: allergies.dairy,\n                        onChange: () => setAllergies(a => ({\n                          ...a,\n                          dairy: !a.dairy\n                        })),\n                        className: \"mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1667,\n                        columnNumber: 31\n                      }, this), \"Dairy\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1666,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"flex items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"checkbox\",\n                        checked: allergies.shellfish,\n                        onChange: () => setAllergies(a => ({\n                          ...a,\n                          shellfish: !a.shellfish\n                        })),\n                        className: \"mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1671,\n                        columnNumber: 31\n                      }, this), \"Shellfish\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1670,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1653,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1651,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-sm font-medium text-gray-700 mb-2\",\n                    children: \"Instruction detail level\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1679,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex gap-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"flex items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"radio\",\n                        name: \"instructionLevel\",\n                        value: \"beginner\",\n                        checked: instructionLevel === 'beginner',\n                        onChange: () => setInstructionLevel('beginner'),\n                        className: \"mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1682,\n                        columnNumber: 31\n                      }, this), \"Beginner\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1681,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"flex items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"radio\",\n                        name: \"instructionLevel\",\n                        value: \"intermediate\",\n                        checked: instructionLevel === 'intermediate',\n                        onChange: () => setInstructionLevel('intermediate'),\n                        className: \"mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1686,\n                        columnNumber: 31\n                      }, this), \"Intermediate (default)\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1685,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"flex items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"radio\",\n                        name: \"instructionLevel\",\n                        value: \"expert\",\n                        checked: instructionLevel === 'expert',\n                        onChange: () => setInstructionLevel('expert'),\n                        className: \"mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1690,\n                        columnNumber: 31\n                      }, this), \"Expert\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1689,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1680,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1678,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-sm font-medium text-gray-700 mb-2\",\n                    children: \"Show calories / nutrition info\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1698,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex gap-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"flex items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"radio\",\n                        name: \"showCalories\",\n                        checked: showCalories,\n                        onChange: () => setShowCalories(true),\n                        className: \"mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1701,\n                        columnNumber: 31\n                      }, this), \"Yes\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1700,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"flex items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"radio\",\n                        name: \"showCalories\",\n                        checked: !showCalories,\n                        onChange: () => setShowCalories(false),\n                        className: \"mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1705,\n                        columnNumber: 31\n                      }, this), \"No (default)\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1704,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1699,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1697,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1601,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1583,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pt-6 border-t border-gray-200 flex flex-col items-center gap-6\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleGenerateRecipe,\n                className: \"flex items-center gap-2 w-full justify-center bg-amber-500 hover:bg-amber-600 text-white font-bold rounded-xl shadow-md px-6 py-3 transition-transform hover:scale-[1.02]\",\n                children: [/*#__PURE__*/_jsxDEV(SparklesIcon, {\n                  className: \"h-6 w-6 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1719,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Generate Recipe\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1720,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1718,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1717,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1461,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1440,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1439,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1401,\n    columnNumber: 5\n  }, this);\n}\n_s5(Food2Guide, \"2/02eF9uy9Q2lvH+hdhutY0BezM=\");\n_c8 = Food2Guide;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n$RefreshReg$(_c, \"Spinner\");\n$RefreshReg$(_c2, \"RecipeStreamViewer\");\n$RefreshReg$(_c3, \"MyRecipesViewer\");\n$RefreshReg$(_c4, \"Header\");\n$RefreshReg$(_c5, \"AuthModal\");\n$RefreshReg$(_c6, \"TestPdfModal\");\n$RefreshReg$(_c7, \"JobStatus\");\n$RefreshReg$(_c8, \"Food2Guide\");","map":{"version":3,"names":["React","useState","useEffect","useRef","LinkIcon","MagnifyingGlassIcon","CheckCircleIcon","ArrowDownTrayIcon","ArrowRightOnRectangleIcon","UserCircleIcon","SparklesIcon","FireIcon","XMarkIcon","WrenchScrewdriverIcon","BookOpenIcon","BookmarkIcon","PlusCircleIcon","ArrowLeftIcon","ExclamationCircleIcon","ChevronUpIcon","ChevronDownIcon","CogIcon","DocumentIcon","ArrowUturnLeftIcon","BugAntIcon","logger","LogPanel","jsxDEV","_jsxDEV","Fragment","_Fragment","API_BASE","Spinner","_ref","size","color","className","xmlns","fill","viewBox","children","cx","cy","r","stroke","strokeWidth","fileName","_jsxFileName","lineNumber","columnNumber","d","_c","RecipeStreamViewer","_ref2","_s","status","error","data","onReset","currentUser","showAdvancedSettings","setShowAdvancedSettings","handleDownloadPdf","recipeData","console","log","thumbnail_path","formattedInstructions","instructions","map","instruction","idx","step","description","formattedIngredients","ingredients","ingredient","name","quantity","formattedRequest","template_name","image_orientation","show_top_image","showTopImage","show_step_images","showStepImages","response","fetch","method","headers","body","JSON","stringify","credentials","ok","Error","blob","downloadUrl","window","URL","createObjectURL","link","document","createElement","href","download","title","replace","appendChild","click","remove","err","alert","handleSaveRecipe","recipe_content","source_url","Object","keys","length","onClick","src","alt","servings","prep_time","cook_time","ing","notes","Array","isArray","chef_tips","tip","nutritional_information","calories","protein","carbohydrates","fat","is_admin","type","checked","showImages","onChange","setShowImages","showTestPdfModal","_c2","MyRecipesViewer","_ref3","_s2","onBack","recipes","setRecipes","isLoading","setIsLoading","setError","fetchRecipes","json","message","recipe","Date","created_at","toLocaleDateString","target","rel","id","_c3","Header","_ref4","handleLogout","showAuthModal","usageStatus","showMyRecipes","full_name","email","is_authenticated","remaining_usage","_c4","AuthModal","_ref5","isOpen","onClose","initiateGoogleSignIn","authTab","setAuthTab","htmlFor","required","minLength","_c5","TestPdfModal","_ref6","_s3","selectedTemplate","setSelectedTemplate","selectedOrientation","setSelectedOrientation","isGenerating","setIsGenerating","templates","handleTemplateChange","e","value","generateTestPdf","testRecipe","difficulty","requestData","url","a","revokeObjectURL","removeChild","detail","template","charAt","toUpperCase","slice","disabled","_c6","JobStatus","_ref7","_s4","job","setStatus","details","setDetails","pdfUrl","setPdfUrl","statusStates","key","text","currentStatusIndex","findIndex","s","toLowerCase","includes","pdf_url","interval","setInterval","job_id","clearInterval","getCurrentStep","currentStep","totalSteps","_c7","Food2Guide","_s5","activeTab","setActiveTab","videoUrl","setVideoUrl","searchQuery","setSearchQuery","language","setLanguage","searchResults","setSearchResults","selectedVideoId","setSelectedVideoId","setJob","setCurrentUser","isSearching","setIsSearching","searchPage","setSearchPage","hasMoreResults","setHasMoreResults","setUsageStatus","isAuthModalOpen","setIsAuthModalOpen","isTestPdfModalOpen","setIsTestPdfModalOpen","scrollContainerRef","showWelcome","setShowWelcome","setShowTopImage","setShowStepImages","dietPreference","setDietPreference","allergies","setAllergies","gluten","nuts","eggs","dairy","shellfish","instructionLevel","setInstructionLevel","showCalories","setShowCalories","pdfStyle","setPdfStyle","includeNutrition","setIncludeNutrition","includeTips","setIncludeTips","maxSteps","setMaxSteps","imageQuality","setImageQuality","videoSource","setVideoSource","searchAttempted","setSearchAttempted","isProcessing","setIsProcessing","setShowAuthModal","setShowMyRecipes","isStreaming","setIsStreaming","setRecipeData","streamError","setStreamError","streamStatus","setStreamStatus","showLogPanel","setShowLogPanel","languages","code","info","fetchUser","apiCall","apiResponse","user","success","admin","urlParams","URLSearchParams","location","search","get","handleGoogleOAuthCallback","history","replaceState","pathname","checkUsageStatus","warn","authResponse","setTimeout","urlResponse","urlData","auth_url","handleScroll","container","current","scrollTop","clientHeight","scrollHeight","loadMoreResults","query","source","page","prevResults","results","prevPage","searchYouTube","trim","startTime","now","duration","performance","count","processVideo","encodeURIComponent","eventSource","EventSource","withCredentials","onmessage","event","parse","close","onerror","handleStreamResponse","stream","streamUrl","onopen","debug","eventData","extra","_data$recipe$ingredie","_data$recipe$instruct","ingredientCount","instructionCount","statusMessage","debug_info","resetAll","showLoginScreen","handleGenerateRecipe","isAdmin","handleVideoSelect","video","videoId","video_id","channel","channel_title","isVisible","onToggle","placeholder","onKeyPress","ref","onScroll","thumbnail_url","lang","strokeLinecap","strokeLinejoin","_c8","$RefreshReg$"],"sources":["/Users/henrikpetersson/Desktop/Webbprojekt/makeiteasy/src/Food2Guide.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { \n  LinkIcon, \n  MagnifyingGlassIcon, \n  CheckCircleIcon,\n  ArrowDownTrayIcon,\n  ArrowRightOnRectangleIcon,\n  UserCircleIcon,\n  SparklesIcon,\n  FireIcon,\n  XMarkIcon,\n  WrenchScrewdriverIcon,\n  BookOpenIcon, \n  BookmarkIcon, \n  PlusCircleIcon,\n  ArrowLeftIcon,\n  ExclamationCircleIcon,\n  ChevronUpIcon,\n  ChevronDownIcon,\n  CogIcon,\n  DocumentIcon,\n  ArrowUturnLeftIcon,\n  BugAntIcon\n} from '@heroicons/react/24/outline';\nimport logger from './Logger';\nimport LogPanel from './LogPanel';\n\nconst API_BASE = 'http://localhost:8001';\n\nconst Spinner = ({ size = 'h-5 w-5', color = 'text-white' }) => (\n  <svg className={`animate-spin ${size} ${color}`} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n  </svg>\n);\n\n\n\n// RecipeStreamViewer component to display the recipe and buttons\nconst RecipeStreamViewer = ({ status, error, data, onReset, currentUser }) => {\n  // Visa receptet direkt istället för knappar\n  const [showAdvancedSettings, setShowAdvancedSettings] = useState(false);\n  \n  // Handle PDF download\n  const handleDownloadPdf = async (recipeData) => {\n    try {\n      // Debug: Log recipeData to see if thumbnail_path is present\n      console.log('Recipe data for PDF generation:', recipeData);\n      console.log('Thumbnail path in recipeData:', recipeData.thumbnail_path);\n      \n      // Convert instructions format if needed\n      const formattedInstructions = recipeData.instructions.map((instruction, idx) => {\n        if (typeof instruction === 'string') {\n          return { step: idx + 1, description: instruction };\n        } else if (typeof instruction === 'object') {\n          return { \n            step: instruction.step || idx + 1, \n            description: instruction.description || `Step ${idx + 1}`\n          };\n        }\n        return { step: idx + 1, description: `Step ${idx + 1}` };\n      });\n\n      // Format ingredients if needed\n      const formattedIngredients = recipeData.ingredients.map(ingredient => {\n        if (typeof ingredient === 'string') {\n          return { name: ingredient, quantity: '' };\n        }\n        return ingredient;\n      });\n\n      // Create properly formatted request\n      const formattedRequest = {\n        ...recipeData,\n        ingredients: formattedIngredients,\n        instructions: formattedInstructions,\n        template_name: \"professional\",\n        image_orientation: \"landscape\",\n        show_top_image: showTopImage,\n        show_step_images: showStepImages\n      };\n\n      // Debug: Log formatted request to see if thumbnail_path is included\n      console.log('Formatted request for PDF generation:', formattedRequest);\n      console.log('Thumbnail path in formatted request:', formattedRequest.thumbnail_path);\n\n      const response = await fetch(`${API_BASE}/api/v1/generate-pdf`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(formattedRequest),\n        credentials: 'include'\n      });\n      \n      if (!response.ok) {\n        throw new Error(`Error: ${response.status}`);\n      }\n      \n      // Create a blob from the PDF stream\n      const blob = await response.blob();\n      \n      // Create a link element and trigger download\n      const downloadUrl = window.URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = downloadUrl;\n      link.download = `${formattedRequest.title.replace(/\\s+/g, '_')}.pdf`;\n      document.body.appendChild(link);\n      link.click();\n      link.remove();\n    } catch (err) {\n      console.error('Failed to download PDF:', err);\n      alert('Failed to download PDF. Please try again.');\n    }\n  };\n  \n  // Handle saving recipe (for logged in users)\n  const handleSaveRecipe = async (recipeData) => {\n    try {\n      const response = await fetch(`${API_BASE}/api/v1/recipes/save`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          recipe_content: recipeData,\n          source_url: '' // We don't have this in this context\n        }),\n        credentials: 'include'\n      });\n      \n      if (!response.ok) {\n        throw new Error(`Error: ${response.status}`);\n      }\n      \n      alert('Recipe saved successfully!');\n    } catch (err) {\n      console.error('Failed to save recipe:', err);\n      alert('Failed to save recipe. Please try again.');\n    }\n  };\n  \n  // If still streaming or error occurred\n  if (Object.keys(data).length === 0) {\n    return (\n      <div className=\"text-center\">\n        {error ? (\n          <div className=\"text-red-500 mb-4\">\n            <ExclamationCircleIcon className=\"h-12 w-12 mx-auto mb-2 text-red-500\" />\n            <h3 className=\"text-xl font-bold mb-2\">Error</h3>\n            <p>{error}</p>\n            <button\n              onClick={onReset}\n              className=\"mt-6 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors\"\n            >\n              Try Again\n            </button>\n          </div>\n        ) : (\n          <div>\n            <div className=\"flex justify-center mb-4\">\n              <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500\"></div>\n            </div>\n            <h3 className=\"text-xl font-bold mb-2\">Processing</h3>\n            <p className=\"text-gray-600\">{status}</p>\n          </div>\n        )}\n      </div>\n    );\n  }\n  \n  // Recipe is ready, show recipe content directly\n  return (\n    <div>\n      {/* Recipe display view - A4 width optimized */}\n      <div className=\"recipe-display a4-format\">\n        <div className=\"flex justify-between items-center mb-6\">\n          <h2 className=\"text-3xl font-bold\">{data.title}</h2>\n        </div>\n        \n        {data.thumbnail_path && (\n          <div className=\"mb-6\">\n            <img \n              src={data.thumbnail_path} \n              alt={data.title} \n              className=\"w-full h-auto object-cover rounded-lg shadow-md\" \n            />\n          </div>\n        )}\n        \n        <p className=\"text-gray-600 mb-6\">{data.description}</p>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\">\n          <div className=\"bg-gray-50 p-3 rounded-lg\">\n            <p className=\"text-sm text-gray-500\">Servings</p>\n            <p className=\"font-medium\">{data.servings}</p>\n          </div>\n          <div className=\"bg-gray-50 p-3 rounded-lg\">\n            <p className=\"text-sm text-gray-500\">Prep Time</p>\n            <p className=\"font-medium\">{data.prep_time}</p>\n          </div>\n          <div className=\"bg-gray-50 p-3 rounded-lg\">\n            <p className=\"text-sm text-gray-500\">Cook Time</p>\n            <p className=\"font-medium\">{data.cook_time}</p>\n          </div>\n        </div>\n        \n        <div className=\"flex flex-col md:flex-row gap-8 mb-8\">\n          <div className=\"md:w-1/3\">\n            <h3 className=\"text-2xl font-semibold mb-4\">Ingredients</h3>\n            <ul className=\"list-disc pl-5 space-y-2\">\n              {data.ingredients && data.ingredients.map((ing, idx) => (\n                <li key={idx} className=\"text-gray-700\">\n                  {ing.quantity} {ing.name} {ing.notes && <span className=\"text-gray-500\">({ing.notes})</span>}\n                </li>\n              ))}\n            </ul>\n          </div>\n          \n          <div className=\"md:w-2/3\">\n            <h3 className=\"text-2xl font-semibold mb-4\">Instructions</h3>\n            <ol className=\"list-decimal pl-5 space-y-4\">\n              {data.instructions && data.instructions.length > 0 ? (\n                data.instructions.map((step, idx) => (\n                  <li key={idx} className=\"text-gray-700\">\n                    {typeof step === 'string' ? step : step.description || `Steg ${idx + 1}`}\n                  </li>\n                ))\n              ) : (\n                <div className=\"text-red-500 font-medium\">Instruktioner saknas</div>\n              )}\n            </ol>\n          </div>\n        </div>\n        \n        {Array.isArray(data.chef_tips) && data.chef_tips.length > 0 && (\n          <div className=\"mb-8 bg-amber-50 p-4 rounded-lg\">\n            <h3 className=\"text-xl font-semibold mb-2\">Chef Tips</h3>\n            <ul className=\"list-disc pl-5 space-y-2\">\n              {data.chef_tips.map((tip, idx) => (\n                <li key={idx} className=\"text-gray-700\">{tip}</li>\n              ))}\n            </ul>\n          </div>\n        )}\n        \n        {data.nutritional_information && (\n          <div className=\"border-t pt-6 mt-6\">\n            <h3 className=\"text-lg font-semibold mb-2\">Nutritional Information</h3>\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n              {data.nutritional_information.calories && (\n                <div>\n                  <p className=\"text-sm text-gray-500\">Calories</p>\n                  <p>{data.nutritional_information.calories}</p>\n                </div>\n              )}\n              {data.nutritional_information.protein && (\n                <div>\n                  <p className=\"text-sm text-gray-500\">Protein</p>\n                  <p>{data.nutritional_information.protein}</p>\n                </div>\n              )}\n              {data.nutritional_information.carbohydrates && (\n                <div>\n                  <p className=\"text-sm text-gray-500\">Carbs</p>\n                  <p>{data.nutritional_information.carbohydrates}</p>\n                </div>\n              )}\n              {data.nutritional_information.fat && (\n                <div>\n                  <p className=\"text-sm text-gray-500\">Fat</p>\n                  <p>{data.nutritional_information.fat}</p>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n        \n        {/* Admin settings */}\n        {currentUser?.is_admin && (\n          <div className=\"mb-6 border border-gray-200 rounded-lg p-4 bg-gray-50 mt-8\">\n            <button \n              onClick={() => setShowAdvancedSettings(!showAdvancedSettings)}\n              className=\"flex items-center justify-between w-full text-left text-sm font-medium text-gray-700 mb-2\"\n            >\n              <span className=\"flex items-center gap-2\">\n                <CogIcon className=\"h-5 w-5 text-gray-500\" />\n                Admin Settings\n              </span>\n              <ChevronDownIcon className={`h-5 w-5 transition-transform ${showAdvancedSettings ? 'rotate-180' : ''}`} />\n            </button>\n            \n            {showAdvancedSettings && (\n              <div className=\"pt-2 space-y-3 border-t border-gray-200\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Show Images in PDF</label>\n                  <div className=\"flex gap-4\">\n                    <label className=\"flex items-center\">\n                      <input \n                        type=\"radio\" \n                        name=\"showImages\" \n                        checked={showImages} \n                        onChange={() => setShowImages(true)} \n                        className=\"mr-2\" \n                      />\n                      Yes\n                    </label>\n                    <label className=\"flex items-center\">\n                      <input \n                        type=\"radio\" \n                        name=\"showImages\" \n                        checked={!showImages} \n                        onChange={() => setShowImages(false)} \n                        className=\"mr-2\" \n                      />\n                      No\n                    </label>\n                  </div>\n                </div>\n                \n                <button\n                  onClick={showTestPdfModal}\n                  className=\"w-full bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium py-2 px-4 rounded-lg transition-colors flex items-center justify-center gap-2\"\n                >\n                  <DocumentIcon className=\"h-5 w-5\" />\n                  Test PDF Templates\n                </button>\n              </div>\n            )}\n          </div>\n        )}\n        \n        {/* Action buttons at the bottom */}\n        <div className=\"flex flex-wrap justify-center gap-4 mt-8 pt-6 border-t border-gray-200\">\n          <button\n            onClick={() => handleDownloadPdf(data)}\n            className=\"flex items-center justify-center gap-2 bg-green-600 text-white font-semibold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors\"\n          >\n            <ArrowDownTrayIcon className=\"h-5 w-5\" />\n            <span>Download PDF</span>\n          </button>\n          \n          {currentUser && (\n            <button\n              onClick={() => handleSaveRecipe(data)}\n              className=\"flex items-center justify-center gap-2 bg-purple-600 text-white font-semibold py-3 px-6 rounded-lg hover:bg-purple-700 transition-colors\"\n            >\n              <BookmarkIcon className=\"h-5 w-5\" />\n              <span>Save to Recipes</span>\n            </button>\n          )}\n          \n          <button\n            onClick={onReset}\n            className=\"flex items-center justify-center gap-2 bg-amber-600 text-white font-semibold py-3 px-6 rounded-lg hover:bg-amber-700 transition-colors\"\n          >\n            <PlusCircleIcon className=\"h-5 w-5\" />\n            <span>Create New Recipe</span>\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n\nconst MyRecipesViewer = ({ onBack, currentUser }) => {\n  const [recipes, setRecipes] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchRecipes = async () => {\n      try {\n        const response = await fetch(`${API_BASE}/api/v1/recipes`, { credentials: 'include' });\n        if (!response.ok) {\n          throw new Error('Failed to fetch recipes');\n        }\n        const data = await response.json();\n        setRecipes(data);\n      } catch (err) {\n        setError(err.message);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchRecipes();\n  }, []);\n\n  if (isLoading) {\n    return (\n      <div className=\"text-center\">\n        <Spinner size=\"h-8 w-8\" color=\"text-green-600\" />\n        <p className=\"mt-2\">Loading your recipes...</p>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"text-center text-red-500\">\n        <p>Error: {error}</p>\n        <button onClick={onBack} className=\"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md\">Back</button>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <div className=\"flex justify-between items-center mb-6\">\n        <h2 className=\"text-3xl font-bold\">My Saved Recipes</h2>\n        <button onClick={onBack} className=\"flex items-center text-gray-500 hover:text-gray-700 text-sm\">\n          <ArrowLeftIcon className=\"h-4 w-4 mr-1\" />\n          <span>Back to Generator</span>\n        </button>\n      </div>\n      {recipes.length === 0 ? (\n        <p>You haven't saved any recipes yet.</p>\n      ) : (\n        <div className=\"space-y-4\">\n          {recipes.map(recipe => (\n            <div key={recipe.id} className=\"bg-white p-4 rounded-lg shadow-md border border-gray-200\">\n              <h3 className=\"font-bold text-lg\">{recipe.recipe_content.title}</h3>\n              <p className=\"text-sm text-gray-600\">Saved on: {new Date(recipe.created_at).toLocaleDateString()}</p>\n              <a href={recipe.source_url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-blue-500 text-sm hover:underline\">\n                {recipe.source_url}\n              </a>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst Header = ({ currentUser, handleLogout, showAuthModal, usageStatus, showTestPdfModal, showMyRecipes }) => (\n  <header className=\"bg-white/80 backdrop-blur-sm border-b border-gray-200/80 shadow-sm sticky top-0 z-50 font-poppins\">\n    <div className=\"max-w-7xl mx-auto px-6\">\n      <div className=\"flex justify-between items-center py-3\">\n        <div className=\"flex items-center gap-2\">\n          <a href=\"/\">\n            <img className=\"h-10 w-auto\" src=\"/logo.png\" alt=\"Food2Guide\" />\n          </a>\n        </div>\n        {currentUser ? (\n          <div className=\"flex items-center gap-6\">\n            <div className=\"flex items-center gap-2\">\n                <UserCircleIcon className=\"h-6 w-6 text-gray-500\" />\n                <span className=\"text-sm text-gray-700 font-medium hidden sm:block\">{currentUser.full_name || currentUser.email}</span>\n            </div>\n            <button onClick={showMyRecipes} className=\"flex items-center gap-2 text-sm text-gray-600 hover:text-blue-600 transition-colors\">\n              <BookOpenIcon className=\"h-5 w-5\" />\n              <span className=\"hidden sm:block\">My Recipes</span>\n            </button>\n            {currentUser.is_admin && (\n              <button \n                onClick={showTestPdfModal}\n                className=\"flex items-center gap-2 text-sm text-blue-600 hover:text-blue-800 transition-colors\"\n              >\n                <WrenchScrewdriverIcon className=\"h-5 w-5\" />\n                <span className=\"hidden sm:block\">TEST PDF</span>\n              </button>\n            )}\n            <button onClick={handleLogout} className=\"flex items-center gap-2 text-sm text-gray-600 hover:text-red-600 transition-colors\">\n              <ArrowRightOnRectangleIcon className=\"h-5 w-5\" />\n              <span className=\"hidden sm:block\">Sign Out</span>\n            </button>\n          </div>\n        ) : (\n          <div className=\"flex items-center gap-4\">\n            {usageStatus && !usageStatus.is_authenticated && (\n              <div className=\"text-sm text-gray-600\">\n                <span className=\"font-medium text-blue-600\">{usageStatus.remaining_usage}</span> free PDFs remaining today\n              </div>\n            )}\n            <button \n              onClick={showAuthModal} \n              className=\"flex items-center justify-center gap-2 py-2 px-4 border border-gray-300 rounded-lg shadow-sm hover:shadow-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 transition-all\"\n            >\n                Sign In\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  </header>\n);\n\nconst AuthModal = ({ isOpen, onClose, initiateGoogleSignIn, authTab, setAuthTab }) => {\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n      <div className=\"bg-white rounded-2xl shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto\">\n        <div className=\"p-6\">\n          <div className=\"flex justify-between items-center mb-6\">\n            <h2 className=\"text-2xl font-bold text-gray-800\">Welcome to Food2Guide!</h2>\n            <button \n              onClick={onClose}\n              className=\"text-gray-400 hover:text-gray-600 transition-colors\"\n            >\n              <XMarkIcon className=\"h-6 w-6\" />\n            </button>\n          </div>\n          \n          <div className=\"flex justify-center gap-2 bg-gray-100 p-1 rounded-xl shadow-inner mb-6\">\n            <button \n              onClick={() => setAuthTab('login')} \n              className={`flex-1 px-4 py-2 text-sm font-semibold rounded-lg transition-colors ${\n                authTab === 'login' ? 'bg-white text-green-700 shadow-sm' : 'text-gray-500 hover:bg-gray-200'\n              }`}\n            >\n              Login\n            </button>\n            <button \n              onClick={() => setAuthTab('register')} \n              className={`flex-1 px-4 py-2 text-sm font-semibold rounded-lg transition-colors ${\n                authTab === 'register' ? 'bg-white text-green-700 shadow-sm' : 'text-gray-500 hover:bg-gray-200'\n              }`}\n            >\n              Register\n            </button>\n          </div>\n\n          {authTab === 'login' ? (\n            <div className=\"space-y-6\">\n              <form className=\"space-y-4\">\n                <div>\n                  <label htmlFor=\"login-email\" className=\"block text-sm font-medium text-gray-700 mb-1\">Email</label>\n                  <input \n                    type=\"email\" \n                    name=\"email\" \n                    id=\"login-email\" \n                    required \n                    className=\"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500\" \n                  />\n                </div>\n                <div>\n                  <label htmlFor=\"login-password\" className=\"block text-sm font-medium text-gray-700 mb-1\">Password</label>\n                  <input \n                    type=\"password\" \n                    name=\"password\" \n                    id=\"login-password\" \n                    required \n                    className=\"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500\" \n                  />\n                </div>\n                <button \n                  type=\"submit\" \n                  className=\"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-xl shadow-md hover:shadow-lg transition-transform transform hover:scale-[1.02]\"\n                >\n                  Sign In\n                </button>\n              </form>\n              \n              <div className=\"relative\">\n                <div className=\"absolute inset-0 flex items-center\">\n                  <div className=\"w-full border-t border-gray-300\"></div>\n                </div>\n                <div className=\"relative flex justify-center text-sm\">\n                  <span className=\"px-2 bg-white text-gray-500\">or</span>\n                </div>\n              </div>\n              \n              <button \n                onClick={initiateGoogleSignIn}\n                className=\"w-full flex items-center justify-center gap-3 py-3 px-4 border border-gray-300 rounded-xl shadow-sm hover:shadow-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 transition-all\"\n              >\n                <svg className=\"h-5 w-5\" viewBox=\"0 0 24 24\">\n                  <path fill=\"#4285F4\" d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"/>\n                  <path fill=\"#34A853\" d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"/>\n                  <path fill=\"#FBBC05\" d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"/>\n                  <path fill=\"#EA4335\" d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"/>\n                </svg>\n                Continue with Google\n              </button>\n            </div>\n          ) : (\n            <div className=\"space-y-6\">\n              <form className=\"space-y-4\">\n                <div>\n                  <label htmlFor=\"register-name\" className=\"block text-sm font-medium text-gray-700 mb-1\">Full Name</label>\n                  <input \n                    type=\"text\" \n                    name=\"name\" \n                    id=\"register-name\" \n                    required \n                    className=\"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500\" \n                  />\n                </div>\n                <div>\n                  <label htmlFor=\"register-email\" className=\"block text-sm font-medium text-gray-700 mb-1\">Email</label>\n                  <input \n                    type=\"email\" \n                    name=\"email\" \n                    id=\"register-email\" \n                    required \n                    className=\"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500\" \n                  />\n                </div>\n                <div>\n                  <label htmlFor=\"register-password\" className=\"block text-sm font-medium text-gray-700 mb-1\">Password</label>\n                  <input \n                    type=\"password\" \n                    name=\"password\" \n                    id=\"register-password\" \n                    required \n                    minLength=\"6\"\n                    className=\"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500\" \n                  />\n                </div>\n                <button \n                  type=\"submit\" \n                  className=\"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-xl shadow-md hover:shadow-lg transition-transform transform hover:scale-[1.02]\"\n                >\n                  Create Account\n                </button>\n              </form>\n              \n              <div className=\"relative\">\n                <div className=\"absolute inset-0 flex items-center\">\n                  <div className=\"w-full border-t border-gray-300\"></div>\n                </div>\n                <div className=\"relative flex justify-center text-sm\">\n                  <span className=\"px-2 bg-white text-gray-500\">or</span>\n                </div>\n              </div>\n              \n              <button \n                onClick={initiateGoogleSignIn}\n                className=\"w-full flex items-center justify-center gap-3 py-3 px-4 border border-gray-300 rounded-xl shadow-sm hover:shadow-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 transition-all\"\n              >\n                <svg className=\"h-5 w-5\" viewBox=\"0 0 24 24\">\n                  <path fill=\"#4285F4\" d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"/>\n                  <path fill=\"#34A853\" d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"/>\n                  <path fill=\"#FBBC05\" d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"/>\n                  <path fill=\"#EA4335\" d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"/>\n                </svg>\n                Sign up with Google\n              </button>\n            </div>\n          )}\n          \n\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst TestPdfModal = ({ isOpen, onClose, currentUser }) => {\n  const [selectedTemplate, setSelectedTemplate] = useState('professional');\n  const [selectedOrientation, setSelectedOrientation] = useState('landscape');\n  const [isGenerating, setIsGenerating] = useState(false);\n  \n  // Define available templates\n  const templates = ['default', 'modern', 'professional'];\n  \n  // Add CSS template selection to the PDF generation\n  const handleTemplateChange = (e) => {\n    setSelectedTemplate(e.target.value);\n  };\n  \n\n  const generateTestPdf = async () => {\n    setIsGenerating(true);\n    try {\n      // Create test recipe data\n      const testRecipe = {\n        title: \"Test Recipe for Template Preview\",\n        description: \"This is a test recipe to preview the selected template style.\",\n        ingredients: [\n          { name: \"Ingredient 1\", quantity: \"100g\" },\n          { name: \"Ingredient 2\", quantity: \"2 tbsp\" },\n          { name: \"Ingredient 3\", quantity: \"1 cup\" },\n        ],\n        instructions: [\n          { step: 1, description: \"Step 1: Do something with the ingredients\" },\n          { step: 2, description: \"Step 2: Mix everything together\" },\n          { step: 3, description: \"Step 3: Cook for 10 minutes\" }\n        ],\n        prep_time: \"10 min\",\n        cook_time: \"20 min\",\n        servings: 4,\n        difficulty: \"Easy\"\n      };\n      \n      // Add template and orientation to the request\n      const requestData = {\n        ...testRecipe,\n        template_name: selectedTemplate,\n        image_orientation: selectedOrientation\n      };\n      \n      const response = await fetch(`${API_BASE}/api/v1/generate-pdf`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(requestData),\n        credentials: 'include'\n      });\n      \n      if (response.ok) {\n        // Download the PDF\n        const blob = await response.blob();\n        const url = window.URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.href = url;\n        a.download = `test-${selectedTemplate}-${selectedOrientation}.pdf`;\n        document.body.appendChild(a);\n        a.click();\n        window.URL.revokeObjectURL(url);\n        document.body.removeChild(a);\n        \n        // Close modal\n        onClose();\n      } else {\n        const error = await response.json();\n        alert(`Error: ${error.detail || 'Failed to generate test PDF'}`);\n      }\n    } catch (error) {\n      console.error('Error generating test PDF:', error);\n      alert('Error generating test PDF. Please try again.');\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n      <div className=\"bg-white rounded-2xl shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto\">\n        <div className=\"p-6\">\n          <div className=\"flex justify-between items-center mb-6\">\n            <h2 className=\"text-2xl font-bold text-gray-800\">Test PDF Generation</h2>\n            <button \n              onClick={onClose}\n              className=\"text-gray-400 hover:text-gray-600 transition-colors\"\n            >\n              <XMarkIcon className=\"h-6 w-6\" />\n            </button>\n          </div>\n          \n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                CSS Template\n              </label>\n              <select \n                value={selectedTemplate}\n                onChange={(e) => setSelectedTemplate(e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              >\n                {templates.map(template => (\n                  <option key={template} value={template}>\n                    {template.charAt(0).toUpperCase() + template.slice(1)}\n                  </option>\n                ))}\n              </select>\n            </div>\n            \n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                CSS Template\n              </label>\n              <select \n                value={selectedTemplate}\n                onChange={handleTemplateChange}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              >\n                {templates.map(template => (\n                  <option key={template} value={template}>{template.charAt(0).toUpperCase() + template.slice(1)}</option>\n                ))}\n              </select>\n            </div>\n            \n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Image Orientation\n              </label>\n              <select \n                value={selectedOrientation}\n                onChange={(e) => setSelectedOrientation(e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              >\n                <option value=\"landscape\">Landscape (YouTube)</option>\n                <option value=\"portrait\">Portrait (TikTok/Shorts)</option>\n              </select>\n            </div>\n            \n            <div className=\"pt-4\">\n              <button\n                onClick={generateTestPdf}\n                disabled={isGenerating}\n                className={`w-full font-bold py-3 px-4 rounded-xl shadow-md hover:shadow-lg transition-transform transform hover:scale-[1.02] ${\n                  isGenerating \n                    ? 'bg-gray-400 cursor-not-allowed' \n                    : 'bg-blue-600 hover:bg-blue-700 text-white'\n                }`}\n              >\n                {isGenerating ? 'Generating...' : 'CREATE'}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst JobStatus = ({ job, onReset }) => {\n  const [status, setStatus] = useState(job.status);\n  const [details, setDetails] = useState(job.details);\n  const [pdfUrl, setPdfUrl] = useState(null);\n  const [error, setError] = useState(null);\n\n  const statusStates = [\n    { key: 'downloading', text: 'Downloading' },\n    { key: 'transcribing', text: 'Transcribing' },\n    { key: 'analyzing', text: 'Analyzing' },\n    { key: 'extracting_frames', text: 'Extracting Frames' },\n    { key: 'generating_pdf', text: 'Generating PDF' },\n  ];\n  const currentStatusIndex = statusStates.findIndex(s => status.toLowerCase().includes(s.key));\n  \n  useEffect(() => {\n    if (status === 'completed' || status === 'failed') {\n      if (job.pdf_url) setPdfUrl(job.pdf_url);\n      return;\n    }\n\n    const interval = setInterval(async () => {\n      try {\n        const response = await fetch(`${API_BASE}/api/v1/status/${job.job_id}`, { credentials: 'include' });\n        if (!response.ok) throw new Error('Network response was not ok');\n        \n        const data = await response.json();\n        setStatus(data.status);\n        setDetails(data.details);\n\n        if (data.status === 'completed') {\n          setPdfUrl(data.pdf_url);\n          clearInterval(interval);\n        } else if (data.status === 'failed') {\n          setError(data.details);\n          clearInterval(interval);\n        }\n      } catch (err) {\n        setError('Failed to fetch status.');\n        clearInterval(interval);\n      }\n    }, 2000);\n\n    return () => clearInterval(interval);\n  }, [job.job_id, status, job.pdf_url]);\n\n  if (status === 'failed') {\n    return (\n      <div className=\"text-center\">\n        <h3 className=\"text-xl font-semibold text-red-600\">Generation Failed</h3>\n        <p className=\"text-gray-600 my-4\">{error || details}</p>\n        <button onClick={onReset} className=\"bg-gray-700 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-800 transition-colors\">Start Over</button>\n      </div>\n    );\n  }\n\n  if (status === 'completed' && pdfUrl) {\n    return (\n      <div className=\"text-center\">\n        <h3 className=\"text-xl font-semibold text-green-600\">Recipe Ready!</h3>\n        <p className=\"text-gray-600 my-4\">Your recipe has been generated successfully.</p>\n        <div className=\"flex gap-4 justify-center\">\n          <a href={`${API_BASE}${pdfUrl}`} target=\"_blank\" rel=\"noopener noreferrer\" className=\"inline-flex items-center gap-2 bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors\">\n            <ArrowDownTrayIcon className=\"h-5 w-5\" /> Download PDF\n          </a>\n          <button onClick={onReset} className=\"bg-gray-200 text-gray-800 font-bold py-3 px-6 rounded-lg hover:bg-gray-300 transition-colors\">Create Another</button>\n        </div>\n      </div>\n    );\n  }\n\n  // Determine current step based on status\n  const getCurrentStep = () => {\n    if (status.toLowerCase().includes('downloading') || status.toLowerCase().includes('processing')) return 1;\n    if (status.toLowerCase().includes('transcribing')) return 2;\n    if (status.toLowerCase().includes('analyzing')) return 3;\n    if (status.toLowerCase().includes('frames') || status.toLowerCase().includes('extracting') || status.toLowerCase().includes('generating') || status.toLowerCase().includes('pdf')) return 4;\n    return 1; // Default to step 1\n  };\n\n  const currentStep = getCurrentStep();\n  const totalSteps = 4;\n\n  return (\n    <div className=\"text-center\">\n      <div className=\"mb-4\">\n        <span className=\"inline-block bg-blue-100 text-blue-800 text-sm font-medium px-3 py-1 rounded-full\">\n          Step {currentStep}/{totalSteps}\n        </span>\n      </div>\n      <h3 className=\"text-xl font-semibold text-blue-600\">Processing Video</h3>\n      <p className=\"text-gray-600 my-4\">{details}</p>\n      <div className=\"flex justify-center my-6\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n      </div>\n      <button onClick={onReset} className=\"bg-gray-200 text-gray-700 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300\">Start Over</button>\n    </div>\n  );\n};\n\n\nexport default function Food2Guide() {\n  const [activeTab, setActiveTab] = useState('paste');\n  const [videoUrl, setVideoUrl] = useState('');\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [language, setLanguage] = useState('en');\n  const [searchResults, setSearchResults] = useState([]); // Initialize as empty array\n  const [selectedVideoId, setSelectedVideoId] = useState(null);\n  const [job, setJob] = useState(null);\n  const [currentUser, setCurrentUser] = useState(null);\n  const [authTab, setAuthTab] = useState('login');\n  const [isSearching, setIsSearching] = useState(false);\n  const [searchPage, setSearchPage] = useState(1);\n  const [hasMoreResults, setHasMoreResults] = useState(true);\n  const [usageStatus, setUsageStatus] = useState(null);\n  const [isAuthModalOpen, setIsAuthModalOpen] = useState(false);\n  const [isTestPdfModalOpen, setIsTestPdfModalOpen] = useState(false);\n  const scrollContainerRef = useRef(null);\n  // 1. Add state for welcome snackbar\n  const [showWelcome, setShowWelcome] = useState(false);\n  \n  // Advanced Settings state\n  const [showAdvancedSettings, setShowAdvancedSettings] = useState(false);\n  const [showTopImage, setShowTopImage] = useState(true);\n  const [showStepImages, setShowStepImages] = useState(false);\n\n  const [dietPreference, setDietPreference] = useState('regular'); // regular, vegetarian, vegan\n  const [allergies, setAllergies] = useState({ gluten: false, nuts: false, eggs: false, dairy: false, shellfish: false });\n  const [instructionLevel, setInstructionLevel] = useState('intermediate'); // beginner, intermediate (default), expert\n  const [showCalories, setShowCalories] = useState(false); // No (default)\n  const [pdfStyle, setPdfStyle] = useState('modern');\n  const [includeNutrition, setIncludeNutrition] = useState(true);\n  const [includeTips, setIncludeTips] = useState(true);\n  const [maxSteps, setMaxSteps] = useState(10);\n  const [imageQuality, setImageQuality] = useState('high');\n  const [videoSource, setVideoSource] = useState('youtube'); // youtube eller tiktok\n  const [searchAttempted, setSearchAttempted] = useState(false); // New state to track if a search has been made\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [showAuthModal, setShowAuthModal] = useState(false);\n\n  const [showMyRecipes, setShowMyRecipes] = useState(false);\n\n  // States for streaming\n  const [isStreaming, setIsStreaming] = useState(false);\n  const [recipeData, setRecipeData] = useState({});\n  const [streamError, setStreamError] = useState(null);\n  const [streamStatus, setStreamStatus] = useState('');\n    \n  // States for logging\n  const [showLogPanel, setShowLogPanel] = useState(true); // Visa alltid som standard\n\n  const languages = [\n    { code: 'en', name: 'English' },\n    { code: 'sv', name: 'Svenska' },\n    { code: 'no', name: 'Norsk' },\n    { code: 'da', name: 'Dansk' },\n    { code: 'de', name: 'Deutsch' },\n    { code: 'fr', name: 'Français' },\n    { code: 'es', name: 'Español' },\n  ];\n\nuseEffect(() => {\n    logger.info('🚀 Food2Guide-komponenten initialiseras');\n    \n    // Försök att hämta användarinfo från backend via cookies\n    const fetchUser = async () => {\n      try {\n        logger.info('👤 Hämtar användarinformation...');\n        logger.apiCall('GET', '/api/v1/auth/me');\n        \n        const response = await fetch(`${API_BASE}/api/v1/auth/me`, {\n          credentials: 'include' // Viktigt: skicka cookies\n        });\n        \n        logger.apiResponse('GET', '/api/v1/auth/me', response.status);\n        \n        if (response.ok) {\n          const user = await response.json();\n          logger.success('✅ Användare inloggad', { user: user.email, admin: user.is_admin });\n          setCurrentUser(user);\n        } else {\n          logger.info('ℹ️ Ingen inloggad användare (förväntat)');\n        }\n      } catch (error) {\n        logger.error('❌ Misslyckades att hämta användare', error);\n      }\n    };\n    \n    fetchUser();\n    \n    const urlParams = new URLSearchParams(window.location.search);\n    const code = urlParams.get('code');\n    if (code) {\n      logger.info('🔗 OAuth-kod hittad i URL, hanterar callback...');\n      handleGoogleOAuthCallback(code);\n      window.history.replaceState({}, document.title, window.location.pathname);\n    } else {\n      checkUsageStatus();\n    }\n  }, []);\n\n\n\n  const checkUsageStatus = async () => {\n    try {\n      logger.info('📊 Kontrollerar användningsstatus...');\n      logger.apiCall('GET', '/api/v1/usage-status');\n      \n      const response = await fetch(`${API_BASE}/api/v1/usage-status`, { credentials: 'include' });\n      \n      logger.apiResponse('GET', '/api/v1/usage-status', response.status);\n      \n      if (response.ok) {\n        const status = await response.json();\n        logger.success('📊 Användningsstatus hämtad', status);\n        setUsageStatus(status);\n      } else {\n        logger.warn('⚠️ Kunde inte hämta användningsstatus');\n      }\n    } catch (error) {\n      logger.error('❌ Fel vid kontroll av användningsstatus', error);\n    }\n  };\n\n\n  const handleGoogleOAuthCallback = async (code) => {\n    try {\n      const authResponse = await fetch(`${API_BASE}/api/v1/auth/google/callback`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ code }),\n        credentials: 'include' // Viktigt: för att cookies ska sättas\n      });\n\n      if (authResponse.ok) {\n        const data = await authResponse.json();\n        if (data.user) {\n          setCurrentUser(data.user);\n          setIsAuthModalOpen(false);\n          setShowWelcome(true);\n          setTimeout(() => setShowWelcome(false), 4000);\n        } else {\n          alert('User data was not found in the response.');\n        }\n      } else {\n        const error = await authResponse.json();\n        alert(error.detail || 'Google Sign-In failed');\n      }\n    } catch (error) {\n      console.error('Google OAuth callback error:', error);\n      alert('Google Sign-In failed.');\n    }\n  };\n\n\n\n  const handleLogout = async () => {\n    try {\n      await fetch(`${API_BASE}/api/v1/auth/logout`, { method: 'POST', credentials: 'include' });\n    } catch (error) {\n      console.error(\"Logout failed\", error);\n    } finally {\n      setCurrentUser(null);\n    }\n  };\n\n  const initiateGoogleSignIn = async () => {\n    try {\n      const urlResponse = await fetch(`${API_BASE}/api/v1/auth/google/url`, { credentials: 'include' });\n      if (!urlResponse.ok) throw new Error('Failed to get Google OAuth URL');\n      const urlData = await urlResponse.json();\n      if (!urlData.auth_url) {\n          alert('Google Sign-In is not available.');\n        return;\n      }\n      setIsAuthModalOpen(false); // Close modal before redirecting\n      window.location.href = urlData.auth_url;\n    } catch (error) {\n      console.error('Google Sign-In error:', error);\n      alert('Could not initiate Google Sign-In.');\n    }\n  };\n\n\n\n  const handleScroll = () => {\n    const container = scrollContainerRef.current;\n    if (container) {\n      if (container.scrollTop + container.clientHeight >= container.scrollHeight - 100) {\n        loadMoreResults();\n      }\n    }\n  };\n\n  const loadMoreResults = async () => {\n    if (isSearching || !hasMoreResults) return;\n    \n    setIsSearching(true);\n    try {\n      const response = await fetch(`${API_BASE}/api/v1/search`, {\n        method: 'POST',\n        credentials: 'include',\n        headers: { \n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ query: searchQuery, language, source: videoSource, page: searchPage + 1 })\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setSearchResults(prevResults => [...prevResults, ...data.results]);\n        setSearchPage(prevPage => prevPage + 1);\n        if (data.results.length < 10) {\n          setHasMoreResults(false);\n        }\n      } else {\n        setHasMoreResults(false);\n      }\n    } catch (error) {\n      setHasMoreResults(false);\n    } finally {\n      setIsSearching(false);\n    }\n  };\n\n  // Ändra searchYouTube så att den skickar med videoSource\n  const searchYouTube = async () => {\n    if (!searchQuery.trim()) {\n      logger.warn('⚠️ Tomt sökfält - avbryter sökning');\n      return;\n    }\n    \n    logger.info('🔍 STARTAR VIDEOSÖKNING', { query: searchQuery, language, source: videoSource });\n    logger.apiCall('POST', '/api/v1/search', { query: searchQuery, language, source: videoSource, page: 1 });\n    \n    setIsSearching(true);\n    setSearchAttempted(true); // Mark that a search has been attempted\n    setSearchResults([]); // Clear previous results\n    setSearchPage(1);\n    setHasMoreResults(true);\n    \n    try {\n      const startTime = Date.now();\n      const response = await fetch(`${API_BASE}/api/v1/search`, {\n        method: 'POST',\n        credentials: 'include',\n        headers: { \n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ query: searchQuery, language, source: videoSource, page: 1 })\n      });\n      \n      const duration = Date.now() - startTime;\n      logger.performance('Sökning', duration);\n      \n      logger.apiResponse('POST', '/api/v1/search', response.status);\n      \n      if (response.ok) {\n        const data = await response.json();\n        logger.success(`✅ ${data.results.length} videor hittade`, { count: data.results.length });\n        setSearchResults(data.results);\n        if (data.results.length < 10) {\n          setHasMoreResults(false);\n          logger.info('ℹ️ Inga fler resultat att ladda');\n        }\n      } else {\n        logger.error('❌ Sökning misslyckades', null, { status: response.status });\n        alert('Search failed.');\n        setHasMoreResults(false);\n      }\n    } catch (error) {\n      logger.error('❌ Fel vid sökning', error);\n      alert('An error occurred during search.');\n      setHasMoreResults(false);\n    } finally {\n      setIsSearching(false);\n      logger.info('🔍 Sökning avslutad');\n    }\n  };\n\n  const processVideo = async () => {\n    if (!videoUrl) {\n      alert('Please provide a video URL.');\n      return;\n    }\n    \n    setIsStreaming(true);\n    setRecipeData({});\n    setStreamError(null);\n    setStreamStatus('Initializing stream...');\n\n    const url = `${API_BASE}/api/v1/generate-stream?video_url=${encodeURIComponent(videoUrl)}&language=${language}`;\n    \n    const eventSource = new EventSource(url, { withCredentials: true });\n\n    eventSource.onmessage = (event) => {\n      try {\n        const data = JSON.parse(event.data);\n\n        if (data.status === 'error') {\n          setStreamError(data.message);\n          setStreamStatus('Error occurred.');\n          setIsStreaming(false);\n          eventSource.close();\n        } else if (data.status === 'done') {\n          // This assumes the final recipe is sent with the 'done' status.\n          // If not, we might need to adjust the backend.\n          setRecipeData(data.recipe || recipeData); // Use final recipe or accumulated one.\n          setStreamStatus('Recipe generation complete!');\n          setIsStreaming(false); // Stop streaming view\n          eventSource.close();\n        } else if (data.status) {\n          // It's a status update\n          setStreamStatus(data.message);\n        }\n        \n        // This handles the recipe data chunk. Since we send the full recipe at the end,\n        // we can just update the state with the latest complete recipe object.\n        if (data.recipe) {\n          // Check if it's a complete recipe object, not a partial string\n          if (typeof data.recipe === 'object' && data.recipe.title) {\n            setRecipeData(data.recipe);\n          }\n        }\n      } catch (e) {\n        console.error('Failed to parse stream data:', e, 'Raw data:', event.data);\n      }\n    };\n\n    eventSource.onerror = (err) => {\n      console.error('EventSource failed:', err);\n      setStreamError('Failed to connect to the server. Please check your connection and try again.');\n      setStreamStatus('Connection error.');\n      setIsStreaming(false);\n      eventSource.close();\n    };\n  };\n\n  const handleStreamResponse = (url) => {\n    logger.info('🌊 STARTAR STREAMING-PROCESS', { url, language });\n    logger.stream('📡 Initialiserar EventSource-anslutning...');\n    \n    setIsStreaming(true);\n    setStreamStatus('Initializing stream...');\n    setStreamError('');\n    setRecipeData({});\n    logger.stream(`Startar stream för URL: ${url}`);\n\n    \n    // Add showImages parameter to the URL if the user is an admin\n    let streamUrl = `${API_BASE}/api/v1/generate-stream?video_url=${encodeURIComponent(url)}&language=${language}`;\n    if (currentUser?.is_admin) {\n      streamUrl += `&show_top_image=${showTopImage}&show_step_images=${showStepImages}`;\n      logger.info('👑 Admin-inställningar tillagda', { showTopImage, showStepImages });\n    }\n    \n    logger.info('🔗 EventSource URL skapad', { streamUrl });\n    \n    const eventSource = new EventSource(streamUrl);\n    // EventSource stödjer inte withCredentials som en inställning\n    // eventSource.withCredentials = true;\n    \n    \n    \n    eventSource.onopen = () => {\n      logger.success('✅ EventSource-anslutning öppnad');\n    };\n    \n    eventSource.onmessage = (event) => {\n      try {\n        const data = JSON.parse(event.data);\n        \n        // Logga alltid rådata för felsökning\n        logger.debug('📨 Mottaget EventSource-meddelande', { eventData: event.data });\n        logger.stream('📦 Parsed stream data', data);\n\n        // Skicka vidare backend-loggar till frontend-loggern\n        if (data.log) {\n            logger.info(`[BACKEND] ${data.log.message}`, data.log.extra);\n        }\n\n        if (data.status === 'error') {\n          logger.error('❌ Stream-fel mottaget', null, data);\n          setStreamError(data.message);\n          setStreamStatus('Error occurred.');\n          setIsStreaming(false);\n          eventSource.close();\n        } else if (data.status === 'completed') {\n          logger.success('🎉 Stream avslutad!');\n          if (data.recipe) {\n            logger.success('📄 Recept mottaget', { \n              title: data.recipe.title,\n              ingredientCount: data.recipe.ingredients?.length,\n              instructionCount: data.recipe.instructions?.length\n            });\n            setRecipeData(data.recipe);\n          }\n          setStreamStatus('Recipe generation complete!');\n          setIsStreaming(false); \n          eventSource.close();\n        } else if (data.status) {\n          const statusMessage = data.message || data.status;\n          logger.stream(`📡 Status: ${data.status}`, { message: statusMessage, debug: data.debug_info });\n          setStreamStatus(statusMessage);\n        }\n      } catch (err) {\n        logger.error('❌ Fel vid parsing av EventSource-data', err, { eventData: event.data });\n        setStreamError('Failed to parse server response.');\n        setIsStreaming(false);\n        eventSource.close();\n      }\n    };\n    \n    eventSource.onerror = (err) => {\n      logger.error('❌ EventSource-fel', err);\n      setStreamError('Connection to server failed. Please try again.');\n      setIsStreaming(false);\n      \n      eventSource.close();\n    };\n  };\n  \n  const resetAll = () => {\n    logger.info('🔄 Återställer all data...');\n    setVideoUrl('');\n    setSearchQuery('recipe');\n    setSearchResults([]);\n    setSelectedVideoId(null);\n    setJob(null);\n    setIsStreaming(false);\n    setRecipeData({});\n    setStreamError(null);\n    setStreamStatus('');\n    logger.success('✅ All data återställd');\n  };\n  \n  // Show login screen only if explicitly requested, not by default\n  const showLoginScreen = false; // Changed from requiring login to allowing anonymous usage\n  \n  // Function to show the Test PDF modal for admin users\n  const showTestPdfModal = () => {\n    if (currentUser?.is_admin) {\n      setIsTestPdfModalOpen(true);\n    }\n  };\n\n  // Handle generating a recipe from a video URL\n  const handleGenerateRecipe = () => {\n    if (!videoUrl) {\n      logger.warn('⚠️ Ingen video-URL angiven');\n      return;\n    }\n    \n    logger.info('🚀 STARTAR RECEPTGENERERING', { \n      videoUrl, \n      language, \n      isAdmin: currentUser?.is_admin,\n      showTopImage,\n      showStepImages \n    });\n    logger.event('GENERATE_RECIPE_STARTED', { videoUrl, language });\n    \n    // Reset any previous data\n    setJob(null);\n    setRecipeData({});\n    setStreamError('');\n    \n    logger.debug('🧹 Föregående data rensad');\n    \n    // Start the streaming process\n    handleStreamResponse(videoUrl);\n  };\n  \n  // Handle video selection from search\n  const handleVideoSelect = (video) => {\n    logger.info('🎥 Video vald från sökresultat', { \n      videoId: video.video_id, \n      title: video.title,\n      channel: video.channel_title \n    });\n    logger.event('VIDEO_SELECTED', { video });\n    \n    setSelectedVideoId(video.video_id);\n    setVideoUrl(`https://www.youtube.com/watch?v=${video.video_id}`);\n    \n    logger.success('✅ Video URL satt', { url: `https://www.youtube.com/watch?v=${video.video_id}` });\n  };\n\n  return (\n    <div className=\"font-poppins bg-gradient-to-br from-[#d6e5dd] to-[#eaf3ef] min-h-screen\">\n      <Header currentUser={currentUser} handleLogout={handleLogout} showAuthModal={() => setIsAuthModalOpen(true)} usageStatus={usageStatus} showTestPdfModal={() => setIsTestPdfModalOpen(true)} showMyRecipes={() => setShowMyRecipes(true)} />\n\n      \n      {/* LOGGPANEL - Alltid synlig för alla användare */}\n      <LogPanel \n        isVisible={showLogPanel} \n        onToggle={() => setShowLogPanel(!showLogPanel)} \n      />\n      \n      {/* Knapp för att visa/dölja loggar - fast position */}\n      <button\n        onClick={() => setShowLogPanel(!showLogPanel)}\n        className=\"fixed bottom-4 left-4 bg-gray-800 hover:bg-gray-700 text-white p-3 rounded-full shadow-lg z-40 transition-all duration-300\"\n        title={showLogPanel ? 'Dölj loggar' : 'Visa loggar'}\n      >\n        <BugAntIcon className=\"h-6 w-6\" />\n      </button>\n      <AuthModal\n        isOpen={isAuthModalOpen}\n        onClose={() => setIsAuthModalOpen(false)}\n        initiateGoogleSignIn={initiateGoogleSignIn}\n        authTab={authTab}\n        setAuthTab={setAuthTab}\n      />\n      {isTestPdfModalOpen && (\n        <TestPdfModal \n          isOpen={isTestPdfModalOpen}\n          onClose={() => setIsTestPdfModalOpen(false)}\n          currentUser={currentUser}\n        />\n      )}\n      {showWelcome && (\n        <div className=\"fixed top-6 left-1/2 -translate-x-1/2 z-50 bg-green-600 text-white px-6 py-3 rounded-xl shadow-lg text-lg font-semibold animate-fade-in-out\">\n          Welcome, {currentUser?.full_name || currentUser?.email}!\n        </div>\n      )}\n      \n      <main className=\"max-w-3xl mx-auto py-10 px-8\">\n        <div className=\"relative bg-white shadow-xl rounded-2xl p-10\">\n          <SparklesIcon className=\"absolute top-0 right-0 h-32 w-32 text-amber-300/30 -translate-y-1/3 translate-x-1/4\" />\n          \n          {showMyRecipes ? (\n            <MyRecipesViewer onBack={() => setShowMyRecipes(false)} currentUser={currentUser} />\n          ) : isStreaming || Object.keys(recipeData).length > 0 || streamError ? (\n            <RecipeStreamViewer \n              status={streamStatus}\n              error={streamError}\n              data={recipeData}\n              onReset={resetAll}\n              currentUser={currentUser}\n            />\n          ) : job ? (\n             <JobStatus job={job} onReset={resetAll} />\n          ) : (\n            <>\n              <h1 className=\"text-xl font-bold tracking-tight text-gray-800 text-center\">\n                Turn cooking videos into step-by-step recipes.\n              </h1>\n\n              <div className=\"mt-8 space-y-8\">\n                <div>\n                   <div className=\"flex gap-2 bg-gray-100 p-1 rounded-xl shadow-inner justify-center\">\n                    <button onClick={() => setActiveTab('paste')} className={`w-full text-sm rounded-lg px-4 py-2 flex items-center justify-center gap-2 transition-colors ${activeTab === 'paste' ? 'bg-green-600 text-white font-semibold shadow-sm' : 'bg-transparent text-gray-600 hover:bg-white/50'}`}>\n                      <LinkIcon className=\"h-5 w-5\"/>\n                      <span>Paste Link</span>\n                    </button>\n                    <button onClick={() => setActiveTab('search')} className={`w-full text-sm rounded-lg px-4 py-2 flex items-center justify-center gap-2 transition-colors ${activeTab === 'search' ? 'bg-green-600 text-white font-semibold shadow-sm' : 'bg-transparent hover:bg-gray-200/50'}`}>\n                      <MagnifyingGlassIcon className=\"h-5 w-5\" />\n                      Search Recipes\n                    </button>\n                  </div>\n                  <div className=\"mt-6\">\n                    {activeTab === 'paste' && (\n                      <div>\n                        <input\n                          id=\"video-url\"\n                          type=\"text\"\n                          value={videoUrl}\n                          onChange={(e) => { setVideoUrl(e.target.value); setSelectedVideoId(null); }}\n                          placeholder=\"Paste a YouTube or TikTok recipe video…\"\n                          className=\"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 text-sm\"\n                        />\n                      </div>\n                    )}\n                    {activeTab === 'search' && (\n                      <div className=\"flex gap-2\">\n                        <select\n                          value={videoSource}\n                          onChange={e => setVideoSource(e.target.value)}\n                          className=\"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-green-500\"\n                        >\n                          <option value=\"youtube\">YouTube</option>\n                          <option value=\"tiktok\">TikTok</option>\n                        </select>\n                        <input\n                          id=\"search-query\"\n                          type=\"text\"\n                          value={searchQuery}\n                          onChange={(e) => setSearchQuery(e.target.value)}\n                          onKeyPress={(e) => e.key === 'Enter' && searchYouTube()}\n                          placeholder=\"Search for YouTube or TikTok video...\"\n                          className=\"flex-grow px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 text-sm\"\n                        />\n                        <button onClick={searchYouTube} disabled={isSearching} className=\"bg-gray-700 text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors disabled:bg-gray-400 flex items-center justify-center w-14\">\n                          {isSearching ? <Spinner /> : <MagnifyingGlassIcon className=\"h-5 w-5\" />}\n                        </button>\n                      </div>\n                    )}\n                  </div>\n                </div>\n\n                {/* Search Results Section */}\n                <div className=\"mt-8\">\n                  {isSearching && searchResults.length === 0 && (\n                    <div className=\"flex justify-center items-center p-8\">\n                      <Spinner size=\"h-8 w-8\" color=\"text-green-600\" />\n                    </div>\n                  )}\n\n                  {searchAttempted && !isSearching && searchResults.length === 0 && (\n                    <div className=\"text-center py-8\">\n                      <p className=\"text-gray-500\">No videos found for your search. Please try again.</p>\n                    </div>\n                  )}\n\n                  {searchResults.length > 0 && (\n                    <div className=\"space-y-4\">\n                      <div className=\"flex justify-between items-center\">\n                        <h3 className=\"text-gray-800 text-sm font-bold tracking-tight\">Search Results</h3>\n                        <button \n                          onClick={() => {\n                            setSearchResults([]);\n                            setSearchAttempted(false);\n                            setActiveTab('paste');\n                          }}\n                          className=\"flex items-center text-gray-500 hover:text-gray-700 text-sm\"\n                        >\n                          <ArrowLeftIcon className=\"h-4 w-4 mr-1\" />\n                          <span>Back</span>\n                        </button>\n                      </div>\n                      <div \n                        ref={scrollContainerRef}\n                        onScroll={handleScroll}\n                        className=\"max-h-[25rem] overflow-y-auto grid grid-cols-2 gap-4 p-2\"\n                      >\n                        {searchResults.map((video) => (\n                          <div\n                            key={video.video_id}\n                            onClick={() => handleVideoSelect(video)}\n                            className={`cursor-pointer border-2 rounded-xl overflow-hidden transition-all duration-200 ${selectedVideoId === video.video_id ? 'border-green-500 shadow-lg scale-105' : 'border-transparent hover:border-green-400/50'}`}\n                          >\n                            <img src={video.thumbnail_url} alt={video.title} className=\"w-full h-28 object-cover\" />\n                            <div className=\"p-3\">\n                              <p className=\"font-semibold text-xs text-gray-800 line-clamp-2\">{video.title}</p>\n                              <p className=\"text-xs text-gray-500 mt-1\">{video.channel_title}</p>\n                            </div>\n                          </div>\n                        ))}\n                        {isSearching && searchResults.length > 0 && (\n                          <div className=\"col-span-2 flex justify-center items-center p-4\">\n                            <Spinner size=\"h-6 w-6\" color=\"text-green-600\" />\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  )}\n                </div>\n                <div>\n                  <select\n                    id=\"language-select\"\n                    value={language}\n                    onChange={(e) => setLanguage(e.target.value)}\n                    className=\"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 text-sm text-gray-700\"\n                  >\n                    {languages.map(lang => <option key={lang.code} value={lang.code}>{lang.name}</option>)}\n                  </select>\n                </div>\n                \n                {/* Advanced Settings - Only for logged in users */}\n                {currentUser && (\n                  <div className=\"border-t border-gray-200 pt-6\">\n                    <button\n                      onClick={() => setShowAdvancedSettings(!showAdvancedSettings)}\n                      className=\"flex items-center gap-2 text-sm text-gray-600 hover:text-gray-800 transition-colors\"\n                    >\n                      <WrenchScrewdriverIcon className=\"h-4 w-4\" />\n                      <span>Advanced Settings</span>\n                      <svg\n                        className={`h-4 w-4 transition-transform ${showAdvancedSettings ? 'rotate-180' : ''}`}\n                        fill=\"none\"\n                        stroke=\"currentColor\"\n                        viewBox=\"0 0 24 24\"\n                      >\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                      </svg>\n                    </button>\n                    \n                    {showAdvancedSettings && (\n                      <div className=\"mt-4 space-y-4 p-4 bg-gray-50 rounded-lg\">\n                        {/* 1. Show images */}\n                        <div>\n                          <label className=\"block text-sm font-medium text-gray-700 mb-2\">Top image (dish preview under title)</label>\n                          <div className=\"flex gap-4\">\n                            <label className=\"flex items-center\">\n                              <input type=\"radio\" name=\"showTopImage\" checked={showTopImage} onChange={() => setShowTopImage(true)} className=\"mr-2\" />\n                              Yes\n                            </label>\n                            <label className=\"flex items-center\">\n                              <input type=\"radio\" name=\"showTopImage\" checked={!showTopImage} onChange={() => setShowTopImage(false)} className=\"mr-2\" />\n                              No\n                            </label>\n                          </div>\n                        </div>\n\n                        <div>\n                          <label className=\"block text-sm font-medium text-gray-700 mb-2\">Step-by-step images</label>\n                          <div className=\"flex gap-4\">\n                            <label className=\"flex items-center\">\n                              <input type=\"radio\" name=\"showStepImages\" checked={showStepImages} onChange={() => setShowStepImages(true)} className=\"mr-2\" />\n                              Yes\n                            </label>\n                            <label className=\"flex items-center\">\n                              <input type=\"radio\" name=\"showStepImages\" checked={!showStepImages} onChange={() => setShowStepImages(false)} className=\"mr-2\" />\n                              No\n                            </label>\n                          </div>\n                        </div>\n                        \n                        {/* 2. Diet preference */}\n                        <div>\n                          <label className=\"block text-sm font-medium text-gray-700 mb-2\">Diet preference</label>\n                          <div className=\"flex gap-4\">\n                            <label className=\"flex items-center\">\n                              <input type=\"radio\" name=\"dietPreference\" value=\"regular\" checked={dietPreference === 'regular'} onChange={() => setDietPreference('regular')} className=\"mr-2\" />\n                              Regular (default)\n                            </label>\n                            <label className=\"flex items-center\">\n                              <input type=\"radio\" name=\"dietPreference\" value=\"vegetarian\" checked={dietPreference === 'vegetarian'} onChange={() => setDietPreference('vegetarian')} className=\"mr-2\" />\n                              Vegetarian\n                            </label>\n                            <label className=\"flex items-center\">\n                              <input type=\"radio\" name=\"dietPreference\" value=\"vegan\" checked={dietPreference === 'vegan'} onChange={() => setDietPreference('vegan')} className=\"mr-2\" />\n                              Vegan\n                            </label>\n                          </div>\n                        </div>\n                        \n                        {/* 3. Allergies */}\n                        <div>\n                          <label className=\"block text-sm font-medium text-gray-700 mb-2\">Allergies</label>\n                          <div className=\"flex flex-wrap gap-4\">\n                            <label className=\"flex items-center\">\n                              <input type=\"checkbox\" checked={allergies.gluten} onChange={() => setAllergies(a => ({ ...a, gluten: !a.gluten }))} className=\"mr-2\" />\n                              Gluten\n                            </label>\n                            <label className=\"flex items-center\">\n                              <input type=\"checkbox\" checked={allergies.nuts} onChange={() => setAllergies(a => ({ ...a, nuts: !a.nuts }))} className=\"mr-2\" />\n                              Nuts\n                            </label>\n                            <label className=\"flex items-center\">\n                              <input type=\"checkbox\" checked={allergies.eggs} onChange={() => setAllergies(a => ({ ...a, eggs: !a.eggs }))} className=\"mr-2\" />\n                              Eggs\n                            </label>\n                            <label className=\"flex items-center\">\n                              <input type=\"checkbox\" checked={allergies.dairy} onChange={() => setAllergies(a => ({ ...a, dairy: !a.dairy }))} className=\"mr-2\" />\n                              Dairy\n                            </label>\n                            <label className=\"flex items-center\">\n                              <input type=\"checkbox\" checked={allergies.shellfish} onChange={() => setAllergies(a => ({ ...a, shellfish: !a.shellfish }))} className=\"mr-2\" />\n                              Shellfish\n                            </label>\n                          </div>\n                        </div>\n                        \n                        {/* 4. Instruction detail level */}\n                        <div>\n                          <label className=\"block text-sm font-medium text-gray-700 mb-2\">Instruction detail level</label>\n                          <div className=\"flex gap-4\">\n                            <label className=\"flex items-center\">\n                              <input type=\"radio\" name=\"instructionLevel\" value=\"beginner\" checked={instructionLevel === 'beginner'} onChange={() => setInstructionLevel('beginner')} className=\"mr-2\" />\n                              Beginner\n                            </label>\n                            <label className=\"flex items-center\">\n                              <input type=\"radio\" name=\"instructionLevel\" value=\"intermediate\" checked={instructionLevel === 'intermediate'} onChange={() => setInstructionLevel('intermediate')} className=\"mr-2\" />\n                              Intermediate (default)\n                            </label>\n                            <label className=\"flex items-center\">\n                              <input type=\"radio\" name=\"instructionLevel\" value=\"expert\" checked={instructionLevel === 'expert'} onChange={() => setInstructionLevel('expert')} className=\"mr-2\" />\n                              Expert\n                            </label>\n                          </div>\n                        </div>\n                        \n                        {/* 5. Show calories / nutrition info */}\n                        <div>\n                          <label className=\"block text-sm font-medium text-gray-700 mb-2\">Show calories / nutrition info</label>\n                          <div className=\"flex gap-4\">\n                            <label className=\"flex items-center\">\n                              <input type=\"radio\" name=\"showCalories\" checked={showCalories} onChange={() => setShowCalories(true)} className=\"mr-2\" />\n                              Yes\n                            </label>\n                            <label className=\"flex items-center\">\n                              <input type=\"radio\" name=\"showCalories\" checked={!showCalories} onChange={() => setShowCalories(false)} className=\"mr-2\" />\n                              No (default)\n                            </label>\n                          </div>\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                )}\n                \n\n                \n                <div className=\"pt-6 border-t border-gray-200 flex flex-col items-center gap-6\">\n                  <button onClick={handleGenerateRecipe} className=\"flex items-center gap-2 w-full justify-center bg-amber-500 hover:bg-amber-600 text-white font-bold rounded-xl shadow-md px-6 py-3 transition-transform hover:scale-[1.02]\">\n                    <SparklesIcon className=\"h-6 w-6 mr-2\" />\n                    <span>Generate Recipe</span>\n                  </button>\n                </div>\n              </div>\n            </>\n          )}\n        </div>\n      </main>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}