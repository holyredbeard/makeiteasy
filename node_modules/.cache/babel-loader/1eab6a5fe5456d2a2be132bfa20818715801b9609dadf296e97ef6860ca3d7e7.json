{"ast":null,"code":"var _jsxFileName = \"/Users/henrikpetersson/Desktop/Webbprojekt/makeiteasy/src/Food2Guide.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { LinkIcon, MagnifyingGlassIcon, CheckCircleIcon, ArrowDownTrayIcon, ArrowRightOnRectangleIcon, UserCircleIcon, SparklesIcon, FireIcon, XMarkIcon, WrenchScrewdriverIcon } from '@heroicons/react/24/outline';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_BASE = 'http://localhost:8000';\nconst Header = _ref => {\n  let {\n    currentUser,\n    handleLogout,\n    showAuthModal,\n    usageStatus,\n    showTestPdfModal\n  } = _ref;\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    className: \"bg-white/80 backdrop-blur-sm border-b border-gray-200/80 shadow-sm sticky top-0 z-50 font-poppins\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto px-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center py-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"h-10 w-auto\",\n              src: \"/logo.png\",\n              alt: \"Food2Guide\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 23,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 22,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 9\n        }, this), currentUser ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(UserCircleIcon, {\n              className: \"h-6 w-6 text-gray-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 29,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-700 font-medium hidden sm:block\",\n              children: currentUser.full_name || currentUser.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 30,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 28,\n            columnNumber: 13\n          }, this), currentUser.is_admin && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: showTestPdfModal,\n            className: \"flex items-center gap-2 text-sm text-blue-600 hover:text-blue-800 transition-colors\",\n            children: [/*#__PURE__*/_jsxDEV(WrenchScrewdriverIcon, {\n              className: \"h-5 w-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 37,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"hidden sm:block\",\n              children: \"TEST PDF\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 38,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleLogout,\n            className: \"flex items-center gap-2 text-sm text-gray-600 hover:text-red-600 transition-colors\",\n            children: [/*#__PURE__*/_jsxDEV(ArrowRightOnRectangleIcon, {\n              className: \"h-5 w-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 42,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"hidden sm:block\",\n              children: \"Sign Out\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 11\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-4\",\n          children: [usageStatus && !usageStatus.is_authenticated && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-600\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium text-blue-600\",\n              children: usageStatus.remaining_usage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 17\n            }, this), \" free PDFs remaining today\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: showAuthModal,\n            className: \"flex items-center justify-center gap-2 py-2 px-4 border border-gray-300 rounded-lg shadow-sm hover:shadow-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 transition-all\",\n            children: \"Sign In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 3\n  }, this);\n};\n_c = Header;\nconst AuthModal = _ref2 => {\n  let {\n    isOpen,\n    onClose,\n    handleLogin,\n    handleRegister,\n    initiateGoogleSignIn,\n    authTab,\n    setAuthTab\n  } = _ref2;\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-2xl shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold text-gray-800\",\n            children: \"Welcome to Food2Guide!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onClose,\n            className: \"text-gray-400 hover:text-gray-600 transition-colors\",\n            children: /*#__PURE__*/_jsxDEV(XMarkIcon, {\n              className: \"h-6 w-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-center gap-2 bg-gray-100 p-1 rounded-xl shadow-inner mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setAuthTab('login'),\n            className: `flex-1 px-4 py-2 text-sm font-semibold rounded-lg transition-colors ${authTab === 'login' ? 'bg-white text-green-700 shadow-sm' : 'text-gray-500 hover:bg-gray-200'}`,\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setAuthTab('register'),\n            className: `flex-1 px-4 py-2 text-sm font-semibold rounded-lg transition-colors ${authTab === 'register' ? 'bg-white text-green-700 shadow-sm' : 'text-gray-500 hover:bg-gray-200'}`,\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), authTab === 'login' ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleLogin,\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"login-email\",\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                name: \"email\",\n                id: \"login-email\",\n                required: true,\n                className: \"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"login-password\",\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                name: \"password\",\n                id: \"login-password\",\n                required: true,\n                className: \"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-xl shadow-md hover:shadow-lg transition-transform transform hover:scale-[1.02]\",\n              children: \"Sign In\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-0 flex items-center\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-full border-t border-gray-300\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative flex justify-center text-sm\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"px-2 bg-white text-gray-500\",\n                children: \"or\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: initiateGoogleSignIn,\n            className: \"w-full flex items-center justify-center gap-3 py-3 px-4 border border-gray-300 rounded-xl shadow-sm hover:shadow-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 transition-all\",\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"h-5 w-5\",\n              viewBox: \"0 0 24 24\",\n              children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                fill: \"#4285F4\",\n                d: \"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                fill: \"#34A853\",\n                d: \"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                fill: \"#FBBC05\",\n                d: \"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                fill: \"#EA4335\",\n                d: \"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 17\n            }, this), \"Continue with Google\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleRegister,\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"register-name\",\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Full Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"name\",\n                id: \"register-name\",\n                required: true,\n                className: \"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"register-email\",\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                name: \"email\",\n                id: \"register-email\",\n                required: true,\n                className: \"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"register-password\",\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                name: \"password\",\n                id: \"register-password\",\n                required: true,\n                minLength: \"6\",\n                className: \"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-xl shadow-md hover:shadow-lg transition-transform transform hover:scale-[1.02]\",\n              children: \"Create Account\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-0 flex items-center\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-full border-t border-gray-300\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative flex justify-center text-sm\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"px-2 bg-white text-gray-500\",\n                children: \"or\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: initiateGoogleSignIn,\n            className: \"w-full flex items-center justify-center gap-3 py-3 px-4 border border-gray-300 rounded-xl shadow-sm hover:shadow-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 transition-all\",\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"h-5 w-5\",\n              viewBox: \"0 0 24 24\",\n              children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                fill: \"#4285F4\",\n                d: \"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                fill: \"#34A853\",\n                d: \"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                fill: \"#FBBC05\",\n                d: \"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                fill: \"#EA4335\",\n                d: \"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 17\n            }, this), \"Sign up with Google\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n};\n_c2 = AuthModal;\nconst TestPdfModal = _ref3 => {\n  _s();\n  let {\n    isOpen,\n    onClose,\n    currentUser\n  } = _ref3;\n  const [templates, setTemplates] = useState([]);\n  const [selectedTemplate, setSelectedTemplate] = useState('professional');\n  const [selectedOrientation, setSelectedOrientation] = useState('landscape');\n  const [isGenerating, setIsGenerating] = useState(false);\n\n  // Fetch available templates when modal opens\n  useEffect(() => {\n    if (isOpen && currentUser !== null && currentUser !== void 0 && currentUser.is_admin) {\n      fetchTemplates();\n    }\n  }, [isOpen, currentUser]);\n  const fetchTemplates = async () => {\n    try {\n      const response = await fetch(`${API_BASE}/api/v1/templates`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('authToken')}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setTemplates(data.templates || []);\n      }\n    } catch (error) {\n      console.error('Error fetching templates:', error);\n    }\n  };\n  const generateTestPdf = async () => {\n    setIsGenerating(true);\n    try {\n      const formData = new FormData();\n      formData.append('template_name', selectedTemplate);\n      formData.append('image_orientation', selectedOrientation);\n      const response = await fetch(`${API_BASE}/api/v1/test-pdf`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('authToken')}`\n        },\n        body: formData\n      });\n      if (response.ok) {\n        // Download the PDF\n        const blob = await response.blob();\n        const url = window.URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.href = url;\n        a.download = `test-${selectedTemplate}-${selectedOrientation}.pdf`;\n        document.body.appendChild(a);\n        a.click();\n        window.URL.revokeObjectURL(url);\n        document.body.removeChild(a);\n\n        // Close modal\n        onClose();\n      } else {\n        const error = await response.json();\n        alert(`Error: ${error.detail || 'Failed to generate test PDF'}`);\n      }\n    } catch (error) {\n      console.error('Error generating test PDF:', error);\n      alert('Error generating test PDF. Please try again.');\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-2xl shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold text-gray-800\",\n            children: \"Test PDF Generation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onClose,\n            className: \"text-gray-400 hover:text-gray-600 transition-colors\",\n            children: /*#__PURE__*/_jsxDEV(XMarkIcon, {\n              className: \"h-6 w-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"CSS Template\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: selectedTemplate,\n              onChange: e => setSelectedTemplate(e.target.value),\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",\n              children: templates.map(template => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: template,\n                children: template.charAt(0).toUpperCase() + template.slice(1)\n              }, template, false, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Image Orientation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: selectedOrientation,\n              onChange: e => setSelectedOrientation(e.target.value),\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"landscape\",\n                children: \"Landscape (YouTube)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"portrait\",\n                children: \"Portrait (TikTok/Shorts)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pt-4\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: generateTestPdf,\n              disabled: isGenerating,\n              className: `w-full font-bold py-3 px-4 rounded-xl shadow-md hover:shadow-lg transition-transform transform hover:scale-[1.02] ${isGenerating ? 'bg-gray-400 cursor-not-allowed' : 'bg-blue-600 hover:bg-blue-700 text-white'}`,\n              children: isGenerating ? 'Generating...' : 'CREATE'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 301,\n    columnNumber: 5\n  }, this);\n};\n_s(TestPdfModal, \"Oql2DswRt0RqzdWra1pFEMyKcF0=\");\n_c3 = TestPdfModal;\nconst JobStatus = _ref4 => {\n  _s2();\n  let {\n    job,\n    onReset\n  } = _ref4;\n  const [status, setStatus] = useState(job.status);\n  const [details, setDetails] = useState(job.details);\n  const [pdfUrl, setPdfUrl] = useState(null);\n  const [error, setError] = useState(null);\n  const statusStates = [{\n    key: 'downloading',\n    text: 'Downloading'\n  }, {\n    key: 'transcribing',\n    text: 'Transcribing'\n  }, {\n    key: 'analyzing',\n    text: 'Analyzing'\n  }, {\n    key: 'extracting_frames',\n    text: 'Extracting Frames'\n  }, {\n    key: 'generating_pdf',\n    text: 'Generating PDF'\n  }];\n  const currentStatusIndex = statusStates.findIndex(s => status.toLowerCase().includes(s.key));\n  useEffect(() => {\n    if (status === 'completed' || status === 'failed') {\n      if (job.pdf_url) setPdfUrl(job.pdf_url);\n      return;\n    }\n    const interval = setInterval(async () => {\n      try {\n        const response = await fetch(`${API_BASE}/api/v1/status/${job.job_id}`);\n        if (!response.ok) throw new Error('Network response was not ok');\n        const data = await response.json();\n        setStatus(data.status);\n        setDetails(data.details);\n        if (data.status === 'completed') {\n          setPdfUrl(data.pdf_url);\n          clearInterval(interval);\n        } else if (data.status === 'failed') {\n          setError(data.details);\n          clearInterval(interval);\n        }\n      } catch (err) {\n        setError('Failed to fetch status.');\n        clearInterval(interval);\n      }\n    }, 2000);\n    return () => clearInterval(interval);\n  }, [job.job_id, status, job.pdf_url]);\n  if (status === 'failed') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-semibold text-red-600\",\n        children: \"Generation Failed\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 my-4\",\n        children: error || details\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onReset,\n        className: \"bg-gray-700 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-800 transition-colors\",\n        children: \"Start Over\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 7\n    }, this);\n  }\n  if (status === 'completed' && pdfUrl) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-semibold text-green-600\",\n        children: \"Recipe Ready!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 my-4\",\n        children: \"Your recipe has been generated successfully.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-4 justify-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          href: `${API_BASE}${pdfUrl}`,\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          className: \"inline-flex items-center gap-2 bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors\",\n          children: [/*#__PURE__*/_jsxDEV(ArrowDownTrayIcon, {\n            className: \"h-5 w-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 13\n          }, this), \" Download PDF\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onReset,\n          className: \"bg-gray-200 text-gray-800 font-bold py-3 px-6 rounded-lg hover:bg-gray-300 transition-colors\",\n          children: \"Create Another\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 424,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Determine current step based on status\n  const getCurrentStep = () => {\n    if (status.toLowerCase().includes('downloading') || status.toLowerCase().includes('processing')) return 1;\n    if (status.toLowerCase().includes('transcribing')) return 2;\n    if (status.toLowerCase().includes('analyzing')) return 3;\n    if (status.toLowerCase().includes('frames') || status.toLowerCase().includes('extracting')) return 4;\n    if (status.toLowerCase().includes('generating') || status.toLowerCase().includes('pdf')) return 5;\n    return 1; // Default to step 1\n  };\n  const currentStep = getCurrentStep();\n  const totalSteps = 5;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"inline-block bg-blue-100 text-blue-800 text-sm font-medium px-3 py-1 rounded-full\",\n        children: [\"Step \", currentStep, \"/\", totalSteps]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 453,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 452,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-xl font-semibold text-blue-600\",\n      children: \"Processing Video\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 457,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-gray-600 my-4\",\n      children: details\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 458,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center my-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 459,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onReset,\n      className: \"bg-gray-200 text-gray-700 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300\",\n      children: \"Start Over\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 462,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 451,\n    columnNumber: 5\n  }, this);\n};\n_s2(JobStatus, \"+q29PUD4dJuGc5w6WZPUq0rJiEA=\");\n_c4 = JobStatus;\nexport default function Food2Guide() {\n  _s3();\n  const [activeTab, setActiveTab] = useState('paste');\n  const [videoUrl, setVideoUrl] = useState('');\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [language, setLanguage] = useState('en');\n  const [searchResults, setSearchResults] = useState([]);\n  const [selectedVideoId, setSelectedVideoId] = useState(null);\n  const [job, setJob] = useState(null);\n  const [authToken, setAuthToken] = useState(localStorage.getItem('authToken'));\n  const [currentUser, setCurrentUser] = useState(null);\n  const [authTab, setAuthTab] = useState('login');\n  const [isSearching, setIsSearching] = useState(false);\n  const [usageStatus, setUsageStatus] = useState(null);\n  const [isAuthModalOpen, setIsAuthModalOpen] = useState(false);\n  const [isTestPdfModalOpen, setIsTestPdfModalOpen] = useState(false);\n  // 1. Add state for welcome snackbar\n  const [showWelcome, setShowWelcome] = useState(false);\n\n  // Advanced Settings state\n  const [showAdvancedSettings, setShowAdvancedSettings] = useState(false);\n  const [showImages, setShowImages] = useState(true); // Yes (default)\n  const [dietPreference, setDietPreference] = useState('regular'); // regular, vegetarian, vegan\n  const [allergies, setAllergies] = useState({\n    gluten: false,\n    nuts: false,\n    eggs: false,\n    dairy: false,\n    shellfish: false\n  });\n  const [instructionLevel, setInstructionLevel] = useState('intermediate'); // beginner, intermediate (default), expert\n  const [showCalories, setShowCalories] = useState(false); // No (default)\n  const [pdfStyle, setPdfStyle] = useState('modern');\n  const [includeNutrition, setIncludeNutrition] = useState(true);\n  const [includeTips, setIncludeTips] = useState(true);\n  const [maxSteps, setMaxSteps] = useState(10);\n  const [imageQuality, setImageQuality] = useState('high');\n  const [videoSource, setVideoSource] = useState('youtube'); // youtube eller tiktok\n\n  const languages = [{\n    code: 'en',\n    name: 'English'\n  }, {\n    code: 'sv',\n    name: 'Svenska'\n  }, {\n    code: 'no',\n    name: 'Norsk'\n  }, {\n    code: 'da',\n    name: 'Dansk'\n  }, {\n    code: 'de',\n    name: 'Deutsch'\n  }, {\n    code: 'fr',\n    name: 'Français'\n  }, {\n    code: 'es',\n    name: 'Español'\n  }];\n  useEffect(() => {\n    const token = localStorage.getItem('authToken');\n    if (token) {\n      setAuthToken(token);\n    }\n  }, []);\n  useEffect(() => {\n    if (authToken) {\n      checkAuthStatus();\n    } else {\n      setCurrentUser(null);\n    }\n\n    // Always check usage status\n    checkUsageStatus();\n    const urlParams = new URLSearchParams(window.location.search);\n    const code = urlParams.get('code');\n    if (code) {\n      handleGoogleOAuthCallback(code);\n      window.history.replaceState({}, document.title, window.location.pathname);\n    }\n  }, [authToken]);\n  const checkAuthStatus = async () => {\n    if (authToken) {\n      try {\n        const response = await fetch(`${API_BASE}/api/v1/auth/me`, {\n          headers: {\n            'Authorization': `Bearer ${authToken}`\n          }\n        });\n        if (response.ok) {\n          const user = await response.json();\n          setCurrentUser(user);\n        } else {\n          handleLogout();\n        }\n      } catch (error) {\n        console.error('Auth check error:', error);\n        handleLogout();\n      }\n    }\n  };\n  const checkUsageStatus = async () => {\n    try {\n      const headers = {};\n      if (authToken) {\n        headers['Authorization'] = `Bearer ${authToken}`;\n      }\n      const response = await fetch(`${API_BASE}/api/v1/usage-status`, {\n        headers\n      });\n      if (response.ok) {\n        const status = await response.json();\n        setUsageStatus(status);\n      }\n    } catch (error) {\n      console.error('Usage status check error:', error);\n    }\n  };\n  const handleAuthAction = async (url, body) => {\n    try {\n      const response = await fetch(url, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(body)\n      });\n      if (response.ok) {\n        const data = await response.json();\n        localStorage.setItem('authToken', data.access_token);\n        setAuthToken(data.access_token);\n        setIsAuthModalOpen(false); // Close modal on successful auth\n        setShowWelcome(true);\n        setTimeout(() => setShowWelcome(false), 4000);\n      } else {\n        const error = await response.json();\n        alert(error.detail || 'Action failed');\n      }\n    } catch (error) {\n      alert('An error occurred. Please try again.');\n    }\n  };\n  const handleLogin = e => {\n    e.preventDefault();\n    const formData = new FormData(e.target);\n    const email = formData.get('email');\n    const password = formData.get('password');\n\n    // Use regular login endpoint for both admin and regular users\n    const body = {\n      email,\n      password\n    };\n    handleAuthAction(`${API_BASE}/api/v1/auth/login`, body);\n  };\n  const handleRegister = e => {\n    e.preventDefault();\n    const formData = new FormData(e.target);\n    const body = {\n      full_name: formData.get('name'),\n      email: formData.get('email'),\n      password: formData.get('password')\n    };\n    handleAuthAction(`${API_BASE}/api/v1/auth/register`, body);\n  };\n  const handleLogout = () => {\n    setAuthToken(null);\n    setCurrentUser(null);\n    localStorage.removeItem('authToken');\n  };\n  const initiateGoogleSignIn = async () => {\n    try {\n      const urlResponse = await fetch(`${API_BASE}/api/v1/auth/google/url`);\n      if (!urlResponse.ok) throw new Error('Failed to get Google OAuth URL');\n      const urlData = await urlResponse.json();\n      if (!urlData.auth_url) {\n        alert('Google Sign-In is not available.');\n        return;\n      }\n      setIsAuthModalOpen(false); // Close modal before redirecting\n      window.location.href = urlData.auth_url;\n    } catch (error) {\n      console.error('Google Sign-In error:', error);\n      alert('Could not initiate Google Sign-In.');\n    }\n  };\n  const handleGoogleOAuthCallback = async code => {\n    try {\n      const authResponse = await fetch(`${API_BASE}/api/v1/auth/google/callback`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          code\n        })\n      });\n      if (authResponse.ok) {\n        const data = await authResponse.json();\n        localStorage.setItem('authToken', data.access_token);\n        setAuthToken(data.access_token);\n        setIsAuthModalOpen(false); // Close modal on successful auth\n      } else {\n        const error = await authResponse.json();\n        alert(error.detail || 'Google Sign-In failed');\n      }\n    } catch (error) {\n      console.error('Google OAuth callback error:', error);\n      alert('Google Sign-In failed.');\n    }\n  };\n\n  // Ändra searchYouTube så att den skickar med videoSource\n  const searchYouTube = async () => {\n    if (!searchQuery.trim()) return;\n    setIsSearching(true);\n    try {\n      const response = await fetch(`${API_BASE}/api/v1/search`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${authToken}`\n        },\n        body: JSON.stringify({\n          query: searchQuery,\n          language,\n          source: videoSource\n        })\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setSearchResults(data.results);\n      } else {\n        alert('Search failed.');\n      }\n    } catch (error) {\n      alert('An error occurred during search.');\n    } finally {\n      setIsSearching(false);\n    }\n  };\n  const processVideo = async () => {\n    if (!videoUrl && !selectedVideoId) {\n      alert('Please provide a video URL or select a video.');\n      return;\n    }\n    setJob(null);\n    try {\n      const headers = {\n        'Content-Type': 'application/json'\n      };\n\n      // Add auth header only if user is logged in\n      if (authToken) {\n        headers['Authorization'] = `Bearer ${authToken}`;\n      }\n      const response = await fetch(`${API_BASE}/api/v1/generate`, {\n        method: 'POST',\n        headers: headers,\n        body: JSON.stringify({\n          youtube_url: videoUrl,\n          video_id: selectedVideoId,\n          language: language,\n          pdf_style: pdfStyle,\n          include_nutrition: includeNutrition,\n          include_tips: includeTips,\n          max_steps: maxSteps,\n          image_quality: imageQuality,\n          // Advanced Settings\n          show_images: showImages,\n          diet_preference: dietPreference,\n          allergies: Object.keys(allergies).filter(a => allergies[a]),\n          instruction_level: instructionLevel,\n          show_calories: showCalories\n        })\n      });\n      if (response.status === 202) {\n        const jobData = await response.json();\n        setJob(jobData);\n\n        // Update usage status after successful job creation\n        setTimeout(() => {\n          checkUsageStatus();\n        }, 1000);\n      } else {\n        const error = await response.json();\n        alert(`Error: ${error.detail}`);\n      }\n    } catch (error) {\n      alert('An unexpected error occurred.');\n    }\n  };\n  const resetAll = () => {\n    setVideoUrl('');\n    setSearchQuery('recipe');\n    setSearchResults([]);\n    setSelectedVideoId(null);\n    setJob(null);\n  };\n\n  // Show login screen only if explicitly requested, not by default\n  const showLoginScreen = false; // Changed from requiring login to allowing anonymous usage\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"font-poppins bg-gradient-to-br from-[#d6e5dd] to-[#eaf3ef] min-h-screen\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      currentUser: currentUser,\n      handleLogout: handleLogout,\n      showAuthModal: () => setIsAuthModalOpen(true),\n      usageStatus: usageStatus,\n      showTestPdfModal: () => setIsTestPdfModalOpen(true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 760,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AuthModal, {\n      isOpen: isAuthModalOpen,\n      onClose: () => setIsAuthModalOpen(false),\n      handleLogin: handleLogin,\n      handleRegister: handleRegister,\n      initiateGoogleSignIn: initiateGoogleSignIn,\n      authTab: authTab,\n      setAuthTab: setAuthTab\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 761,\n      columnNumber: 7\n    }, this), isTestPdfModalOpen && /*#__PURE__*/_jsxDEV(TestPdfModal, {\n      isOpen: isTestPdfModalOpen,\n      onClose: () => setIsTestPdfModalOpen(false),\n      currentUser: currentUser\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 771,\n      columnNumber: 9\n    }, this), showWelcome && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed top-6 left-1/2 -translate-x-1/2 z-50 bg-green-600 text-white px-6 py-3 rounded-xl shadow-lg text-lg font-semibold animate-fade-in-out\",\n      children: [\"Welcome, \", (currentUser === null || currentUser === void 0 ? void 0 : currentUser.full_name) || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.email), \"!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 778,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"max-w-xl mx-auto py-10 px-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative bg-white shadow-xl rounded-2xl p-10\",\n        children: [/*#__PURE__*/_jsxDEV(SparklesIcon, {\n          className: \"absolute top-0 right-0 h-32 w-32 text-amber-300/30 -translate-y-1/3 translate-x-1/4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 785,\n          columnNumber: 11\n        }, this), job ? /*#__PURE__*/_jsxDEV(JobStatus, {\n          job: job,\n          onReset: resetAll\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 788,\n          columnNumber: 14\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-xl font-bold tracking-tight text-gray-800 text-center\",\n            children: \"Turn cooking videos into step-by-step recipes.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 791,\n            columnNumber: 15\n          }, this), usageStatus && usageStatus.is_authenticated && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg text-center\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-green-800 font-semibold\",\n              children: \"Unlimited conversions \\u2014 enjoy!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 796,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 795,\n            columnNumber: 17\n          }, this), usageStatus && !usageStatus.is_authenticated && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg text-center\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-blue-800\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-semibold\",\n                children: usageStatus.remaining_usage\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 804,\n                columnNumber: 21\n              }, this), \" free conversions remaining today.\", /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setIsAuthModalOpen(true),\n                className: \"ml-1 text-blue-600 underline hover:text-blue-800\",\n                children: \"Sign in for unlimited access\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 805,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 803,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 802,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-8 space-y-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex gap-2 bg-gray-100 p-1 rounded-xl shadow-inner justify-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setActiveTab('paste'),\n                  className: `w-full text-sm rounded-lg px-4 py-2 flex items-center justify-center gap-2 transition-colors ${activeTab === 'paste' ? 'bg-green-600 text-white font-semibold shadow-sm' : 'bg-transparent text-gray-600 hover:bg-white/50'}`,\n                  children: [/*#__PURE__*/_jsxDEV(LinkIcon, {\n                    className: \"h-5 w-5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 815,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Paste Link\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 816,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 814,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setActiveTab('search'),\n                  className: `w-full text-sm rounded-lg px-4 py-2 flex items-center justify-center gap-2 transition-colors ${activeTab === 'search' ? 'bg-green-600 text-white font-semibold shadow-sm' : 'bg-transparent text-gray-600 hover:bg-white/50'}`,\n                  children: [/*#__PURE__*/_jsxDEV(MagnifyingGlassIcon, {\n                    className: \"h-5 w-5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 819,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Search YouTube\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 820,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 818,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 813,\n                columnNumber: 20\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-6\",\n                children: [activeTab === 'paste' && /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    id: \"video-url\",\n                    type: \"text\",\n                    value: videoUrl,\n                    onChange: e => {\n                      setVideoUrl(e.target.value);\n                      setSelectedVideoId(null);\n                    },\n                    placeholder: \"Paste a YouTube or TikTok recipe video\\u2026\",\n                    className: \"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 text-sm\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 826,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 825,\n                  columnNumber: 23\n                }, this), activeTab === 'search' && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                    value: videoSource,\n                    onChange: e => setVideoSource(e.target.value),\n                    className: \"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-green-500\",\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"youtube\",\n                      children: \"YouTube\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 843,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"tiktok\",\n                      children: \"TikTok\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 844,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 838,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    id: \"search-query\",\n                    type: \"text\",\n                    value: searchQuery,\n                    onChange: e => setSearchQuery(e.target.value),\n                    onKeyPress: e => e.key === 'Enter' && searchYouTube(),\n                    placeholder: \"Search for YouTube or TikTok video...\",\n                    className: \"flex-grow px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 text-sm\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 846,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: searchYouTube,\n                    disabled: isSearching,\n                    className: \"bg-gray-700 text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors disabled:bg-gray-400\",\n                    children: isSearching ? '...' : /*#__PURE__*/_jsxDEV(MagnifyingGlassIcon, {\n                      className: \"h-5 w-5\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 856,\n                      columnNumber: 50\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 855,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 837,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 823,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 812,\n              columnNumber: 17\n            }, this), searchResults.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-gray-800 text-sm font-bold tracking-tight\",\n                children: \"Search Results\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 864,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-1 sm:grid-cols-2 gap-4\",\n                children: searchResults.map(video => /*#__PURE__*/_jsxDEV(\"div\", {\n                  onClick: () => {\n                    setSelectedVideoId(video.id);\n                    setVideoUrl(`https://www.youtube.com/watch?v=${video.id}`);\n                  },\n                  className: `cursor-pointer border-2 rounded-xl overflow-hidden transition-all duration-200 ${selectedVideoId === video.id ? 'border-green-500 shadow-lg scale-105' : 'border-transparent hover:border-green-400/50'}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    src: video.thumbnail,\n                    alt: video.title,\n                    className: \"w-full h-28 object-cover\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 872,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"p-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-semibold text-xs text-gray-800 line-clamp-2\",\n                      children: video.title\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 874,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-xs text-gray-500 mt-1\",\n                      children: video.channel\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 875,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 873,\n                    columnNumber: 27\n                  }, this)]\n                }, video.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 867,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 865,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 863,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"select\", {\n                id: \"language-select\",\n                value: language,\n                onChange: e => setLanguage(e.target.value),\n                className: \"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 text-sm text-gray-700\",\n                children: languages.map(lang => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: lang.code,\n                  children: lang.name\n                }, lang.code, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 889,\n                  columnNumber: 44\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 883,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 882,\n              columnNumber: 17\n            }, this), currentUser && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"border-t border-gray-200 pt-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setShowAdvancedSettings(!showAdvancedSettings),\n                className: \"flex items-center gap-2 text-sm text-gray-600 hover:text-gray-800 transition-colors\",\n                children: [/*#__PURE__*/_jsxDEV(WrenchScrewdriverIcon, {\n                  className: \"h-4 w-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 900,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Advanced Settings\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 901,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: `h-4 w-4 transition-transform ${showAdvancedSettings ? 'rotate-180' : ''}`,\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  viewBox: \"0 0 24 24\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: 2,\n                    d: \"M19 9l-7 7-7-7\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 908,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 902,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 896,\n                columnNumber: 21\n              }, this), showAdvancedSettings && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-4 space-y-4 p-4 bg-gray-50 rounded-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-sm font-medium text-gray-700 mb-2\",\n                    children: \"Show images\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 916,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex gap-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"flex items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"radio\",\n                        name: \"showImages\",\n                        checked: showImages,\n                        onChange: () => setShowImages(true),\n                        className: \"mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 919,\n                        columnNumber: 31\n                      }, this), \"Yes (default)\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 918,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"flex items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"radio\",\n                        name: \"showImages\",\n                        checked: !showImages,\n                        onChange: () => setShowImages(false),\n                        className: \"mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 923,\n                        columnNumber: 31\n                      }, this), \"No\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 922,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 917,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 915,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-sm font-medium text-gray-700 mb-2\",\n                    children: \"Diet preference\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 931,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex gap-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"flex items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"radio\",\n                        name: \"dietPreference\",\n                        value: \"regular\",\n                        checked: dietPreference === 'regular',\n                        onChange: () => setDietPreference('regular'),\n                        className: \"mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 934,\n                        columnNumber: 31\n                      }, this), \"Regular (default)\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 933,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"flex items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"radio\",\n                        name: \"dietPreference\",\n                        value: \"vegetarian\",\n                        checked: dietPreference === 'vegetarian',\n                        onChange: () => setDietPreference('vegetarian'),\n                        className: \"mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 938,\n                        columnNumber: 31\n                      }, this), \"Vegetarian\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 937,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"flex items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"radio\",\n                        name: \"dietPreference\",\n                        value: \"vegan\",\n                        checked: dietPreference === 'vegan',\n                        onChange: () => setDietPreference('vegan'),\n                        className: \"mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 942,\n                        columnNumber: 31\n                      }, this), \"Vegan\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 941,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 932,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 930,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-sm font-medium text-gray-700 mb-2\",\n                    children: \"Allergies\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 950,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex flex-wrap gap-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"flex items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"checkbox\",\n                        checked: allergies.gluten,\n                        onChange: () => setAllergies(a => ({\n                          ...a,\n                          gluten: !a.gluten\n                        })),\n                        className: \"mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 953,\n                        columnNumber: 31\n                      }, this), \"Gluten\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 952,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"flex items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"checkbox\",\n                        checked: allergies.nuts,\n                        onChange: () => setAllergies(a => ({\n                          ...a,\n                          nuts: !a.nuts\n                        })),\n                        className: \"mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 957,\n                        columnNumber: 31\n                      }, this), \"Nuts\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 956,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"flex items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"checkbox\",\n                        checked: allergies.eggs,\n                        onChange: () => setAllergies(a => ({\n                          ...a,\n                          eggs: !a.eggs\n                        })),\n                        className: \"mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 961,\n                        columnNumber: 31\n                      }, this), \"Eggs\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 960,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"flex items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"checkbox\",\n                        checked: allergies.dairy,\n                        onChange: () => setAllergies(a => ({\n                          ...a,\n                          dairy: !a.dairy\n                        })),\n                        className: \"mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 965,\n                        columnNumber: 31\n                      }, this), \"Dairy\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 964,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"flex items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"checkbox\",\n                        checked: allergies.shellfish,\n                        onChange: () => setAllergies(a => ({\n                          ...a,\n                          shellfish: !a.shellfish\n                        })),\n                        className: \"mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 969,\n                        columnNumber: 31\n                      }, this), \"Shellfish\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 968,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 951,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 949,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-sm font-medium text-gray-700 mb-2\",\n                    children: \"Instruction detail level\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 977,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex gap-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"flex items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"radio\",\n                        name: \"instructionLevel\",\n                        value: \"beginner\",\n                        checked: instructionLevel === 'beginner',\n                        onChange: () => setInstructionLevel('beginner'),\n                        className: \"mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 980,\n                        columnNumber: 31\n                      }, this), \"Beginner\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 979,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"flex items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"radio\",\n                        name: \"instructionLevel\",\n                        value: \"intermediate\",\n                        checked: instructionLevel === 'intermediate',\n                        onChange: () => setInstructionLevel('intermediate'),\n                        className: \"mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 984,\n                        columnNumber: 31\n                      }, this), \"Intermediate (default)\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 983,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"flex items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"radio\",\n                        name: \"instructionLevel\",\n                        value: \"expert\",\n                        checked: instructionLevel === 'expert',\n                        onChange: () => setInstructionLevel('expert'),\n                        className: \"mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 988,\n                        columnNumber: 31\n                      }, this), \"Expert\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 987,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 978,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 976,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-sm font-medium text-gray-700 mb-2\",\n                    children: \"Show calories / nutrition info\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 996,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex gap-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"flex items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"radio\",\n                        name: \"showCalories\",\n                        checked: showCalories,\n                        onChange: () => setShowCalories(true),\n                        className: \"mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 999,\n                        columnNumber: 31\n                      }, this), \"Yes\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 998,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"flex items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"radio\",\n                        name: \"showCalories\",\n                        checked: !showCalories,\n                        onChange: () => setShowCalories(false),\n                        className: \"mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1003,\n                        columnNumber: 31\n                      }, this), \"No (default)\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1002,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 997,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 995,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 913,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 895,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pt-6 border-t border-gray-200 flex flex-col items-center gap-6\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: processVideo,\n                className: \"flex items-center gap-2 w-full justify-center bg-amber-500 hover:bg-amber-600 text-white font-bold rounded-xl shadow-md px-6 py-3 transition-transform hover:scale-[1.02]\",\n                children: [/*#__PURE__*/_jsxDEV(SparklesIcon, {\n                  className: \"h-6 w-6 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1017,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Generate Recipe\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1018,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1016,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1015,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 811,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 784,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 783,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 759,\n    columnNumber: 5\n  }, this);\n}\n_s3(Food2Guide, \"/QmE8Z/lMTRgG/6DgJTyDixaFc8=\");\n_c5 = Food2Guide;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"Header\");\n$RefreshReg$(_c2, \"AuthModal\");\n$RefreshReg$(_c3, \"TestPdfModal\");\n$RefreshReg$(_c4, \"JobStatus\");\n$RefreshReg$(_c5, \"Food2Guide\");","map":{"version":3,"names":["React","useState","useEffect","useRef","LinkIcon","MagnifyingGlassIcon","CheckCircleIcon","ArrowDownTrayIcon","ArrowRightOnRectangleIcon","UserCircleIcon","SparklesIcon","FireIcon","XMarkIcon","WrenchScrewdriverIcon","jsxDEV","_jsxDEV","Fragment","_Fragment","API_BASE","Header","_ref","currentUser","handleLogout","showAuthModal","usageStatus","showTestPdfModal","className","children","href","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","full_name","email","is_admin","onClick","is_authenticated","remaining_usage","_c","AuthModal","_ref2","isOpen","onClose","handleLogin","handleRegister","initiateGoogleSignIn","authTab","setAuthTab","onSubmit","htmlFor","type","name","id","required","viewBox","fill","d","minLength","_c2","TestPdfModal","_ref3","_s","templates","setTemplates","selectedTemplate","setSelectedTemplate","selectedOrientation","setSelectedOrientation","isGenerating","setIsGenerating","fetchTemplates","response","fetch","headers","localStorage","getItem","ok","data","json","error","console","generateTestPdf","formData","FormData","append","method","body","blob","url","window","URL","createObjectURL","a","document","createElement","download","appendChild","click","revokeObjectURL","removeChild","alert","detail","value","onChange","e","target","map","template","charAt","toUpperCase","slice","disabled","_c3","JobStatus","_ref4","_s2","job","onReset","status","setStatus","details","setDetails","pdfUrl","setPdfUrl","setError","statusStates","key","text","currentStatusIndex","findIndex","s","toLowerCase","includes","pdf_url","interval","setInterval","job_id","Error","clearInterval","err","rel","getCurrentStep","currentStep","totalSteps","_c4","Food2Guide","_s3","activeTab","setActiveTab","videoUrl","setVideoUrl","searchQuery","setSearchQuery","language","setLanguage","searchResults","setSearchResults","selectedVideoId","setSelectedVideoId","setJob","authToken","setAuthToken","setCurrentUser","isSearching","setIsSearching","setUsageStatus","isAuthModalOpen","setIsAuthModalOpen","isTestPdfModalOpen","setIsTestPdfModalOpen","showWelcome","setShowWelcome","showAdvancedSettings","setShowAdvancedSettings","showImages","setShowImages","dietPreference","setDietPreference","allergies","setAllergies","gluten","nuts","eggs","dairy","shellfish","instructionLevel","setInstructionLevel","showCalories","setShowCalories","pdfStyle","setPdfStyle","includeNutrition","setIncludeNutrition","includeTips","setIncludeTips","maxSteps","setMaxSteps","imageQuality","setImageQuality","videoSource","setVideoSource","languages","code","token","checkAuthStatus","checkUsageStatus","urlParams","URLSearchParams","location","search","get","handleGoogleOAuthCallback","history","replaceState","title","pathname","user","handleAuthAction","JSON","stringify","setItem","access_token","setTimeout","preventDefault","password","removeItem","urlResponse","urlData","auth_url","authResponse","searchYouTube","trim","query","source","results","processVideo","youtube_url","video_id","pdf_style","include_nutrition","include_tips","max_steps","image_quality","show_images","diet_preference","Object","keys","filter","instruction_level","show_calories","jobData","resetAll","showLoginScreen","placeholder","onKeyPress","length","video","thumbnail","channel","lang","stroke","strokeLinecap","strokeLinejoin","strokeWidth","checked","_c5","$RefreshReg$"],"sources":["/Users/henrikpetersson/Desktop/Webbprojekt/makeiteasy/src/Food2Guide.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { \n  LinkIcon, \n  MagnifyingGlassIcon, \n  CheckCircleIcon,\n  ArrowDownTrayIcon,\n  ArrowRightOnRectangleIcon,\n  UserCircleIcon,\n  SparklesIcon,\n  FireIcon,\n  XMarkIcon,\n  WrenchScrewdriverIcon,\n} from '@heroicons/react/24/outline';\n\nconst API_BASE = 'http://localhost:8000';\n\nconst Header = ({ currentUser, handleLogout, showAuthModal, usageStatus, showTestPdfModal }) => (\n  <header className=\"bg-white/80 backdrop-blur-sm border-b border-gray-200/80 shadow-sm sticky top-0 z-50 font-poppins\">\n    <div className=\"max-w-7xl mx-auto px-6\">\n      <div className=\"flex justify-between items-center py-3\">\n        <div className=\"flex items-center gap-2\">\n          <a href=\"/\">\n            <img className=\"h-10 w-auto\" src=\"/logo.png\" alt=\"Food2Guide\" />\n          </a>\n        </div>\n        {currentUser ? (\n          <div className=\"flex items-center gap-6\">\n            <div className=\"flex items-center gap-2\">\n                <UserCircleIcon className=\"h-6 w-6 text-gray-500\" />\n                <span className=\"text-sm text-gray-700 font-medium hidden sm:block\">{currentUser.full_name || currentUser.email}</span>\n            </div>\n            {currentUser.is_admin && (\n              <button \n                onClick={showTestPdfModal}\n                className=\"flex items-center gap-2 text-sm text-blue-600 hover:text-blue-800 transition-colors\"\n              >\n                <WrenchScrewdriverIcon className=\"h-5 w-5\" />\n                <span className=\"hidden sm:block\">TEST PDF</span>\n              </button>\n            )}\n            <button onClick={handleLogout} className=\"flex items-center gap-2 text-sm text-gray-600 hover:text-red-600 transition-colors\">\n              <ArrowRightOnRectangleIcon className=\"h-5 w-5\" />\n              <span className=\"hidden sm:block\">Sign Out</span>\n            </button>\n          </div>\n        ) : (\n          <div className=\"flex items-center gap-4\">\n            {usageStatus && !usageStatus.is_authenticated && (\n              <div className=\"text-sm text-gray-600\">\n                <span className=\"font-medium text-blue-600\">{usageStatus.remaining_usage}</span> free PDFs remaining today\n              </div>\n            )}\n            <button \n              onClick={showAuthModal} \n              className=\"flex items-center justify-center gap-2 py-2 px-4 border border-gray-300 rounded-lg shadow-sm hover:shadow-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 transition-all\"\n            >\n                Sign In\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  </header>\n);\n\nconst AuthModal = ({ isOpen, onClose, handleLogin, handleRegister, initiateGoogleSignIn, authTab, setAuthTab }) => {\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n      <div className=\"bg-white rounded-2xl shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto\">\n        <div className=\"p-6\">\n          <div className=\"flex justify-between items-center mb-6\">\n            <h2 className=\"text-2xl font-bold text-gray-800\">Welcome to Food2Guide!</h2>\n            <button \n              onClick={onClose}\n              className=\"text-gray-400 hover:text-gray-600 transition-colors\"\n            >\n              <XMarkIcon className=\"h-6 w-6\" />\n            </button>\n          </div>\n          \n          <div className=\"flex justify-center gap-2 bg-gray-100 p-1 rounded-xl shadow-inner mb-6\">\n            <button \n              onClick={() => setAuthTab('login')} \n              className={`flex-1 px-4 py-2 text-sm font-semibold rounded-lg transition-colors ${\n                authTab === 'login' ? 'bg-white text-green-700 shadow-sm' : 'text-gray-500 hover:bg-gray-200'\n              }`}\n            >\n              Login\n            </button>\n            <button \n              onClick={() => setAuthTab('register')} \n              className={`flex-1 px-4 py-2 text-sm font-semibold rounded-lg transition-colors ${\n                authTab === 'register' ? 'bg-white text-green-700 shadow-sm' : 'text-gray-500 hover:bg-gray-200'\n              }`}\n            >\n              Register\n            </button>\n          </div>\n\n          {authTab === 'login' ? (\n            <div className=\"space-y-6\">\n              <form onSubmit={handleLogin} className=\"space-y-4\">\n                <div>\n                  <label htmlFor=\"login-email\" className=\"block text-sm font-medium text-gray-700 mb-1\">Email</label>\n                  <input \n                    type=\"email\" \n                    name=\"email\" \n                    id=\"login-email\" \n                    required \n                    className=\"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500\" \n                  />\n                </div>\n                <div>\n                  <label htmlFor=\"login-password\" className=\"block text-sm font-medium text-gray-700 mb-1\">Password</label>\n                  <input \n                    type=\"password\" \n                    name=\"password\" \n                    id=\"login-password\" \n                    required \n                    className=\"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500\" \n                  />\n                </div>\n                <button \n                  type=\"submit\" \n                  className=\"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-xl shadow-md hover:shadow-lg transition-transform transform hover:scale-[1.02]\"\n                >\n                  Sign In\n                </button>\n              </form>\n              \n              <div className=\"relative\">\n                <div className=\"absolute inset-0 flex items-center\">\n                  <div className=\"w-full border-t border-gray-300\"></div>\n                </div>\n                <div className=\"relative flex justify-center text-sm\">\n                  <span className=\"px-2 bg-white text-gray-500\">or</span>\n                </div>\n              </div>\n              \n              <button \n                onClick={initiateGoogleSignIn}\n                className=\"w-full flex items-center justify-center gap-3 py-3 px-4 border border-gray-300 rounded-xl shadow-sm hover:shadow-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 transition-all\"\n              >\n                <svg className=\"h-5 w-5\" viewBox=\"0 0 24 24\">\n                  <path fill=\"#4285F4\" d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"/>\n                  <path fill=\"#34A853\" d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"/>\n                  <path fill=\"#FBBC05\" d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"/>\n                  <path fill=\"#EA4335\" d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"/>\n                </svg>\n                Continue with Google\n              </button>\n            </div>\n          ) : (\n            <div className=\"space-y-6\">\n              <form onSubmit={handleRegister} className=\"space-y-4\">\n                <div>\n                  <label htmlFor=\"register-name\" className=\"block text-sm font-medium text-gray-700 mb-1\">Full Name</label>\n                  <input \n                    type=\"text\" \n                    name=\"name\" \n                    id=\"register-name\" \n                    required \n                    className=\"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500\" \n                  />\n                </div>\n                <div>\n                  <label htmlFor=\"register-email\" className=\"block text-sm font-medium text-gray-700 mb-1\">Email</label>\n                  <input \n                    type=\"email\" \n                    name=\"email\" \n                    id=\"register-email\" \n                    required \n                    className=\"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500\" \n                  />\n                </div>\n                <div>\n                  <label htmlFor=\"register-password\" className=\"block text-sm font-medium text-gray-700 mb-1\">Password</label>\n                  <input \n                    type=\"password\" \n                    name=\"password\" \n                    id=\"register-password\" \n                    required \n                    minLength=\"6\"\n                    className=\"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500\" \n                  />\n                </div>\n                <button \n                  type=\"submit\" \n                  className=\"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-xl shadow-md hover:shadow-lg transition-transform transform hover:scale-[1.02]\"\n                >\n                  Create Account\n                </button>\n              </form>\n              \n              <div className=\"relative\">\n                <div className=\"absolute inset-0 flex items-center\">\n                  <div className=\"w-full border-t border-gray-300\"></div>\n                </div>\n                <div className=\"relative flex justify-center text-sm\">\n                  <span className=\"px-2 bg-white text-gray-500\">or</span>\n                </div>\n              </div>\n              \n              <button \n                onClick={initiateGoogleSignIn}\n                className=\"w-full flex items-center justify-center gap-3 py-3 px-4 border border-gray-300 rounded-xl shadow-sm hover:shadow-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 transition-all\"\n              >\n                <svg className=\"h-5 w-5\" viewBox=\"0 0 24 24\">\n                  <path fill=\"#4285F4\" d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"/>\n                  <path fill=\"#34A853\" d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"/>\n                  <path fill=\"#FBBC05\" d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"/>\n                  <path fill=\"#EA4335\" d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"/>\n                </svg>\n                Sign up with Google\n              </button>\n            </div>\n          )}\n          \n\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst TestPdfModal = ({ isOpen, onClose, currentUser }) => {\n  const [templates, setTemplates] = useState([]);\n  const [selectedTemplate, setSelectedTemplate] = useState('professional');\n  const [selectedOrientation, setSelectedOrientation] = useState('landscape');\n  const [isGenerating, setIsGenerating] = useState(false);\n  \n  // Fetch available templates when modal opens\n  useEffect(() => {\n    if (isOpen && currentUser?.is_admin) {\n      fetchTemplates();\n    }\n  }, [isOpen, currentUser]);\n\n  const fetchTemplates = async () => {\n    try {\n      const response = await fetch(`${API_BASE}/api/v1/templates`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('authToken')}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setTemplates(data.templates || []);\n      }\n    } catch (error) {\n      console.error('Error fetching templates:', error);\n    }\n  };\n\n  const generateTestPdf = async () => {\n    setIsGenerating(true);\n    try {\n      const formData = new FormData();\n      formData.append('template_name', selectedTemplate);\n      formData.append('image_orientation', selectedOrientation);\n      \n      const response = await fetch(`${API_BASE}/api/v1/test-pdf`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('authToken')}`\n        },\n        body: formData\n      });\n      \n      if (response.ok) {\n        // Download the PDF\n        const blob = await response.blob();\n        const url = window.URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.href = url;\n        a.download = `test-${selectedTemplate}-${selectedOrientation}.pdf`;\n        document.body.appendChild(a);\n        a.click();\n        window.URL.revokeObjectURL(url);\n        document.body.removeChild(a);\n        \n        // Close modal\n        onClose();\n      } else {\n        const error = await response.json();\n        alert(`Error: ${error.detail || 'Failed to generate test PDF'}`);\n      }\n    } catch (error) {\n      console.error('Error generating test PDF:', error);\n      alert('Error generating test PDF. Please try again.');\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n      <div className=\"bg-white rounded-2xl shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto\">\n        <div className=\"p-6\">\n          <div className=\"flex justify-between items-center mb-6\">\n            <h2 className=\"text-2xl font-bold text-gray-800\">Test PDF Generation</h2>\n            <button \n              onClick={onClose}\n              className=\"text-gray-400 hover:text-gray-600 transition-colors\"\n            >\n              <XMarkIcon className=\"h-6 w-6\" />\n            </button>\n          </div>\n          \n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                CSS Template\n              </label>\n              <select \n                value={selectedTemplate}\n                onChange={(e) => setSelectedTemplate(e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              >\n                {templates.map(template => (\n                  <option key={template} value={template}>\n                    {template.charAt(0).toUpperCase() + template.slice(1)}\n                  </option>\n                ))}\n              </select>\n            </div>\n            \n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Image Orientation\n              </label>\n              <select \n                value={selectedOrientation}\n                onChange={(e) => setSelectedOrientation(e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              >\n                <option value=\"landscape\">Landscape (YouTube)</option>\n                <option value=\"portrait\">Portrait (TikTok/Shorts)</option>\n              </select>\n            </div>\n            \n            <div className=\"pt-4\">\n              <button\n                onClick={generateTestPdf}\n                disabled={isGenerating}\n                className={`w-full font-bold py-3 px-4 rounded-xl shadow-md hover:shadow-lg transition-transform transform hover:scale-[1.02] ${\n                  isGenerating \n                    ? 'bg-gray-400 cursor-not-allowed' \n                    : 'bg-blue-600 hover:bg-blue-700 text-white'\n                }`}\n              >\n                {isGenerating ? 'Generating...' : 'CREATE'}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst JobStatus = ({ job, onReset }) => {\n  const [status, setStatus] = useState(job.status);\n  const [details, setDetails] = useState(job.details);\n  const [pdfUrl, setPdfUrl] = useState(null);\n  const [error, setError] = useState(null);\n\n  const statusStates = [\n    { key: 'downloading', text: 'Downloading' },\n    { key: 'transcribing', text: 'Transcribing' },\n    { key: 'analyzing', text: 'Analyzing' },\n    { key: 'extracting_frames', text: 'Extracting Frames' },\n    { key: 'generating_pdf', text: 'Generating PDF' },\n  ];\n  const currentStatusIndex = statusStates.findIndex(s => status.toLowerCase().includes(s.key));\n  \n  useEffect(() => {\n    if (status === 'completed' || status === 'failed') {\n      if (job.pdf_url) setPdfUrl(job.pdf_url);\n      return;\n    }\n\n    const interval = setInterval(async () => {\n      try {\n        const response = await fetch(`${API_BASE}/api/v1/status/${job.job_id}`);\n        if (!response.ok) throw new Error('Network response was not ok');\n        \n        const data = await response.json();\n        setStatus(data.status);\n        setDetails(data.details);\n\n        if (data.status === 'completed') {\n          setPdfUrl(data.pdf_url);\n          clearInterval(interval);\n        } else if (data.status === 'failed') {\n          setError(data.details);\n          clearInterval(interval);\n        }\n      } catch (err) {\n        setError('Failed to fetch status.');\n        clearInterval(interval);\n      }\n    }, 2000);\n\n    return () => clearInterval(interval);\n  }, [job.job_id, status, job.pdf_url]);\n\n  if (status === 'failed') {\n    return (\n      <div className=\"text-center\">\n        <h3 className=\"text-xl font-semibold text-red-600\">Generation Failed</h3>\n        <p className=\"text-gray-600 my-4\">{error || details}</p>\n        <button onClick={onReset} className=\"bg-gray-700 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-800 transition-colors\">Start Over</button>\n      </div>\n    );\n  }\n\n  if (status === 'completed' && pdfUrl) {\n    return (\n      <div className=\"text-center\">\n        <h3 className=\"text-xl font-semibold text-green-600\">Recipe Ready!</h3>\n        <p className=\"text-gray-600 my-4\">Your recipe has been generated successfully.</p>\n        <div className=\"flex gap-4 justify-center\">\n          <a href={`${API_BASE}${pdfUrl}`} target=\"_blank\" rel=\"noopener noreferrer\" className=\"inline-flex items-center gap-2 bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors\">\n            <ArrowDownTrayIcon className=\"h-5 w-5\" /> Download PDF\n          </a>\n          <button onClick={onReset} className=\"bg-gray-200 text-gray-800 font-bold py-3 px-6 rounded-lg hover:bg-gray-300 transition-colors\">Create Another</button>\n        </div>\n      </div>\n    );\n  }\n\n  // Determine current step based on status\n  const getCurrentStep = () => {\n    if (status.toLowerCase().includes('downloading') || status.toLowerCase().includes('processing')) return 1;\n    if (status.toLowerCase().includes('transcribing')) return 2;\n    if (status.toLowerCase().includes('analyzing')) return 3;\n    if (status.toLowerCase().includes('frames') || status.toLowerCase().includes('extracting')) return 4;\n    if (status.toLowerCase().includes('generating') || status.toLowerCase().includes('pdf')) return 5;\n    return 1; // Default to step 1\n  };\n\n  const currentStep = getCurrentStep();\n  const totalSteps = 5;\n\n  return (\n    <div className=\"text-center\">\n      <div className=\"mb-4\">\n        <span className=\"inline-block bg-blue-100 text-blue-800 text-sm font-medium px-3 py-1 rounded-full\">\n          Step {currentStep}/{totalSteps}\n        </span>\n      </div>\n      <h3 className=\"text-xl font-semibold text-blue-600\">Processing Video</h3>\n      <p className=\"text-gray-600 my-4\">{details}</p>\n      <div className=\"flex justify-center my-6\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n      </div>\n      <button onClick={onReset} className=\"bg-gray-200 text-gray-700 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300\">Start Over</button>\n    </div>\n  );\n};\n\n\nexport default function Food2Guide() {\n  const [activeTab, setActiveTab] = useState('paste');\n  const [videoUrl, setVideoUrl] = useState('');\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [language, setLanguage] = useState('en');\n  const [searchResults, setSearchResults] = useState([]);\n  const [selectedVideoId, setSelectedVideoId] = useState(null);\n  const [job, setJob] = useState(null);\n  const [authToken, setAuthToken] = useState(localStorage.getItem('authToken'));\n  const [currentUser, setCurrentUser] = useState(null);\n  const [authTab, setAuthTab] = useState('login');\n  const [isSearching, setIsSearching] = useState(false);\n  const [usageStatus, setUsageStatus] = useState(null);\n  const [isAuthModalOpen, setIsAuthModalOpen] = useState(false);\n  const [isTestPdfModalOpen, setIsTestPdfModalOpen] = useState(false);\n  // 1. Add state for welcome snackbar\n  const [showWelcome, setShowWelcome] = useState(false);\n  \n  // Advanced Settings state\n  const [showAdvancedSettings, setShowAdvancedSettings] = useState(false);\n  const [showImages, setShowImages] = useState(true); // Yes (default)\n  const [dietPreference, setDietPreference] = useState('regular'); // regular, vegetarian, vegan\n  const [allergies, setAllergies] = useState({ gluten: false, nuts: false, eggs: false, dairy: false, shellfish: false });\n  const [instructionLevel, setInstructionLevel] = useState('intermediate'); // beginner, intermediate (default), expert\n  const [showCalories, setShowCalories] = useState(false); // No (default)\n  const [pdfStyle, setPdfStyle] = useState('modern');\n  const [includeNutrition, setIncludeNutrition] = useState(true);\n  const [includeTips, setIncludeTips] = useState(true);\n  const [maxSteps, setMaxSteps] = useState(10);\n  const [imageQuality, setImageQuality] = useState('high');\n  const [videoSource, setVideoSource] = useState('youtube'); // youtube eller tiktok\n\n  const languages = [\n    { code: 'en', name: 'English' },\n    { code: 'sv', name: 'Svenska' },\n    { code: 'no', name: 'Norsk' },\n    { code: 'da', name: 'Dansk' },\n    { code: 'de', name: 'Deutsch' },\n    { code: 'fr', name: 'Français' },\n    { code: 'es', name: 'Español' },\n  ];\n\n  useEffect(() => {\n    const token = localStorage.getItem('authToken');\n    if (token) {\n      setAuthToken(token);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (authToken) {\n      checkAuthStatus();\n    } else {\n      setCurrentUser(null);\n    }\n\n    // Always check usage status\n    checkUsageStatus();\n\n    const urlParams = new URLSearchParams(window.location.search);\n    const code = urlParams.get('code');\n    if (code) {\n        handleGoogleOAuthCallback(code);\n        window.history.replaceState({}, document.title, window.location.pathname);\n    }\n  }, [authToken]);\n\n  const checkAuthStatus = async () => {\n    if (authToken) {\n      try {\n        const response = await fetch(`${API_BASE}/api/v1/auth/me`, {\n          headers: { 'Authorization': `Bearer ${authToken}` }\n        });\n        \n        if (response.ok) {\n          const user = await response.json();\n          setCurrentUser(user);\n        } else {\n          handleLogout();\n        }\n      } catch (error) {\n        console.error('Auth check error:', error);\n        handleLogout();\n      }\n    }\n  };\n\n  const checkUsageStatus = async () => {\n    try {\n      const headers = {};\n      if (authToken) {\n        headers['Authorization'] = `Bearer ${authToken}`;\n      }\n      \n      const response = await fetch(`${API_BASE}/api/v1/usage-status`, { headers });\n      if (response.ok) {\n        const status = await response.json();\n        setUsageStatus(status);\n      }\n    } catch (error) {\n      console.error('Usage status check error:', error);\n    }\n  };\n\n  const handleAuthAction = async (url, body) => {\n    try {\n      const response = await fetch(url, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(body)\n      });\n      \n      if (response.ok) {\n        const data = await response.json();\n        localStorage.setItem('authToken', data.access_token);\n        setAuthToken(data.access_token);\n        setIsAuthModalOpen(false); // Close modal on successful auth\n        setShowWelcome(true);\n        setTimeout(() => setShowWelcome(false), 4000);\n      } else {\n        const error = await response.json();\n        alert(error.detail || 'Action failed');\n      }\n    } catch (error) {\n      alert('An error occurred. Please try again.');\n    }\n  };\n\n  const handleLogin = (e) => {\n    e.preventDefault();\n    const formData = new FormData(e.target);\n    const email = formData.get('email');\n    const password = formData.get('password');\n    \n    // Use regular login endpoint for both admin and regular users\n    const body = { email, password };\n    handleAuthAction(`${API_BASE}/api/v1/auth/login`, body);\n  };\n\n  const handleRegister = (e) => {\n    e.preventDefault();\n    const formData = new FormData(e.target);\n    const body = {\n      full_name: formData.get('name'),\n      email: formData.get('email'),\n      password: formData.get('password')\n    };\n    handleAuthAction(`${API_BASE}/api/v1/auth/register`, body);\n  };\n\n\n\n  const handleLogout = () => {\n    setAuthToken(null);\n    setCurrentUser(null);\n    localStorage.removeItem('authToken');\n  };\n\n  const initiateGoogleSignIn = async () => {\n    try {\n      const urlResponse = await fetch(`${API_BASE}/api/v1/auth/google/url`);\n      if (!urlResponse.ok) throw new Error('Failed to get Google OAuth URL');\n      const urlData = await urlResponse.json();\n      if (!urlData.auth_url) {\n          alert('Google Sign-In is not available.');\n        return;\n      }\n      setIsAuthModalOpen(false); // Close modal before redirecting\n      window.location.href = urlData.auth_url;\n    } catch (error) {\n      console.error('Google Sign-In error:', error);\n      alert('Could not initiate Google Sign-In.');\n    }\n  };\n\n  const handleGoogleOAuthCallback = async (code) => {\n    try {\n      const authResponse = await fetch(`${API_BASE}/api/v1/auth/google/callback`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ code })\n      });\n      if (authResponse.ok) {\n        const data = await authResponse.json();\n            localStorage.setItem('authToken', data.access_token);\n        setAuthToken(data.access_token);\n        setIsAuthModalOpen(false); // Close modal on successful auth\n      } else {\n        const error = await authResponse.json();\n        alert(error.detail || 'Google Sign-In failed');\n      }\n    } catch (error) {\n      console.error('Google OAuth callback error:', error);\n        alert('Google Sign-In failed.');\n    }\n  };\n\n  // Ändra searchYouTube så att den skickar med videoSource\n  const searchYouTube = async () => {\n    if (!searchQuery.trim()) return;\n    setIsSearching(true);\n    try {\n      const response = await fetch(`${API_BASE}/api/v1/search`, {\n        method: 'POST',\n        headers: { \n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${authToken}` \n        },\n        body: JSON.stringify({ query: searchQuery, language, source: videoSource })\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setSearchResults(data.results);\n      } else {\n        alert('Search failed.');\n      }\n    } catch (error) {\n      alert('An error occurred during search.');\n    } finally {\n      setIsSearching(false);\n    }\n  };\n\n  const processVideo = async () => {\n    if (!videoUrl && !selectedVideoId) {\n      alert('Please provide a video URL or select a video.');\n        return;\n      }\n      \n    setJob(null);\n    \n    try {\n      const headers = {\n        'Content-Type': 'application/json'\n      };\n      \n      // Add auth header only if user is logged in\n      if (authToken) {\n        headers['Authorization'] = `Bearer ${authToken}`;\n      }\n\n      const response = await fetch(`${API_BASE}/api/v1/generate`, {\n        method: 'POST',\n        headers: headers,\n        body: JSON.stringify({\n          youtube_url: videoUrl,\n          video_id: selectedVideoId,\n          language: language,\n          pdf_style: pdfStyle,\n          include_nutrition: includeNutrition,\n          include_tips: includeTips,\n          max_steps: maxSteps,\n          image_quality: imageQuality,\n          // Advanced Settings\n          show_images: showImages,\n          diet_preference: dietPreference,\n          allergies: Object.keys(allergies).filter(a => allergies[a]),\n          instruction_level: instructionLevel,\n          show_calories: showCalories,\n        }),\n      });\n\n      if (response.status === 202) {\n        const jobData = await response.json();\n        setJob(jobData);\n      \n        // Update usage status after successful job creation\n        setTimeout(() => {\n          checkUsageStatus();\n      }, 1000);\n      } else {\n        const error = await response.json();\n        alert(`Error: ${error.detail}`);\n      }\n    } catch (error) {\n      alert('An unexpected error occurred.');\n    }\n  };\n  \n  const resetAll = () => {\n    setVideoUrl('');\n    setSearchQuery('recipe');\n    setSearchResults([]);\n    setSelectedVideoId(null);\n    setJob(null);\n  };\n  \n  // Show login screen only if explicitly requested, not by default\n  const showLoginScreen = false; // Changed from requiring login to allowing anonymous usage\n\n  return (\n    <div className=\"font-poppins bg-gradient-to-br from-[#d6e5dd] to-[#eaf3ef] min-h-screen\">\n      <Header currentUser={currentUser} handleLogout={handleLogout} showAuthModal={() => setIsAuthModalOpen(true)} usageStatus={usageStatus} showTestPdfModal={() => setIsTestPdfModalOpen(true)} />\n      <AuthModal\n        isOpen={isAuthModalOpen}\n        onClose={() => setIsAuthModalOpen(false)}\n        handleLogin={handleLogin}\n        handleRegister={handleRegister}\n        initiateGoogleSignIn={initiateGoogleSignIn}\n        authTab={authTab}\n        setAuthTab={setAuthTab}\n      />\n      {isTestPdfModalOpen && (\n        <TestPdfModal \n          isOpen={isTestPdfModalOpen}\n          onClose={() => setIsTestPdfModalOpen(false)}\n          currentUser={currentUser}\n        />\n      )}\n      {showWelcome && (\n        <div className=\"fixed top-6 left-1/2 -translate-x-1/2 z-50 bg-green-600 text-white px-6 py-3 rounded-xl shadow-lg text-lg font-semibold animate-fade-in-out\">\n          Welcome, {currentUser?.full_name || currentUser?.email}!\n        </div>\n      )}\n      \n      <main className=\"max-w-xl mx-auto py-10 px-8\">\n        <div className=\"relative bg-white shadow-xl rounded-2xl p-10\">\n          <SparklesIcon className=\"absolute top-0 right-0 h-32 w-32 text-amber-300/30 -translate-y-1/3 translate-x-1/4\" />\n          \n          {job ? (\n             <JobStatus job={job} onReset={resetAll} />\n          ) : (\n            <>\n              <h1 className=\"text-xl font-bold tracking-tight text-gray-800 text-center\">\n                Turn cooking videos into step-by-step recipes.\n              </h1>\n              {usageStatus && usageStatus.is_authenticated && (\n                <div className=\"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg text-center\">\n                  <p className=\"text-sm text-green-800 font-semibold\">\n                    Unlimited conversions — enjoy!\n                  </p>\n                </div>\n              )}\n              {usageStatus && !usageStatus.is_authenticated && (\n                <div className=\"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg text-center\">\n                  <p className=\"text-sm text-blue-800\">\n                    <span className=\"font-semibold\">{usageStatus.remaining_usage}</span> free conversions remaining today. \n                    <button onClick={() => setIsAuthModalOpen(true)} className=\"ml-1 text-blue-600 underline hover:text-blue-800\">\n                      Sign in for unlimited access\n                    </button>\n                  </p>\n                </div>\n              )}\n              <div className=\"mt-8 space-y-8\">\n                <div>\n                   <div className=\"flex gap-2 bg-gray-100 p-1 rounded-xl shadow-inner justify-center\">\n                    <button onClick={() => setActiveTab('paste')} className={`w-full text-sm rounded-lg px-4 py-2 flex items-center justify-center gap-2 transition-colors ${activeTab === 'paste' ? 'bg-green-600 text-white font-semibold shadow-sm' : 'bg-transparent text-gray-600 hover:bg-white/50'}`}>\n                      <LinkIcon className=\"h-5 w-5\"/>\n                      <span>Paste Link</span>\n                    </button>\n                    <button onClick={() => setActiveTab('search')} className={`w-full text-sm rounded-lg px-4 py-2 flex items-center justify-center gap-2 transition-colors ${activeTab === 'search' ? 'bg-green-600 text-white font-semibold shadow-sm' : 'bg-transparent text-gray-600 hover:bg-white/50'}`}>\n                      <MagnifyingGlassIcon className=\"h-5 w-5\"/>\n                      <span>Search YouTube</span>\n                    </button>\n                  </div>\n                  <div className=\"mt-6\">\n                    {activeTab === 'paste' && (\n                      <div>\n                        <input\n                          id=\"video-url\"\n                          type=\"text\"\n                          value={videoUrl}\n                          onChange={(e) => { setVideoUrl(e.target.value); setSelectedVideoId(null); }}\n                          placeholder=\"Paste a YouTube or TikTok recipe video…\"\n                          className=\"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 text-sm\"\n                        />\n                      </div>\n                    )}\n                    {activeTab === 'search' && (\n                      <div className=\"flex gap-2\">\n                        <select\n                          value={videoSource}\n                          onChange={e => setVideoSource(e.target.value)}\n                          className=\"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-green-500\"\n                        >\n                          <option value=\"youtube\">YouTube</option>\n                          <option value=\"tiktok\">TikTok</option>\n                        </select>\n                        <input\n                          id=\"search-query\"\n                          type=\"text\"\n                          value={searchQuery}\n                          onChange={(e) => setSearchQuery(e.target.value)}\n                          onKeyPress={(e) => e.key === 'Enter' && searchYouTube()}\n                          placeholder=\"Search for YouTube or TikTok video...\"\n                          className=\"flex-grow px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 text-sm\"\n                        />\n                        <button onClick={searchYouTube} disabled={isSearching} className=\"bg-gray-700 text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors disabled:bg-gray-400\">\n                          {isSearching ? '...' : <MagnifyingGlassIcon className=\"h-5 w-5\" />}\n                        </button>\n                      </div>\n                    )}\n                  </div>\n                </div>\n                {searchResults.length > 0 && (\n                  <div className=\"space-y-4\">\n                    <h3 className=\"text-gray-800 text-sm font-bold tracking-tight\">Search Results</h3>\n                    <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n                      {searchResults.map((video) => (\n                        <div\n                          key={video.id}\n                          onClick={() => { setSelectedVideoId(video.id); setVideoUrl(`https://www.youtube.com/watch?v=${video.id}`); }}\n                          className={`cursor-pointer border-2 rounded-xl overflow-hidden transition-all duration-200 ${selectedVideoId === video.id ? 'border-green-500 shadow-lg scale-105' : 'border-transparent hover:border-green-400/50'}`}\n                        >\n                          <img src={video.thumbnail} alt={video.title} className=\"w-full h-28 object-cover\" />\n                          <div className=\"p-3\">\n                            <p className=\"font-semibold text-xs text-gray-800 line-clamp-2\">{video.title}</p>\n                            <p className=\"text-xs text-gray-500 mt-1\">{video.channel}</p>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                )}\n                <div>\n                  <select\n                    id=\"language-select\"\n                    value={language}\n                    onChange={(e) => setLanguage(e.target.value)}\n                    className=\"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 text-sm text-gray-700\"\n                  >\n                    {languages.map(lang => <option key={lang.code} value={lang.code}>{lang.name}</option>)}\n                  </select>\n                </div>\n                \n                {/* Advanced Settings - Only for logged in users */}\n                {currentUser && (\n                  <div className=\"border-t border-gray-200 pt-6\">\n                    <button\n                      onClick={() => setShowAdvancedSettings(!showAdvancedSettings)}\n                      className=\"flex items-center gap-2 text-sm text-gray-600 hover:text-gray-800 transition-colors\"\n                    >\n                      <WrenchScrewdriverIcon className=\"h-4 w-4\" />\n                      <span>Advanced Settings</span>\n                      <svg\n                        className={`h-4 w-4 transition-transform ${showAdvancedSettings ? 'rotate-180' : ''}`}\n                        fill=\"none\"\n                        stroke=\"currentColor\"\n                        viewBox=\"0 0 24 24\"\n                      >\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                      </svg>\n                    </button>\n                    \n                    {showAdvancedSettings && (\n                      <div className=\"mt-4 space-y-4 p-4 bg-gray-50 rounded-lg\">\n                        {/* 1. Show images */}\n                        <div>\n                          <label className=\"block text-sm font-medium text-gray-700 mb-2\">Show images</label>\n                          <div className=\"flex gap-4\">\n                            <label className=\"flex items-center\">\n                              <input type=\"radio\" name=\"showImages\" checked={showImages} onChange={() => setShowImages(true)} className=\"mr-2\" />\n                              Yes (default)\n                            </label>\n                            <label className=\"flex items-center\">\n                              <input type=\"radio\" name=\"showImages\" checked={!showImages} onChange={() => setShowImages(false)} className=\"mr-2\" />\n                              No\n                            </label>\n                          </div>\n                        </div>\n                        \n                        {/* 2. Diet preference */}\n                        <div>\n                          <label className=\"block text-sm font-medium text-gray-700 mb-2\">Diet preference</label>\n                          <div className=\"flex gap-4\">\n                            <label className=\"flex items-center\">\n                              <input type=\"radio\" name=\"dietPreference\" value=\"regular\" checked={dietPreference === 'regular'} onChange={() => setDietPreference('regular')} className=\"mr-2\" />\n                              Regular (default)\n                            </label>\n                            <label className=\"flex items-center\">\n                              <input type=\"radio\" name=\"dietPreference\" value=\"vegetarian\" checked={dietPreference === 'vegetarian'} onChange={() => setDietPreference('vegetarian')} className=\"mr-2\" />\n                              Vegetarian\n                            </label>\n                            <label className=\"flex items-center\">\n                              <input type=\"radio\" name=\"dietPreference\" value=\"vegan\" checked={dietPreference === 'vegan'} onChange={() => setDietPreference('vegan')} className=\"mr-2\" />\n                              Vegan\n                            </label>\n                          </div>\n                        </div>\n                        \n                        {/* 3. Allergies */}\n                        <div>\n                          <label className=\"block text-sm font-medium text-gray-700 mb-2\">Allergies</label>\n                          <div className=\"flex flex-wrap gap-4\">\n                            <label className=\"flex items-center\">\n                              <input type=\"checkbox\" checked={allergies.gluten} onChange={() => setAllergies(a => ({ ...a, gluten: !a.gluten }))} className=\"mr-2\" />\n                              Gluten\n                            </label>\n                            <label className=\"flex items-center\">\n                              <input type=\"checkbox\" checked={allergies.nuts} onChange={() => setAllergies(a => ({ ...a, nuts: !a.nuts }))} className=\"mr-2\" />\n                              Nuts\n                            </label>\n                            <label className=\"flex items-center\">\n                              <input type=\"checkbox\" checked={allergies.eggs} onChange={() => setAllergies(a => ({ ...a, eggs: !a.eggs }))} className=\"mr-2\" />\n                              Eggs\n                            </label>\n                            <label className=\"flex items-center\">\n                              <input type=\"checkbox\" checked={allergies.dairy} onChange={() => setAllergies(a => ({ ...a, dairy: !a.dairy }))} className=\"mr-2\" />\n                              Dairy\n                            </label>\n                            <label className=\"flex items-center\">\n                              <input type=\"checkbox\" checked={allergies.shellfish} onChange={() => setAllergies(a => ({ ...a, shellfish: !a.shellfish }))} className=\"mr-2\" />\n                              Shellfish\n                            </label>\n                          </div>\n                        </div>\n                        \n                        {/* 4. Instruction detail level */}\n                        <div>\n                          <label className=\"block text-sm font-medium text-gray-700 mb-2\">Instruction detail level</label>\n                          <div className=\"flex gap-4\">\n                            <label className=\"flex items-center\">\n                              <input type=\"radio\" name=\"instructionLevel\" value=\"beginner\" checked={instructionLevel === 'beginner'} onChange={() => setInstructionLevel('beginner')} className=\"mr-2\" />\n                              Beginner\n                            </label>\n                            <label className=\"flex items-center\">\n                              <input type=\"radio\" name=\"instructionLevel\" value=\"intermediate\" checked={instructionLevel === 'intermediate'} onChange={() => setInstructionLevel('intermediate')} className=\"mr-2\" />\n                              Intermediate (default)\n                            </label>\n                            <label className=\"flex items-center\">\n                              <input type=\"radio\" name=\"instructionLevel\" value=\"expert\" checked={instructionLevel === 'expert'} onChange={() => setInstructionLevel('expert')} className=\"mr-2\" />\n                              Expert\n                            </label>\n                          </div>\n                        </div>\n                        \n                        {/* 5. Show calories / nutrition info */}\n                        <div>\n                          <label className=\"block text-sm font-medium text-gray-700 mb-2\">Show calories / nutrition info</label>\n                          <div className=\"flex gap-4\">\n                            <label className=\"flex items-center\">\n                              <input type=\"radio\" name=\"showCalories\" checked={showCalories} onChange={() => setShowCalories(true)} className=\"mr-2\" />\n                              Yes\n                            </label>\n                            <label className=\"flex items-center\">\n                              <input type=\"radio\" name=\"showCalories\" checked={!showCalories} onChange={() => setShowCalories(false)} className=\"mr-2\" />\n                              No (default)\n                            </label>\n                          </div>\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                )}\n                \n\n                \n                <div className=\"pt-6 border-t border-gray-200 flex flex-col items-center gap-6\">\n                  <button onClick={processVideo} className=\"flex items-center gap-2 w-full justify-center bg-amber-500 hover:bg-amber-600 text-white font-bold rounded-xl shadow-md px-6 py-3 transition-transform hover:scale-[1.02]\">\n                    <SparklesIcon className=\"h-6 w-6 mr-2\" />\n                    <span>Generate Recipe</span>\n                  </button>\n                </div>\n              </div>\n            </>\n          )}\n        </div>\n      </main>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}